Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 5
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	7	dl_454_sample_and_run_mapping
	188	dl_sample_and_run_mapping
	32	dl_sample_and_run_mapping_HK_samples
	7	parse_454_gene_level_cov_and_det
	300	parse_gene_level_cov_and_det
	54	parse_gene_level_cov_and_det_HK_samples
	589

[Mon Nov 30 23:58:54 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_038_5m_0.1-0.22_girus.bam
    jobid: 181
    wildcards: ID=TARA_038_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_038_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_038_5m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:58:54 2020]
Finished job 181.
1 of 589 steps (0.17%) done

[Mon Nov 30 23:58:54 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_196_5m_0.22-3_prok.bam
    jobid: 336
    wildcards: ID=TARA_196_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_196_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_196_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:54 2020]
Finished job 336.
2 of 589 steps (0.34%) done

[Mon Nov 30 23:58:54 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_201_36m_0.22-3_prok.bam
    jobid: 337
    wildcards: ID=TARA_201_36m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_201_36m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_201_36m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:54 2020]
Finished job 337.
3 of 589 steps (0.51%) done

[Mon Nov 30 23:58:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD118.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD118-gene-coverages.tsv
    jobid: 435
    wildcards: ID=OSD118


        pileup.sh -in ../mapping-files/OSD118.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD118-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD118-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD118-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD118-gene-cov.tmp > ../mapping-files/OSD118-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD118-gene-cov-and-det.tmp ../mapping-files/OSD118-gene-cov.tmp
        
[Mon Nov 30 23:58:54 2020]
Finished job 435.
4 of 589 steps (0.68%) done

[Mon Nov 30 23:58:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_206_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_206_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 757
    wildcards: ID=TARA_206_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_206_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_206_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:58:54 2020]
Finished job 757.
5 of 589 steps (0.85%) done

[Mon Nov 30 23:58:54 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD146.bam
    jobid: 41
    wildcards: ID=OSD146


        curr_run_accs=$(grep -w -m 1 "^OSD146" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD146 ${curr_run_accs}
        
[Mon Nov 30 23:58:54 2020]
Finished job 41.
6 of 589 steps (1%) done

[Mon Nov 30 23:58:54 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_5m_0.45-0.8_girus.bam
    jobid: 265
    wildcards: ID=TARA_122_5m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_5m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_5m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:58:55 2020]
Finished job 265.
7 of 589 steps (1%) done

[Mon Nov 30 23:58:55 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_007_42m_0.22-1.6_girus.bam
    jobid: 155
    wildcards: ID=TARA_007_42m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_007_42m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_007_42m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:58:55 2020]
Finished job 155.
8 of 589 steps (1%) done

[Mon Nov 30 23:58:55 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_093_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_093_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 660
    wildcards: ID=TARA_093_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_093_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_093_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_093_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_093_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_093_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_093_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_093_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_093_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:58:55 2020]
Finished job 660.
9 of 589 steps (2%) done

[Mon Nov 30 23:58:55 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD39.bam
    jobid: 100
    wildcards: ID=OSD39


        curr_run_accs=$(grep -w -m 1 "^OSD39" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD39 ${curr_run_accs}
        
[Mon Nov 30 23:58:55 2020]
Finished job 100.
10 of 589 steps (2%) done

[Mon Nov 30 23:58:55 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/A4-07-300m-34An.bam
    jobid: 363
    wildcards: ID=A4-07-300m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^A4-07-300m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^A4-07-300m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 A4-07-300m-34An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:58:55 2020]
Finished job 363.
11 of 589 steps (2%) done

[Mon Nov 30 23:58:55 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD147.bam
    jobid: 42
    wildcards: ID=OSD147


        curr_run_accs=$(grep -w -m 1 "^OSD147" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD147 ${curr_run_accs}
        
[Mon Nov 30 23:58:55 2020]
Finished job 42.
12 of 589 steps (2%) done

[Mon Nov 30 23:58:55 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD38.bam
    jobid: 99
    wildcards: ID=OSD38


        curr_run_accs=$(grep -w -m 1 "^OSD38" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD38 ${curr_run_accs}
        
[Mon Nov 30 23:58:55 2020]
Finished job 99.
13 of 589 steps (2%) done

[Mon Nov 30 23:58:55 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD9.bam
    jobid: 141
    wildcards: ID=OSD9


        curr_run_accs=$(grep -w -m 1 "^OSD9" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD9 ${curr_run_accs}
        
[Mon Nov 30 23:58:55 2020]
Finished job 141.
14 of 589 steps (2%) done

[Mon Nov 30 23:58:55 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_007_5m_0.22-1.6_girus.bam
    jobid: 156
    wildcards: ID=TARA_007_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_007_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_007_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:58:55 2020]
Finished job 156.
15 of 589 steps (3%) done

[Mon Nov 30 23:58:56 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_038_5m_0.22-1.6_girus.bam
    jobid: 182
    wildcards: ID=TARA_038_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_038_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_038_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:58:56 2020]
Finished job 182.
16 of 589 steps (3%) done

[Mon Nov 30 23:58:56 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_600m_0.1-0.22_girus.bam
    jobid: 266
    wildcards: ID=TARA_122_600m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_600m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_600m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:58:56 2020]
Finished job 266.
17 of 589 steps (3%) done

[Mon Nov 30 23:58:56 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_206_411m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_206_411m_0.22-3_prok-gene-coverages.tsv
    jobid: 756
    wildcards: ID=TARA_206_411m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_206_411m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_206_411m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:58:56 2020]
Finished job 756.
18 of 589 steps (3%) done

[Mon Nov 30 23:58:56 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/P06-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/P06-0m-8Ar-gene-coverages.tsv
    jobid: 812
    wildcards: ID=P06-0m-8Ar


        pileup.sh -in ../mapping-files-HK/P06-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/P06-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/P06-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/P06-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/P06-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/P06-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/P06-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/P06-0m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:58:56 2020]
Finished job 812.
19 of 589 steps (3%) done

[Mon Nov 30 23:58:56 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_093_35m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_093_35m_0.22-3_prok-gene-coverages.tsv
    jobid: 659
    wildcards: ID=TARA_093_35m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_093_35m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_093_35m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_093_35m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_093_35m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_093_35m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_093_35m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_093_35m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_093_35m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:58:56 2020]
Finished job 659.
20 of 589 steps (3%) done

[Mon Nov 30 23:58:56 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_004_40m_0.22-1.6_prok.bam
    jobid: 153
    wildcards: ID=TARA_004_40m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_004_40m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_004_40m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:56 2020]
Finished job 153.
21 of 589 steps (4%) done

[Mon Nov 30 23:58:56 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_004_5m_0.22-1.6_prok.bam
    jobid: 154
    wildcards: ID=TARA_004_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_004_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_004_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:56 2020]
Finished job 154.
22 of 589 steps (4%) done

[Mon Nov 30 23:58:56 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD117.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD117-gene-coverages.tsv
    jobid: 434
    wildcards: ID=OSD117


        pileup.sh -in ../mapping-files/OSD117.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD117-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD117-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD117-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD117-gene-cov.tmp > ../mapping-files/OSD117-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD117-gene-cov-and-det.tmp ../mapping-files/OSD117-gene-cov.tmp
        
[Mon Nov 30 23:58:56 2020]
Finished job 434.
23 of 589 steps (4%) done

[Mon Nov 30 23:58:56 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_201_441m_0.22-3_prok.bam
    jobid: 338
    wildcards: ID=TARA_201_441m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_201_441m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_201_441m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:57 2020]
Finished job 338.
24 of 589 steps (4%) done

[Mon Nov 30 23:58:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_208_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_208_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 758
    wildcards: ID=TARA_208_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_208_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_208_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:58:57 2020]
Finished job 758.
25 of 589 steps (4%) done

[Mon Nov 30 23:58:57 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD35.bam
    jobid: 96
    wildcards: ID=OSD35


        curr_run_accs=$(grep -w -m 1 "^OSD35" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD35 ${curr_run_accs}
        
[Mon Nov 30 23:58:57 2020]
Finished job 96.
26 of 589 steps (4%) done

[Mon Nov 30 23:58:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_205_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_205_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 755
    wildcards: ID=TARA_205_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_205_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_205_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:58:57 2020]
Finished job 755.
27 of 589 steps (5%) done

[Mon Nov 30 23:58:57 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N07-3800m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N07-3800m-8Ar-gene-coverages.tsv
    jobid: 811
    wildcards: ID=N07-3800m-8Ar


        pileup.sh -in ../mapping-files-HK/N07-3800m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N07-3800m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N07-3800m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N07-3800m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N07-3800m-8Ar-gene-cov.tmp > ../mapping-files-HK/N07-3800m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N07-3800m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N07-3800m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:58:57 2020]
Finished job 811.
28 of 589 steps (5%) done

[Mon Nov 30 23:58:57 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD37.bam
    jobid: 98
    wildcards: ID=OSD37


        curr_run_accs=$(grep -w -m 1 "^OSD37" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD37 ${curr_run_accs}
        
[Mon Nov 30 23:58:57 2020]
Finished job 98.
29 of 589 steps (5%) done

[Mon Nov 30 23:58:57 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_009_55m_0.22-1.6_girus.bam
    jobid: 157
    wildcards: ID=TARA_009_55m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_009_55m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_009_55m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:58:57 2020]
Finished job 157.
30 of 589 steps (5%) done

[Mon Nov 30 23:58:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_078_5m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 655
    wildcards: ID=TARA_078_5m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_078_5m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:58:57 2020]
Finished job 655.
31 of 589 steps (5%) done

[Mon Nov 30 23:58:57 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD36.bam
    jobid: 97
    wildcards: ID=OSD36


        curr_run_accs=$(grep -w -m 1 "^OSD36" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD36 ${curr_run_accs}
        
[Mon Nov 30 23:58:57 2020]
Finished job 97.
32 of 589 steps (5%) done

[Mon Nov 30 23:58:57 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_194_5m_0.22-3_prok.bam
    jobid: 335
    wildcards: ID=TARA_194_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_194_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_194_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:58 2020]
Finished job 335.
33 of 589 steps (6%) done

[Mon Nov 30 23:58:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD116.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD116-gene-coverages.tsv
    jobid: 433
    wildcards: ID=OSD116


        pileup.sh -in ../mapping-files/OSD116.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD116-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD116-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD116-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD116-gene-cov.tmp > ../mapping-files/OSD116-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD116-gene-cov-and-det.tmp ../mapping-files/OSD116-gene-cov.tmp
        
[Mon Nov 30 23:58:58 2020]
Finished job 433.
34 of 589 steps (6%) done

[Mon Nov 30 23:58:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_078_800m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 657
    wildcards: ID=TARA_078_800m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_078_800m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:58:58 2020]
Finished job 657.
35 of 589 steps (6%) done

[Mon Nov 30 23:58:58 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/A5-10-0m-34An.bam
    jobid: 364
    wildcards: ID=A5-10-0m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^A5-10-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^A5-10-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 A5-10-0m-34An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:58:58 2020]
Finished job 364.
36 of 589 steps (6%) done

[Mon Nov 30 23:58:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_201_441m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_201_441m_0.22-3_prok-gene-coverages.tsv
    jobid: 752
    wildcards: ID=TARA_201_441m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_201_441m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_201_441m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:58:58 2020]
Finished job 752.
37 of 589 steps (6%) done

[Mon Nov 30 23:58:58 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_003_5m_0.22-1.6_girus.bam
    jobid: 152
    wildcards: ID=TARA_003_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_003_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_003_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:58:58 2020]
Finished job 152.
38 of 589 steps (6%) done

[Mon Nov 30 23:58:58 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_194_35m_0.22-3_prok.bam
    jobid: 334
    wildcards: ID=TARA_194_35m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_194_35m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_194_35m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:58 2020]
Finished job 334.
39 of 589 steps (7%) done

[Mon Nov 30 23:58:58 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_201_5m_0.22-3_prok.bam
    jobid: 339
    wildcards: ID=TARA_201_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_201_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_201_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:58 2020]
Finished job 339.
40 of 589 steps (7%) done

[Mon Nov 30 23:58:58 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/A5-10-1000m-34An.bam
    jobid: 365
    wildcards: ID=A5-10-1000m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^A5-10-1000m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^A5-10-1000m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 A5-10-1000m-34An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:58:59 2020]
Finished job 365.
41 of 589 steps (7%) done

[Mon Nov 30 23:58:59 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD98.bam
    jobid: 150
    wildcards: ID=OSD98


        curr_run_accs=$(grep -w -m 1 "^OSD98" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD98 ${curr_run_accs}
        
[Mon Nov 30 23:58:59 2020]
Finished job 150.
42 of 589 steps (7%) done

[Mon Nov 30 23:58:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD4.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD4-gene-coverages.tsv
    jobid: 515
    wildcards: ID=OSD4


        pileup.sh -in ../mapping-files/OSD4.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD4-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD4-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD4-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD4-gene-cov.tmp > ../mapping-files/OSD4-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD4-gene-cov-and-det.tmp ../mapping-files/OSD4-gene-cov.tmp
        
[Mon Nov 30 23:58:59 2020]
Finished job 515.
43 of 589 steps (7%) done

[Mon Nov 30 23:58:59 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_193_5m_0.22-3_prok.bam
    jobid: 333
    wildcards: ID=TARA_193_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_193_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_193_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:58:59 2020]
Finished job 333.
44 of 589 steps (7%) done

[Mon Nov 30 23:58:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD115.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD115-gene-coverages.tsv
    jobid: 432
    wildcards: ID=OSD115


        pileup.sh -in ../mapping-files/OSD115.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD115-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD115-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD115-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD115-gene-cov.tmp > ../mapping-files/OSD115-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD115-gene-cov-and-det.tmp ../mapping-files/OSD115-gene-cov.tmp
        
[Mon Nov 30 23:58:59 2020]
Finished job 432.
45 of 589 steps (8%) done

[Mon Nov 30 23:58:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_036_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 589
    wildcards: ID=TARA_036_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_036_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:58:59 2020]
Finished job 589.
46 of 589 steps (8%) done

[Mon Nov 30 23:58:59 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD17.bam
    jobid: 66
    wildcards: ID=OSD17


        curr_run_accs=$(grep -w -m 1 "^OSD17" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD17 ${curr_run_accs}
        
[Mon Nov 30 23:58:59 2020]
Finished job 66.
47 of 589 steps (8%) done

[Mon Nov 30 23:58:59 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD99.bam
    jobid: 151
    wildcards: ID=OSD99


        curr_run_accs=$(grep -w -m 1 "^OSD99" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD99 ${curr_run_accs}
        
[Mon Nov 30 23:58:59 2020]
Finished job 151.
48 of 589 steps (8%) done

[Mon Nov 30 23:58:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_201_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_201_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 753
    wildcards: ID=TARA_201_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_201_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_201_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:00 2020]
Finished job 753.
49 of 589 steps (8%) done

[Mon Nov 30 23:59:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_094_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_094_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 661
    wildcards: ID=TARA_094_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_094_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_094_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_094_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_094_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_094_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_094_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_094_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_094_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:00 2020]
Finished job 661.
50 of 589 steps (8%) done

[Mon Nov 30 23:59:00 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD148.bam
    jobid: 43
    wildcards: ID=OSD148


        curr_run_accs=$(grep -w -m 1 "^OSD148" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD148 ${curr_run_accs}
        
[Mon Nov 30 23:59:00 2020]
Finished job 43.
51 of 589 steps (9%) done

[Mon Nov 30 23:59:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_201_36m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_201_36m_0.22-3_prok-gene-coverages.tsv
    jobid: 751
    wildcards: ID=TARA_201_36m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_201_36m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_201_36m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:00 2020]
Finished job 751.
52 of 589 steps (9%) done

[Mon Nov 30 23:59:00 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD78.bam
    jobid: 137
    wildcards: ID=OSD78


        curr_run_accs=$(grep -w -m 1 "^OSD78" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD78 ${curr_run_accs}
        
[Mon Nov 30 23:59:00 2020]
Finished job 137.
53 of 589 steps (9%) done

[Mon Nov 30 23:59:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_209_351m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_209_351m_0.22-3_prok-gene-coverages.tsv
    jobid: 759
    wildcards: ID=TARA_209_351m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_209_351m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_209_351m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:00 2020]
Finished job 759.
54 of 589 steps (9%) done

[Mon Nov 30 23:59:00 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_009_5m_0.22-1.6_girus.bam
    jobid: 158
    wildcards: ID=TARA_009_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_009_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_009_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:00 2020]
Finished job 158.
55 of 589 steps (9%) done

[Mon Nov 30 23:59:00 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus.bam
    jobid: 354
    wildcards: ID=TARA_043_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_043_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_043_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:00 2020]
Finished job 354.
56 of 589 steps (10%) done

[Mon Nov 30 23:59:00 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_191_5m_0.22-3_prok.bam
    jobid: 332
    wildcards: ID=TARA_191_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_191_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_191_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:01 2020]
Finished job 332.
57 of 589 steps (10%) done

[Mon Nov 30 23:59:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD39.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD39-gene-coverages.tsv
    jobid: 514
    wildcards: ID=OSD39


        pileup.sh -in ../mapping-files/OSD39.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD39-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD39-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD39-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD39-gene-cov.tmp > ../mapping-files/OSD39-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD39-gene-cov-and-det.tmp ../mapping-files/OSD39-gene-cov.tmp
        
[Mon Nov 30 23:59:01 2020]
Finished job 514.
58 of 589 steps (10%) done

[Mon Nov 30 23:59:01 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD34.bam
    jobid: 95
    wildcards: ID=OSD34


        curr_run_accs=$(grep -w -m 1 "^OSD34" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD34 ${curr_run_accs}
        
[Mon Nov 30 23:59:01 2020]
Finished job 95.
59 of 589 steps (10%) done

[Mon Nov 30 23:59:01 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_205_491m_0.22-3_prok.bam
    jobid: 340
    wildcards: ID=TARA_205_491m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_205_491m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_205_491m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:01 2020]
Finished job 340.
60 of 589 steps (10%) done

[Mon Nov 30 23:59:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD37.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD37-gene-coverages.tsv
    jobid: 512
    wildcards: ID=OSD37


        pileup.sh -in ../mapping-files/OSD37.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD37-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD37-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD37-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD37-gene-cov.tmp > ../mapping-files/OSD37-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD37-gene-cov-and-det.tmp ../mapping-files/OSD37-gene-cov.tmp
        
[Mon Nov 30 23:59:01 2020]
Finished job 512.
61 of 589 steps (10%) done

[Mon Nov 30 23:59:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD38.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD38-gene-coverages.tsv
    jobid: 513
    wildcards: ID=OSD38


        pileup.sh -in ../mapping-files/OSD38.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD38-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD38-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD38-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD38-gene-cov.tmp > ../mapping-files/OSD38-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD38-gene-cov-and-det.tmp ../mapping-files/OSD38-gene-cov.tmp
        
[Mon Nov 30 23:59:01 2020]
Finished job 513.
62 of 589 steps (11%) done

[Mon Nov 30 23:59:01 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD30.bam
    jobid: 94
    wildcards: ID=OSD30


        curr_run_accs=$(grep -w -m 1 "^OSD30" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD30 ${curr_run_accs}
        
[Mon Nov 30 23:59:01 2020]
Finished job 94.
63 of 589 steps (11%) done

[Mon Nov 30 23:59:01 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD77.bam
    jobid: 136
    wildcards: ID=OSD77


        curr_run_accs=$(grep -w -m 1 "^OSD77" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD77 ${curr_run_accs}
        
[Mon Nov 30 23:59:01 2020]
Finished job 136.
64 of 589 steps (11%) done

[Mon Nov 30 23:59:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_205_491m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_205_491m_0.22-3_prok-gene-coverages.tsv
    jobid: 754
    wildcards: ID=TARA_205_491m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_205_491m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_205_491m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:01 2020]
Finished job 754.
65 of 589 steps (11%) done

[Mon Nov 30 23:59:01 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD96.bam
    jobid: 148
    wildcards: ID=OSD96


        curr_run_accs=$(grep -w -m 1 "^OSD96" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD96 ${curr_run_accs}
        
[Mon Nov 30 23:59:02 2020]
Finished job 148.
66 of 589 steps (11%) done

[Mon Nov 30 23:59:02 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD97.bam
    jobid: 149
    wildcards: ID=OSD97


        curr_run_accs=$(grep -w -m 1 "^OSD97" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD97 ${curr_run_accs}
        
[Mon Nov 30 23:59:02 2020]
Finished job 149.
67 of 589 steps (11%) done

[Mon Nov 30 23:59:02 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_189_5m_0.22-3_prok.bam
    jobid: 331
    wildcards: ID=TARA_189_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_189_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_189_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:02 2020]
Finished job 331.
68 of 589 steps (12%) done

[Mon Nov 30 23:59:02 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N04-3800m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N04-3800m-8Ar-gene-coverages.tsv
    jobid: 807
    wildcards: ID=N04-3800m-8Ar


        pileup.sh -in ../mapping-files-HK/N04-3800m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N04-3800m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N04-3800m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N04-3800m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N04-3800m-8Ar-gene-cov.tmp > ../mapping-files-HK/N04-3800m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N04-3800m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N04-3800m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:02 2020]
Finished job 807.
69 of 589 steps (12%) done

[Mon Nov 30 23:59:02 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_124_120m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 690
    wildcards: ID=TARA_124_120m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_124_120m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:02 2020]
Finished job 690.
70 of 589 steps (12%) done

[Mon Nov 30 23:59:02 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_194_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_194_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 749
    wildcards: ID=TARA_194_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_194_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_194_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_194_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_194_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_194_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_194_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_194_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_194_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:02 2020]
Finished job 749.
71 of 589 steps (12%) done

[Mon Nov 30 23:59:02 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_196_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_196_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 750
    wildcards: ID=TARA_196_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_196_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_196_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_196_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_196_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_196_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_196_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_196_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_196_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:02 2020]
Finished job 750.
72 of 589 steps (12%) done

[Mon Nov 30 23:59:02 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD76.bam
    jobid: 135
    wildcards: ID=OSD76


        curr_run_accs=$(grep -w -m 1 "^OSD76" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD76 ${curr_run_accs}
        
[Mon Nov 30 23:59:02 2020]
Finished job 135.
73 of 589 steps (12%) done

[Mon Nov 30 23:59:02 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD151.bam
    jobid: 47
    wildcards: ID=OSD151


        curr_run_accs=$(grep -w -m 1 "^OSD151" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD151 ${curr_run_accs}
        
[Mon Nov 30 23:59:02 2020]
Finished job 47.
74 of 589 steps (13%) done

[Mon Nov 30 23:59:02 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_018_5m_0.22-1.6_prok.bam
    jobid: 159
    wildcards: ID=TARA_018_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_018_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_018_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:03 2020]
Finished job 159.
75 of 589 steps (13%) done

[Mon Nov 30 23:59:03 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_039_25m_0.22-1.6_prok.bam
    jobid: 183
    wildcards: ID=TARA_039_25m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_039_25m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_039_25m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:03 2020]
Finished job 183.
76 of 589 steps (13%) done

[Mon Nov 30 23:59:03 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD28.bam
    jobid: 91
    wildcards: ID=OSD28


        curr_run_accs=$(grep -w -m 1 "^OSD28" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD28 ${curr_run_accs}
        
[Mon Nov 30 23:59:03 2020]
Finished job 91.
77 of 589 steps (13%) done

[Mon Nov 30 23:59:03 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD74.bam
    jobid: 134
    wildcards: ID=OSD74


        curr_run_accs=$(grep -w -m 1 "^OSD74" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD74 ${curr_run_accs}
        
[Mon Nov 30 23:59:03 2020]
Finished job 134.
78 of 589 steps (13%) done

[Mon Nov 30 23:59:03 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_189_299m_0.22-3_prok.bam
    jobid: 330
    wildcards: ID=TARA_189_299m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_189_299m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_189_299m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:03 2020]
Finished job 330.
79 of 589 steps (13%) done

[Mon Nov 30 23:59:03 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N04-300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N04-300m-8Ar-gene-coverages.tsv
    jobid: 806
    wildcards: ID=N04-300m-8Ar


        pileup.sh -in ../mapping-files-HK/N04-300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N04-300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N04-300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N04-300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N04-300m-8Ar-gene-cov.tmp > ../mapping-files-HK/N04-300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N04-300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N04-300m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:03 2020]
Finished job 806.
80 of 589 steps (14%) done

[Mon Nov 30 23:59:03 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/B08-3200m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/B08-3200m-8Ar-gene-coverages.tsv
    jobid: 788
    wildcards: ID=B08-3200m-8Ar


        pileup.sh -in ../mapping-files-HK/B08-3200m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/B08-3200m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/B08-3200m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/B08-3200m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/B08-3200m-8Ar-gene-cov.tmp > ../mapping-files-HK/B08-3200m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/B08-3200m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/B08-3200m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:03 2020]
Finished job 788.
81 of 589 steps (14%) done

[Mon Nov 30 23:59:03 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_600m_0.22-0.45_girus.bam
    jobid: 267
    wildcards: ID=TARA_122_600m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_600m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_600m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:03 2020]
Finished job 267.
82 of 589 steps (14%) done

[Mon Nov 30 23:59:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD35.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD35-gene-coverages.tsv
    jobid: 510
    wildcards: ID=OSD35


        pileup.sh -in ../mapping-files/OSD35.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD35-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD35-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD35-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD35-gene-cov.tmp > ../mapping-files/OSD35-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD35-gene-cov-and-det.tmp ../mapping-files/OSD35-gene-cov.tmp
        
[Mon Nov 30 23:59:04 2020]
Finished job 510.
83 of 589 steps (14%) done

[Mon Nov 30 23:59:04 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_124_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 691
    wildcards: ID=TARA_124_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_124_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:04 2020]
Finished job 691.
84 of 589 steps (14%) done

[Mon Nov 30 23:59:04 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_018_60m_0.22-1.6_prok.bam
    jobid: 160
    wildcards: ID=TARA_018_60m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_018_60m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_018_60m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:04 2020]
Finished job 160.
85 of 589 steps (14%) done

[Mon Nov 30 23:59:04 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_034_60m_0.22-1.6_prok.bam
    jobid: 173
    wildcards: ID=TARA_034_60m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_034_60m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_034_60m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:04 2020]
Finished job 173.
86 of 589 steps (15%) done

[Mon Nov 30 23:59:04 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_600m_0.45-0.8_girus.bam
    jobid: 268
    wildcards: ID=TARA_122_600m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_600m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_600m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:04 2020]
Finished job 268.
87 of 589 steps (15%) done

[Mon Nov 30 23:59:04 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD108.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD108-gene-coverages.tsv
    jobid: 426
    wildcards: ID=OSD108


        pileup.sh -in ../mapping-files/OSD108.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD108-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD108-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD108-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD108-gene-cov.tmp > ../mapping-files/OSD108-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD108-gene-cov-and-det.tmp ../mapping-files/OSD108-gene-cov.tmp
        
[Mon Nov 30 23:59:04 2020]
Finished job 426.
88 of 589 steps (15%) done

[Mon Nov 30 23:59:04 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_023_55m_0.22-1.6_prok.bam
    jobid: 161
    wildcards: ID=TARA_023_55m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_023_55m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_023_55m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:04 2020]
Finished job 161.
89 of 589 steps (15%) done

[Mon Nov 30 23:59:04 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_038_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 595
    wildcards: ID=TARA_038_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_038_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:04 2020]
Finished job 595.
90 of 589 steps (15%) done

[Mon Nov 30 23:59:04 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus.bam
    jobid: 355
    wildcards: ID=TARA_046_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_046_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_046_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:05 2020]
Finished job 355.
91 of 589 steps (15%) done

[Mon Nov 30 23:59:05 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/A5-10-300m-34An.bam
    jobid: 366
    wildcards: ID=A5-10-300m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^A5-10-300m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^A5-10-300m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 A5-10-300m-34An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:05 2020]
Finished job 366.
92 of 589 steps (16%) done

[Mon Nov 30 23:59:05 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD72.bam
    jobid: 132
    wildcards: ID=OSD72


        curr_run_accs=$(grep -w -m 1 "^OSD72" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD72 ${curr_run_accs}
        
[Mon Nov 30 23:59:05 2020]
Finished job 132.
93 of 589 steps (16%) done

[Mon Nov 30 23:59:05 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD29.bam
    jobid: 92
    wildcards: ID=OSD29


        curr_run_accs=$(grep -w -m 1 "^OSD29" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD29 ${curr_run_accs}
        
[Mon Nov 30 23:59:05 2020]
Finished job 92.
94 of 589 steps (16%) done

[Mon Nov 30 23:59:05 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_023_5m_0.22-1.6_prok.bam
    jobid: 162
    wildcards: ID=TARA_023_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_023_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_023_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:05 2020]
Finished job 162.
95 of 589 steps (16%) done

[Mon Nov 30 23:59:05 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/BB08-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/BB08-0m-8Ar-gene-coverages.tsv
    jobid: 789
    wildcards: ID=BB08-0m-8Ar


        pileup.sh -in ../mapping-files-HK/BB08-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/BB08-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/BB08-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/BB08-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/BB08-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/BB08-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/BB08-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/BB08-0m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:05 2020]
Finished job 789.
96 of 589 steps (16%) done

[Mon Nov 30 23:59:05 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_039_270m_0.22-1.6_prok.bam
    jobid: 185
    wildcards: ID=TARA_039_270m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_039_270m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_039_270m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:05 2020]
Finished job 185.
97 of 589 steps (16%) done

[Mon Nov 30 23:59:05 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD34.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD34-gene-coverages.tsv
    jobid: 509
    wildcards: ID=OSD34


        pileup.sh -in ../mapping-files/OSD34.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD34-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD34-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD34-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD34-gene-cov.tmp > ../mapping-files/OSD34-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD34-gene-cov-and-det.tmp ../mapping-files/OSD34-gene-cov.tmp
        
[Mon Nov 30 23:59:05 2020]
Finished job 509.
98 of 589 steps (17%) done

[Mon Nov 30 23:59:05 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_189_20m_0.22-3_prok.bam
    jobid: 329
    wildcards: ID=TARA_189_20m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_189_20m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_189_20m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:05 2020]
Finished job 329.
99 of 589 steps (17%) done

[Mon Nov 30 23:59:05 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD36.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD36-gene-coverages.tsv
    jobid: 511
    wildcards: ID=OSD36


        pileup.sh -in ../mapping-files/OSD36.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD36-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD36-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD36-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD36-gene-cov.tmp > ../mapping-files/OSD36-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD36-gene-cov-and-det.tmp ../mapping-files/OSD36-gene-cov.tmp
        
[Mon Nov 30 23:59:06 2020]
Finished job 511.
100 of 589 steps (17%) done

[Mon Nov 30 23:59:06 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD26.bam
    jobid: 90
    wildcards: ID=OSD26


        curr_run_accs=$(grep -w -m 1 "^OSD26" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD26 ${curr_run_accs}
        
[Mon Nov 30 23:59:06 2020]
Finished job 90.
101 of 589 steps (17%) done

[Mon Nov 30 23:59:06 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_125_140m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 694
    wildcards: ID=TARA_125_140m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_125_140m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:06 2020]
Finished job 694.
102 of 589 steps (17%) done

[Mon Nov 30 23:59:06 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_038_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 596
    wildcards: ID=TARA_038_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_038_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:06 2020]
Finished job 596.
103 of 589 steps (17%) done

[Mon Nov 30 23:59:06 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_025_50m_0.22-1.6_prok.bam
    jobid: 163
    wildcards: ID=TARA_025_50m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_025_50m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_025_50m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:06 2020]
Finished job 163.
104 of 589 steps (18%) done

[Mon Nov 30 23:59:06 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_125_140m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 695
    wildcards: ID=TARA_125_140m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_125_140m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:06 2020]
Finished job 695.
105 of 589 steps (18%) done

[Mon Nov 30 23:59:06 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_188_17m_0.22-3_prok.bam
    jobid: 327
    wildcards: ID=TARA_188_17m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_188_17m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_188_17m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:06 2020]
Finished job 327.
106 of 589 steps (18%) done

[Mon Nov 30 23:59:06 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_194_35m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_194_35m_0.22-3_prok-gene-coverages.tsv
    jobid: 748
    wildcards: ID=TARA_194_35m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_194_35m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_194_35m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:06 2020]
Finished job 748.
107 of 589 steps (18%) done

[Mon Nov 30 23:59:06 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD73.bam
    jobid: 133
    wildcards: ID=OSD73


        curr_run_accs=$(grep -w -m 1 "^OSD73" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD73 ${curr_run_accs}
        
[Mon Nov 30 23:59:07 2020]
Finished job 133.
108 of 589 steps (18%) done

[Mon Nov 30 23:59:07 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD95.bam
    jobid: 147
    wildcards: ID=OSD95


        curr_run_accs=$(grep -w -m 1 "^OSD95" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD95 ${curr_run_accs}
        
[Mon Nov 30 23:59:07 2020]
Finished job 147.
109 of 589 steps (19%) done

[Mon Nov 30 23:59:07 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_039_25m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 597
    wildcards: ID=TARA_039_25m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_039_25m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:07 2020]
Finished job 597.
110 of 589 steps (19%) done

[Mon Nov 30 23:59:07 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD30.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD30-gene-coverages.tsv
    jobid: 508
    wildcards: ID=OSD30


        pileup.sh -in ../mapping-files/OSD30.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD30-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD30-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD30-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD30-gene-cov.tmp > ../mapping-files/OSD30-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD30-gene-cov-and-det.tmp ../mapping-files/OSD30-gene-cov.tmp
        
[Mon Nov 30 23:59:07 2020]
Finished job 508.
111 of 589 steps (19%) done

[Mon Nov 30 23:59:07 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD43.bam
    jobid: 104
    wildcards: ID=OSD43


        curr_run_accs=$(grep -w -m 1 "^OSD43" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD43 ${curr_run_accs}
        
[Mon Nov 30 23:59:07 2020]
Finished job 104.
112 of 589 steps (19%) done

[Mon Nov 30 23:59:07 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_188_5m_0.22-3_prok.bam
    jobid: 328
    wildcards: ID=TARA_188_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_188_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_188_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:07 2020]
Finished job 328.
113 of 589 steps (19%) done

[Mon Nov 30 23:59:07 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_025_5m_0.22-1.6_prok.bam
    jobid: 164
    wildcards: ID=TARA_025_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_025_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_025_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:07 2020]
Finished job 164.
114 of 589 steps (19%) done

[Mon Nov 30 23:59:07 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_125_140m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 696
    wildcards: ID=TARA_125_140m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_125_140m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:07 2020]
Finished job 696.
115 of 589 steps (20%) done

[Mon Nov 30 23:59:08 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD106-15.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD106-15-gene-coverages.tsv
    jobid: 424
    wildcards: ID=OSD106-15


        pileup.sh -in ../mapping-files/OSD106-15.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD106-15-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD106-15-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD106-15-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD106-15-gene-cov.tmp > ../mapping-files/OSD106-15-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD106-15-gene-cov-and-det.tmp ../mapping-files/OSD106-15-gene-cov.tmp
        
[Mon Nov 30 23:59:08 2020]
Finished job 424.
116 of 589 steps (20%) done

[Mon Nov 30 23:59:08 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD107.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD107-gene-coverages.tsv
    jobid: 425
    wildcards: ID=OSD107


        pileup.sh -in ../mapping-files/OSD107.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD107-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD107-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD107-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD107-gene-cov.tmp > ../mapping-files/OSD107-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD107-gene-cov-and-det.tmp ../mapping-files/OSD107-gene-cov.tmp
        
[Mon Nov 30 23:59:08 2020]
Finished job 425.
117 of 589 steps (20%) done

[Mon Nov 30 23:59:08 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_193_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_193_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 747
    wildcards: ID=TARA_193_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_193_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_193_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:08 2020]
Finished job 747.
118 of 589 steps (20%) done

[Mon Nov 30 23:59:08 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD43.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD43-gene-coverages.tsv
    jobid: 518
    wildcards: ID=OSD43


        pileup.sh -in ../mapping-files/OSD43.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD43-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD43-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD43-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD43-gene-cov.tmp > ../mapping-files/OSD43-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD43-gene-cov-and-det.tmp ../mapping-files/OSD43-gene-cov.tmp
        
[Mon Nov 30 23:59:08 2020]
Finished job 518.
119 of 589 steps (20%) done

[Mon Nov 30 23:59:08 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD15-50.bam
    jobid: 53
    wildcards: ID=OSD15-50


        curr_run_accs=$(grep -w -m 1 "^OSD15-50" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD15-50 ${curr_run_accs}
        
[Mon Nov 30 23:59:08 2020]
Finished job 53.
120 of 589 steps (20%) done

[Mon Nov 30 23:59:08 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD150.bam
    jobid: 45
    wildcards: ID=OSD150


        curr_run_accs=$(grep -w -m 1 "^OSD150" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD150 ${curr_run_accs}
        
[Mon Nov 30 23:59:08 2020]
Finished job 45.
121 of 589 steps (21%) done

[Mon Nov 30 23:59:08 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD97.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD97-gene-coverages.tsv
    jobid: 563
    wildcards: ID=OSD97


        pileup.sh -in ../mapping-files/OSD97.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD97-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD97-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD97-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD97-gene-cov.tmp > ../mapping-files/OSD97-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD97-gene-cov-and-det.tmp ../mapping-files/OSD97-gene-cov.tmp
        
[Mon Nov 30 23:59:08 2020]
Finished job 563.
122 of 589 steps (21%) done

[Mon Nov 30 23:59:08 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD42.bam
    jobid: 103
    wildcards: ID=OSD42


        curr_run_accs=$(grep -w -m 1 "^OSD42" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD42 ${curr_run_accs}
        
[Mon Nov 30 23:59:09 2020]
Finished job 103.
123 of 589 steps (21%) done

[Mon Nov 30 23:59:09 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_030_5m_0.22-1.6_prok.bam
    jobid: 165
    wildcards: ID=TARA_030_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_030_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_030_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:09 2020]
Finished job 165.
124 of 589 steps (21%) done

[Mon Nov 30 23:59:09 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_125_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 697
    wildcards: ID=TARA_125_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_125_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:09 2020]
Finished job 697.
125 of 589 steps (21%) done

[Mon Nov 30 23:59:09 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD149.bam
    jobid: 44
    wildcards: ID=OSD149


        curr_run_accs=$(grep -w -m 1 "^OSD149" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD149 ${curr_run_accs}
        
[Mon Nov 30 23:59:09 2020]
Finished job 44.
126 of 589 steps (21%) done

[Mon Nov 30 23:59:09 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD169.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD169-gene-coverages.tsv
    jobid: 479
    wildcards: ID=OSD169


        pileup.sh -in ../mapping-files/OSD169.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD169-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD169-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD169-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD169-gene-cov.tmp > ../mapping-files/OSD169-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD169-gene-cov-and-det.tmp ../mapping-files/OSD169-gene-cov.tmp
        
[Mon Nov 30 23:59:09 2020]
Finished job 479.
127 of 589 steps (22%) done

[Mon Nov 30 23:59:09 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD25.bam
    jobid: 89
    wildcards: ID=OSD25


        curr_run_accs=$(grep -w -m 1 "^OSD25" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD25 ${curr_run_accs}
        
[Mon Nov 30 23:59:09 2020]
Finished job 89.
128 of 589 steps (22%) done

[Mon Nov 30 23:59:09 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD42.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD42-gene-coverages.tsv
    jobid: 517
    wildcards: ID=OSD42


        pileup.sh -in ../mapping-files/OSD42.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD42-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD42-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD42-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD42-gene-cov.tmp > ../mapping-files/OSD42-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD42-gene-cov-and-det.tmp ../mapping-files/OSD42-gene-cov.tmp
        
[Mon Nov 30 23:59:09 2020]
Finished job 517.
129 of 589 steps (22%) done

[Mon Nov 30 23:59:09 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_039_270m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 599
    wildcards: ID=TARA_039_270m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_039_270m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:09 2020]
Finished job 599.
130 of 589 steps (22%) done

[Mon Nov 30 23:59:09 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_034_60m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 587
    wildcards: ID=TARA_034_60m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_034_60m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:10 2020]
Finished job 587.
131 of 589 steps (22%) done

[Mon Nov 30 23:59:10 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_180_5m_0.22-3_prok.bam
    jobid: 326
    wildcards: ID=TARA_180_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_180_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_180_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:10 2020]
Finished job 326.
132 of 589 steps (22%) done

[Mon Nov 30 23:59:10 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N02-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N02-0m-8Ar-gene-coverages.tsv
    jobid: 802
    wildcards: ID=N02-0m-8Ar


        pileup.sh -in ../mapping-files-HK/N02-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N02-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N02-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N02-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N02-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/N02-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N02-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N02-0m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:10 2020]
Finished job 802.
133 of 589 steps (23%) done

[Mon Nov 30 23:59:10 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_191_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_191_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 746
    wildcards: ID=TARA_191_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_191_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_191_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:10 2020]
Finished job 746.
134 of 589 steps (23%) done

[Mon Nov 30 23:59:10 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_030_70m_0.22-1.6_prok.bam
    jobid: 166
    wildcards: ID=TARA_030_70m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_030_70m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_030_70m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:10 2020]
Finished job 166.
135 of 589 steps (23%) done

[Mon Nov 30 23:59:10 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD168.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD168-gene-coverages.tsv
    jobid: 478
    wildcards: ID=OSD168


        pileup.sh -in ../mapping-files/OSD168.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD168-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD168-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD168-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD168-gene-cov.tmp > ../mapping-files/OSD168-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD168-gene-cov-and-det.tmp ../mapping-files/OSD168-gene-cov.tmp
        
[Mon Nov 30 23:59:10 2020]
Finished job 478.
136 of 589 steps (23%) done

[Mon Nov 30 23:59:10 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_150_40m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_150_40m_0.22-3_prok-gene-coverages.tsv
    jobid: 717
    wildcards: ID=TARA_150_40m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_150_40m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_150_40m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:10 2020]
Finished job 717.
137 of 589 steps (23%) done

[Mon Nov 30 23:59:10 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD41.bam
    jobid: 102
    wildcards: ID=OSD41


        curr_run_accs=$(grep -w -m 1 "^OSD41" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD41 ${curr_run_accs}
        
[Mon Nov 30 23:59:10 2020]
Finished job 102.
138 of 589 steps (23%) done

[Mon Nov 30 23:59:10 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_180_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_180_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 740
    wildcards: ID=TARA_180_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_180_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_180_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_180_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_180_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_180_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_180_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_180_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_180_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:11 2020]
Finished job 740.
139 of 589 steps (24%) done

[Mon Nov 30 23:59:11 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_031_5m_0.22-1.6_prok.bam
    jobid: 167
    wildcards: ID=TARA_031_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_031_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_031_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:11 2020]
Finished job 167.
140 of 589 steps (24%) done

[Mon Nov 30 23:59:11 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD167.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD167-gene-coverages.tsv
    jobid: 477
    wildcards: ID=OSD167


        pileup.sh -in ../mapping-files/OSD167.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD167-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD167-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD167-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD167-gene-cov.tmp > ../mapping-files/OSD167-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD167-gene-cov-and-det.tmp ../mapping-files/OSD167-gene-cov.tmp
        
[Mon Nov 30 23:59:11 2020]
Finished job 477.
141 of 589 steps (24%) done

[Mon Nov 30 23:59:11 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD96.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD96-gene-coverages.tsv
    jobid: 562
    wildcards: ID=OSD96


        pileup.sh -in ../mapping-files/OSD96.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD96-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD96-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD96-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD96-gene-cov.tmp > ../mapping-files/OSD96-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD96-gene-cov-and-det.tmp ../mapping-files/OSD96-gene-cov.tmp
        
[Mon Nov 30 23:59:11 2020]
Finished job 562.
142 of 589 steps (24%) done

[Mon Nov 30 23:59:11 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD10.bam
    jobid: 3
    wildcards: ID=OSD10


        curr_run_accs=$(grep -w -m 1 "^OSD10" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD10 ${curr_run_accs}
        
[Mon Nov 30 23:59:11 2020]
Finished job 3.
143 of 589 steps (24%) done

[Mon Nov 30 23:59:11 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD41.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD41-gene-coverages.tsv
    jobid: 516
    wildcards: ID=OSD41


        pileup.sh -in ../mapping-files/OSD41.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD41-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD41-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD41-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD41-gene-cov.tmp > ../mapping-files/OSD41-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD41-gene-cov-and-det.tmp ../mapping-files/OSD41-gene-cov.tmp
        
[Mon Nov 30 23:59:11 2020]
Finished job 516.
144 of 589 steps (24%) done

[Mon Nov 30 23:59:11 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus.bam
    jobid: 349
    wildcards: ID=TARA_004_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_004_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_004_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:11 2020]
Finished job 349.
145 of 589 steps (25%) done

[Mon Nov 30 23:59:11 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_5m_0.22-0.45_girus.bam
    jobid: 264
    wildcards: ID=TARA_122_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_5m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:11 2020]
Finished job 264.
146 of 589 steps (25%) done

[Mon Nov 30 23:59:11 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD166.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD166-gene-coverages.tsv
    jobid: 476
    wildcards: ID=OSD166


        pileup.sh -in ../mapping-files/OSD166.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD166-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD166-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD166-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD166-gene-cov.tmp > ../mapping-files/OSD166-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD166-gene-cov-and-det.tmp ../mapping-files/OSD166-gene-cov.tmp
        
[Mon Nov 30 23:59:12 2020]
Finished job 476.
147 of 589 steps (25%) done

[Mon Nov 30 23:59:12 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_078_5m_0.22-0.45_girus.bam
    jobid: 240
    wildcards: ID=TARA_078_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_078_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_078_5m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:12 2020]
Finished job 240.
148 of 589 steps (25%) done

[Mon Nov 30 23:59:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_146_640m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_146_640m_0.22-3_prok-gene-coverages.tsv
    jobid: 716
    wildcards: ID=TARA_146_640m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_146_640m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_146_640m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_146_640m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_146_640m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_146_640m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_146_640m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_146_640m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_146_640m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:12 2020]
Finished job 716.
149 of 589 steps (25%) done

[Mon Nov 30 23:59:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_041_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 601
    wildcards: ID=TARA_041_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_041_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:12 2020]
Finished job 601.
150 of 589 steps (25%) done

[Mon Nov 30 23:59:12 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/A4-07-3000m-34An.bam
    jobid: 362
    wildcards: ID=A4-07-3000m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^A4-07-3000m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^A4-07-3000m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 A4-07-3000m-34An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:12 2020]
Finished job 362.
151 of 589 steps (26%) done

[Mon Nov 30 23:59:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_145_590m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_145_590m_0.22-3_prok-gene-coverages.tsv
    jobid: 713
    wildcards: ID=TARA_145_590m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_145_590m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_145_590m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:12 2020]
Finished job 713.
152 of 589 steps (26%) done

[Mon Nov 30 23:59:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD95.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD95-gene-coverages.tsv
    jobid: 561
    wildcards: ID=OSD95


        pileup.sh -in ../mapping-files/OSD95.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD95-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD95-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD95-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD95-gene-cov.tmp > ../mapping-files/OSD95-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD95-gene-cov-and-det.tmp ../mapping-files/OSD95-gene-cov.tmp
        
[Mon Nov 30 23:59:12 2020]
Finished job 561.
153 of 589 steps (26%) done

[Mon Nov 30 23:59:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_078_5m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 654
    wildcards: ID=TARA_078_5m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_078_5m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:12 2020]
Finished job 654.
154 of 589 steps (26%) done

[Mon Nov 30 23:59:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_125_5m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 699
    wildcards: ID=TARA_125_5m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_125_5m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:12 2020]
Finished job 699.
155 of 589 steps (26%) done

[Mon Nov 30 23:59:13 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_038_340m_0.22-1.6_girus.bam
    jobid: 180
    wildcards: ID=TARA_038_340m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_038_340m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_038_340m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:13 2020]
Finished job 180.
156 of 589 steps (26%) done

[Mon Nov 30 23:59:13 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_078_120m_0.45-0.8_girus.bam
    jobid: 239
    wildcards: ID=TARA_078_120m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_078_120m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_078_120m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:13 2020]
Finished job 239.
157 of 589 steps (27%) done

[Mon Nov 30 23:59:13 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_146_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_146_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 715
    wildcards: ID=TARA_146_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_146_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_146_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_146_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_146_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_146_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_146_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_146_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_146_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:13 2020]
Finished job 715.
158 of 589 steps (27%) done

[Mon Nov 30 23:59:13 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_188_17m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_188_17m_0.22-3_prok-gene-coverages.tsv
    jobid: 741
    wildcards: ID=TARA_188_17m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_188_17m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_188_17m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:13 2020]
Finished job 741.
159 of 589 steps (27%) done

[Mon Nov 30 23:59:13 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_032_5m_0.22-1.6_prok.bam
    jobid: 168
    wildcards: ID=TARA_032_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_032_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_032_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:13 2020]
Finished job 168.
160 of 589 steps (27%) done

[Mon Nov 30 23:59:13 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD93.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD93-gene-coverages.tsv
    jobid: 559
    wildcards: ID=OSD93


        pileup.sh -in ../mapping-files/OSD93.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD93-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD93-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD93-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD93-gene-cov.tmp > ../mapping-files/OSD93-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD93-gene-cov-and-det.tmp ../mapping-files/OSD93-gene-cov.tmp
        
[Mon Nov 30 23:59:13 2020]
Finished job 559.
161 of 589 steps (27%) done

[Mon Nov 30 23:59:13 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_145_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_145_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 714
    wildcards: ID=TARA_145_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_145_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_145_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:13 2020]
Finished job 714.
162 of 589 steps (28%) done

[Mon Nov 30 23:59:13 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_078_120m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 653
    wildcards: ID=TARA_078_120m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_078_120m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:14 2020]
Finished job 653.
163 of 589 steps (28%) done

[Mon Nov 30 23:59:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_038_340m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 594
    wildcards: ID=TARA_038_340m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_038_340m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:14 2020]
Finished job 594.
164 of 589 steps (28%) done

[Mon Nov 30 23:59:14 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus.bam
    jobid: 350
    wildcards: ID=TARA_006_8m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_006_8m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_006_8m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:14 2020]
Finished job 350.
165 of 589 steps (28%) done

[Mon Nov 30 23:59:14 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_800m_0.45-0.8_girus.bam
    jobid: 236
    wildcards: ID=TARA_076_800m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_800m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_800m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:14 2020]
Finished job 236.
166 of 589 steps (28%) done

[Mon Nov 30 23:59:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD165.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD165-gene-coverages.tsv
    jobid: 475
    wildcards: ID=OSD165


        pileup.sh -in ../mapping-files/OSD165.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD165-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD165-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD165-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD165-gene-cov.tmp > ../mapping-files/OSD165-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD165-gene-cov-and-det.tmp ../mapping-files/OSD165-gene-cov.tmp
        
[Mon Nov 30 23:59:14 2020]
Finished job 475.
167 of 589 steps (28%) done

[Mon Nov 30 23:59:14 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_078_120m_0.22-3_prok.bam
    jobid: 238
    wildcards: ID=TARA_078_120m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_078_120m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_078_120m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:14 2020]
Finished job 238.
168 of 589 steps (29%) done

[Mon Nov 30 23:59:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD94.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD94-gene-coverages.tsv
    jobid: 560
    wildcards: ID=OSD94


        pileup.sh -in ../mapping-files/OSD94.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD94-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD94-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD94-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD94-gene-cov.tmp > ../mapping-files/OSD94-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD94-gene-cov-and-det.tmp ../mapping-files/OSD94-gene-cov.tmp
        
[Mon Nov 30 23:59:14 2020]
Finished job 560.
169 of 589 steps (29%) done

[Mon Nov 30 23:59:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_128_40m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_128_40m_0.22-3_prok-gene-coverages.tsv
    jobid: 700
    wildcards: ID=TARA_128_40m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_128_40m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_128_40m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:14 2020]
Finished job 700.
170 of 589 steps (29%) done

[Mon Nov 30 23:59:14 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD145.bam
    jobid: 40
    wildcards: ID=OSD145


        curr_run_accs=$(grep -w -m 1 "^OSD145" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD145 ${curr_run_accs}
        
[Mon Nov 30 23:59:15 2020]
Finished job 40.
171 of 589 steps (29%) done

[Mon Nov 30 23:59:15 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD91.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD91-gene-coverages.tsv
    jobid: 557
    wildcards: ID=OSD91


        pileup.sh -in ../mapping-files/OSD91.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD91-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD91-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD91-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD91-gene-cov.tmp > ../mapping-files/OSD91-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD91-gene-cov-and-det.tmp ../mapping-files/OSD91-gene-cov.tmp
        
[Mon Nov 30 23:59:15 2020]
Finished job 557.
172 of 589 steps (29%) done

[Mon Nov 30 23:59:15 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_076_800m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 650
    wildcards: ID=TARA_076_800m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_076_800m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:15 2020]
Finished job 650.
173 of 589 steps (29%) done

[Mon Nov 30 23:59:15 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_078_120m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_078_120m_0.22-3_prok-gene-coverages.tsv
    jobid: 652
    wildcards: ID=TARA_078_120m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_078_120m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_078_120m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_078_120m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_078_120m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_078_120m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_078_120m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_078_120m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_078_120m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:15 2020]
Finished job 652.
174 of 589 steps (30%) done

[Mon Nov 30 23:59:15 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_188_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_188_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 742
    wildcards: ID=TARA_188_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_188_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_188_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:15 2020]
Finished job 742.
175 of 589 steps (30%) done

[Mon Nov 30 23:59:15 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/A5-10-3500m-34An.bam
    jobid: 367
    wildcards: ID=A5-10-3500m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^A5-10-3500m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^A5-10-3500m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 A5-10-3500m-34An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:15 2020]
Finished job 367.
176 of 589 steps (30%) done

[Mon Nov 30 23:59:15 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_800m_0.22-3_prok.bam
    jobid: 235
    wildcards: ID=TARA_076_800m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_076_800m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_800m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:15 2020]
Finished job 235.
177 of 589 steps (30%) done

[Mon Nov 30 23:59:15 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_078_120m_0.22-0.45_girus.bam
    jobid: 237
    wildcards: ID=TARA_078_120m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_078_120m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_078_120m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:15 2020]
Finished job 237.
178 of 589 steps (30%) done

[Mon Nov 30 23:59:15 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_032_80m_0.22-1.6_prok.bam
    jobid: 169
    wildcards: ID=TARA_032_80m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_032_80m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_032_80m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:16 2020]
Finished job 169.
179 of 589 steps (30%) done

[Mon Nov 30 23:59:16 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus.bam
    jobid: 351
    wildcards: ID=TARA_031_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_031_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_031_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:16 2020]
Finished job 351.
180 of 589 steps (31%) done

[Mon Nov 30 23:59:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_034_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 585
    wildcards: ID=TARA_034_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_034_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:16 2020]
Finished job 585.
181 of 589 steps (31%) done

[Mon Nov 30 23:59:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD90.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD90-gene-coverages.tsv
    jobid: 556
    wildcards: ID=OSD90


        pileup.sh -in ../mapping-files/OSD90.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD90-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD90-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD90-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD90-gene-cov.tmp > ../mapping-files/OSD90-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD90-gene-cov-and-det.tmp ../mapping-files/OSD90-gene-cov.tmp
        
[Mon Nov 30 23:59:16 2020]
Finished job 556.
182 of 589 steps (31%) done

[Mon Nov 30 23:59:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD92.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD92-gene-coverages.tsv
    jobid: 558
    wildcards: ID=OSD92


        pileup.sh -in ../mapping-files/OSD92.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD92-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD92-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD92-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD92-gene-cov.tmp > ../mapping-files/OSD92-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD92-gene-cov-and-det.tmp ../mapping-files/OSD92-gene-cov.tmp
        
[Mon Nov 30 23:59:16 2020]
Finished job 558.
183 of 589 steps (31%) done

[Mon Nov 30 23:59:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_076_800m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_076_800m_0.22-3_prok-gene-coverages.tsv
    jobid: 649
    wildcards: ID=TARA_076_800m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_076_800m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_076_800m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_076_800m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_076_800m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_076_800m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_076_800m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_076_800m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_076_800m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:16 2020]
Finished job 649.
184 of 589 steps (31%) done

[Mon Nov 30 23:59:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_078_120m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 651
    wildcards: ID=TARA_078_120m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_078_120m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:16 2020]
Finished job 651.
185 of 589 steps (31%) done

[Mon Nov 30 23:59:16 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_5m_0.1-0.22_girus.bam
    jobid: 263
    wildcards: ID=TARA_122_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_5m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:16 2020]
Finished job 263.
186 of 589 steps (32%) done

[Mon Nov 30 23:59:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_142_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_142_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 711
    wildcards: ID=TARA_142_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_142_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_142_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:16 2020]
Finished job 711.
187 of 589 steps (32%) done

[Mon Nov 30 23:59:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD164.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD164-gene-coverages.tsv
    jobid: 474
    wildcards: ID=OSD164


        pileup.sh -in ../mapping-files/OSD164.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD164-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD164-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD164-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD164-gene-cov.tmp > ../mapping-files/OSD164-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD164-gene-cov-and-det.tmp ../mapping-files/OSD164-gene-cov.tmp
        
[Mon Nov 30 23:59:17 2020]
Finished job 474.
188 of 589 steps (32%) done

[Mon Nov 30 23:59:17 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_189_20m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_189_20m_0.22-3_prok-gene-coverages.tsv
    jobid: 743
    wildcards: ID=TARA_189_20m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_189_20m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_189_20m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:17 2020]
Finished job 743.
189 of 589 steps (32%) done

[Mon Nov 30 23:59:17 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_033_5m_0.22-1.6_prok.bam
    jobid: 170
    wildcards: ID=TARA_033_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_033_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_033_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:17 2020]
Finished job 170.
190 of 589 steps (32%) done

[Mon Nov 30 23:59:17 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD158.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD158-gene-coverages.tsv
    jobid: 470
    wildcards: ID=OSD158


        pileup.sh -in ../mapping-files/OSD158.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD158-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD158-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD158-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD158-gene-cov.tmp > ../mapping-files/OSD158-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD158-gene-cov-and-det.tmp ../mapping-files/OSD158-gene-cov.tmp
        
[Mon Nov 30 23:59:17 2020]
Finished job 470.
191 of 589 steps (32%) done

[Mon Nov 30 23:59:17 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD162.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD162-gene-coverages.tsv
    jobid: 472
    wildcards: ID=OSD162


        pileup.sh -in ../mapping-files/OSD162.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD162-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD162-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD162-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD162-gene-cov.tmp > ../mapping-files/OSD162-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD162-gene-cov-and-det.tmp ../mapping-files/OSD162-gene-cov.tmp
        
[Mon Nov 30 23:59:17 2020]
Finished job 472.
192 of 589 steps (33%) done

[Mon Nov 30 23:59:17 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_142_125m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_142_125m_0.22-3_prok-gene-coverages.tsv
    jobid: 710
    wildcards: ID=TARA_142_125m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_142_125m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_142_125m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:17 2020]
Finished job 710.
193 of 589 steps (33%) done

[Mon Nov 30 23:59:17 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD163.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD163-gene-coverages.tsv
    jobid: 473
    wildcards: ID=OSD163


        pileup.sh -in ../mapping-files/OSD163.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD163-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD163-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD163-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD163-gene-cov.tmp > ../mapping-files/OSD163-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD163-gene-cov-and-det.tmp ../mapping-files/OSD163-gene-cov.tmp
        
[Mon Nov 30 23:59:17 2020]
Finished job 473.
194 of 589 steps (33%) done

[Mon Nov 30 23:59:17 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus.bam
    jobid: 352
    wildcards: ID=TARA_039_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_039_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_039_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:17 2020]
Finished job 352.
195 of 589 steps (33%) done

[Mon Nov 30 23:59:17 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_038_340m_0.1-0.22_girus.bam
    jobid: 179
    wildcards: ID=TARA_038_340m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_038_340m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_038_340m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:18 2020]
Finished job 179.
196 of 589 steps (33%) done

[Mon Nov 30 23:59:18 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_150m_0.22-3_prok.bam
    jobid: 231
    wildcards: ID=TARA_076_150m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_076_150m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_150m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:18 2020]
Finished job 231.
197 of 589 steps (33%) done

[Mon Nov 30 23:59:18 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD9.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD9-gene-coverages.tsv
    jobid: 555
    wildcards: ID=OSD9


        pileup.sh -in ../mapping-files/OSD9.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD9-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD9-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD9-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD9-gene-cov.tmp > ../mapping-files/OSD9-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD9-gene-cov-and-det.tmp ../mapping-files/OSD9-gene-cov.tmp
        
[Mon Nov 30 23:59:18 2020]
Finished job 555.
198 of 589 steps (34%) done

[Mon Nov 30 23:59:18 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_5m_0.45-0.8_girus.bam
    jobid: 234
    wildcards: ID=TARA_076_5m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_5m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_5m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:18 2020]
Finished job 234.
199 of 589 steps (34%) done

[Mon Nov 30 23:59:18 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_189_299m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_189_299m_0.22-3_prok-gene-coverages.tsv
    jobid: 744
    wildcards: ID=TARA_189_299m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_189_299m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_189_299m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:18 2020]
Finished job 744.
200 of 589 steps (34%) done

[Mon Nov 30 23:59:18 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD60.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD60-gene-coverages.tsv
    jobid: 536
    wildcards: ID=OSD60


        pileup.sh -in ../mapping-files/OSD60.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD60-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD60-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD60-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD60-gene-cov.tmp > ../mapping-files/OSD60-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD60-gene-cov-and-det.tmp ../mapping-files/OSD60-gene-cov.tmp
        
[Mon Nov 30 23:59:18 2020]
Finished job 536.
201 of 589 steps (34%) done

[Mon Nov 30 23:59:18 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD80-0.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD80-0-gene-coverages.tsv
    jobid: 552
    wildcards: ID=OSD80-0


        pileup.sh -in ../mapping-files/OSD80-0.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD80-0-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD80-0-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD80-0-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD80-0-gene-cov.tmp > ../mapping-files/OSD80-0-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD80-0-gene-cov-and-det.tmp ../mapping-files/OSD80-0-gene-cov.tmp
        
[Mon Nov 30 23:59:18 2020]
Finished job 552.
202 of 589 steps (34%) done

[Mon Nov 30 23:59:18 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_076_5m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 648
    wildcards: ID=TARA_076_5m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_076_5m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:18 2020]
Finished job 648.
203 of 589 steps (34%) done

[Mon Nov 30 23:59:18 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_038_340m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 593
    wildcards: ID=TARA_038_340m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_038_340m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:18 2020]
Finished job 593.
204 of 589 steps (35%) done

[Mon Nov 30 23:59:18 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_048_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 605
    wildcards: ID=TARA_048_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_048_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:19 2020]
Finished job 605.
205 of 589 steps (35%) done

[Mon Nov 30 23:59:19 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD57.bam
    jobid: 118
    wildcards: ID=OSD57


        curr_run_accs=$(grep -w -m 1 "^OSD57" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD57 ${curr_run_accs}
        
[Mon Nov 30 23:59:19 2020]
Finished job 118.
206 of 589 steps (35%) done

[Mon Nov 30 23:59:19 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_150m_0.45-0.8_girus.bam
    jobid: 232
    wildcards: ID=TARA_076_150m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_150m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_150m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:19 2020]
Finished job 232.
207 of 589 steps (35%) done

[Mon Nov 30 23:59:19 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_5m_0.22-0.45_girus.bam
    jobid: 233
    wildcards: ID=TARA_076_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_5m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:19 2020]
Finished job 233.
208 of 589 steps (35%) done

[Mon Nov 30 23:59:19 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus.bam
    jobid: 353
    wildcards: ID=TARA_039_270m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_039_270m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_039_270m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:19 2020]
Finished job 353.
209 of 589 steps (35%) done

[Mon Nov 30 23:59:19 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_189_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_189_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 745
    wildcards: ID=TARA_189_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_189_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_189_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:19 2020]
Finished job 745.
210 of 589 steps (36%) done

[Mon Nov 30 23:59:19 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_039_5m_0.1-0.22_girus.bam
    jobid: 186
    wildcards: ID=TARA_039_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_039_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_039_5m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:19 2020]
Finished job 186.
211 of 589 steps (36%) done

[Mon Nov 30 23:59:19 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD56.bam
    jobid: 117
    wildcards: ID=OSD56


        curr_run_accs=$(grep -w -m 1 "^OSD56" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD56 ${curr_run_accs}
        
[Mon Nov 30 23:59:19 2020]
Finished job 117.
212 of 589 steps (36%) done

[Mon Nov 30 23:59:19 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD156.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD156-gene-coverages.tsv
    jobid: 468
    wildcards: ID=OSD156


        pileup.sh -in ../mapping-files/OSD156.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD156-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD156-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD156-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD156-gene-cov.tmp > ../mapping-files/OSD156-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD156-gene-cov-and-det.tmp ../mapping-files/OSD156-gene-cov.tmp
        
[Mon Nov 30 23:59:20 2020]
Finished job 468.
213 of 589 steps (36%) done

[Mon Nov 30 23:59:20 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD157.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD157-gene-coverages.tsv
    jobid: 469
    wildcards: ID=OSD157


        pileup.sh -in ../mapping-files/OSD157.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD157-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD157-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD157-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD157-gene-cov.tmp > ../mapping-files/OSD157-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD157-gene-cov-and-det.tmp ../mapping-files/OSD157-gene-cov.tmp
        
[Mon Nov 30 23:59:20 2020]
Finished job 469.
214 of 589 steps (36%) done

[Mon Nov 30 23:59:20 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD80-2.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD80-2-gene-coverages.tsv
    jobid: 553
    wildcards: ID=OSD80-2


        pileup.sh -in ../mapping-files/OSD80-2.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD80-2-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD80-2-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD80-2-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD80-2-gene-cov.tmp > ../mapping-files/OSD80-2-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD80-2-gene-cov-and-det.tmp ../mapping-files/OSD80-2-gene-cov.tmp
        
[Mon Nov 30 23:59:20 2020]
Finished job 553.
215 of 589 steps (37%) done

[Mon Nov 30 23:59:20 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A4-07-1000m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A4-07-1000m-34An-gene-coverages.tsv
    jobid: 775
    wildcards: ID=A4-07-1000m-34An


        pileup.sh -in ../mapping-files-HK/A4-07-1000m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A4-07-1000m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A4-07-1000m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A4-07-1000m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A4-07-1000m-34An-gene-cov.tmp > ../mapping-files-HK/A4-07-1000m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A4-07-1000m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A4-07-1000m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:20 2020]
Finished job 775.
216 of 589 steps (37%) done

[Mon Nov 30 23:59:20 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_110_5m_0.22-3_prok.bam
    jobid: 255
    wildcards: ID=TARA_110_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_110_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_110_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:20 2020]
Finished job 255.
217 of 589 steps (37%) done

[Mon Nov 30 23:59:20 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_158_25m_0.22-3_prok.bam
    jobid: 311
    wildcards: ID=TARA_158_25m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_158_25m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_158_25m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:20 2020]
Finished job 311.
218 of 589 steps (37%) done

[Mon Nov 30 23:59:20 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A3-09-3500m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A3-09-3500m-34An-gene-coverages.tsv
    jobid: 773
    wildcards: ID=A3-09-3500m-34An


        pileup.sh -in ../mapping-files-HK/A3-09-3500m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A3-09-3500m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A3-09-3500m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A3-09-3500m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A3-09-3500m-34An-gene-cov.tmp > ../mapping-files-HK/A3-09-3500m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A3-09-3500m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A3-09-3500m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:20 2020]
Finished job 773.
219 of 589 steps (37%) done

[Mon Nov 30 23:59:20 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD155.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD155-gene-coverages.tsv
    jobid: 466
    wildcards: ID=OSD155


        pileup.sh -in ../mapping-files/OSD155.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD155-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD155-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD155-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD155-gene-cov.tmp > ../mapping-files/OSD155-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD155-gene-cov-and-det.tmp ../mapping-files/OSD155-gene-cov.tmp
        
[Mon Nov 30 23:59:20 2020]
Finished job 466.
220 of 589 steps (37%) done

[Mon Nov 30 23:59:20 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_042_5m_0.22-1.6_prok.bam
    jobid: 188
    wildcards: ID=TARA_042_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_042_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_042_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:20 2020]
Finished job 188.
221 of 589 steps (38%) done

[Mon Nov 30 23:59:20 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD183.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD183-gene-coverages.tsv
    jobid: 492
    wildcards: ID=OSD183


        pileup.sh -in ../mapping-files/OSD183.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD183-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD183-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD183-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD183-gene-cov.tmp > ../mapping-files/OSD183-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD183-gene-cov-and-det.tmp ../mapping-files/OSD183-gene-cov.tmp
        
[Mon Nov 30 23:59:21 2020]
Finished job 492.
222 of 589 steps (38%) done

[Mon Nov 30 23:59:21 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD106-0.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD106-0-gene-coverages.tsv
    jobid: 423
    wildcards: ID=OSD106-0


        pileup.sh -in ../mapping-files/OSD106-0.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD106-0-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD106-0-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD106-0-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD106-0-gene-cov.tmp > ../mapping-files/OSD106-0-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD106-0-gene-cov-and-det.tmp ../mapping-files/OSD106-0-gene-cov.tmp
        
[Mon Nov 30 23:59:21 2020]
Finished job 423.
223 of 589 steps (38%) done

[Mon Nov 30 23:59:21 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD184.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD184-gene-coverages.tsv
    jobid: 493
    wildcards: ID=OSD184


        pileup.sh -in ../mapping-files/OSD184.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD184-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD184-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD184-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD184-gene-cov.tmp > ../mapping-files/OSD184-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD184-gene-cov-and-det.tmp ../mapping-files/OSD184-gene-cov.tmp
        
[Mon Nov 30 23:59:21 2020]
Finished job 493.
224 of 589 steps (38%) done

[Mon Nov 30 23:59:21 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD55.bam
    jobid: 116
    wildcards: ID=OSD55


        curr_run_accs=$(grep -w -m 1 "^OSD55" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD55 ${curr_run_accs}
        
[Mon Nov 30 23:59:21 2020]
Finished job 116.
225 of 589 steps (38%) done

[Mon Nov 30 23:59:21 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_033_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 584
    wildcards: ID=TARA_033_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_033_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:21 2020]
Finished job 584.
226 of 589 steps (38%) done

[Mon Nov 30 23:59:21 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A4-07-3000m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A4-07-3000m-34An-gene-coverages.tsv
    jobid: 776
    wildcards: ID=A4-07-3000m-34An


        pileup.sh -in ../mapping-files-HK/A4-07-3000m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A4-07-3000m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A4-07-3000m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A4-07-3000m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A4-07-3000m-34An-gene-cov.tmp > ../mapping-files-HK/A4-07-3000m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A4-07-3000m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A4-07-3000m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:21 2020]
Finished job 776.
227 of 589 steps (39%) done

[Mon Nov 30 23:59:21 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD105.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD105-gene-coverages.tsv
    jobid: 422
    wildcards: ID=OSD105


        pileup.sh -in ../mapping-files/OSD105.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD105-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD105-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD105-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD105-gene-cov.tmp > ../mapping-files/OSD105-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD105-gene-cov-and-det.tmp ../mapping-files/OSD105-gene-cov.tmp
        
[Mon Nov 30 23:59:21 2020]
Finished job 422.
228 of 589 steps (39%) done

[Mon Nov 30 23:59:21 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_072_5m_0.22-3_prok.bam
    jobid: 228
    wildcards: ID=TARA_072_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_072_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_072_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:21 2020]
Finished job 228.
229 of 589 steps (39%) done

[Mon Nov 30 23:59:21 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_132_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_132_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 704
    wildcards: ID=TARA_132_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_132_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_132_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:21 2020]
Finished job 704.
230 of 589 steps (39%) done

[Mon Nov 30 23:59:22 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD144.bam
    jobid: 39
    wildcards: ID=OSD144


        curr_run_accs=$(grep -w -m 1 "^OSD144" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD144 ${curr_run_accs}
        
[Mon Nov 30 23:59:22 2020]
Finished job 39.
231 of 589 steps (39%) done

[Mon Nov 30 23:59:22 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A4-07-300m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A4-07-300m-34An-gene-coverages.tsv
    jobid: 777
    wildcards: ID=A4-07-300m-34An


        pileup.sh -in ../mapping-files-HK/A4-07-300m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A4-07-300m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A4-07-300m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A4-07-300m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A4-07-300m-34An-gene-cov.tmp > ../mapping-files-HK/A4-07-300m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A4-07-300m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A4-07-300m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:22 2020]
Finished job 777.
232 of 589 steps (39%) done

[Mon Nov 30 23:59:22 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_155_751m_0.22-3_prok.bam
    jobid: 310
    wildcards: ID=TARA_155_751m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_155_751m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_155_751m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:22 2020]
Finished job 310.
233 of 589 steps (40%) done

[Mon Nov 30 23:59:22 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD77.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD77-gene-coverages.tsv
    jobid: 550
    wildcards: ID=OSD77


        pileup.sh -in ../mapping-files/OSD77.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD77-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD77-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD77-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD77-gene-cov.tmp > ../mapping-files/OSD77-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD77-gene-cov-and-det.tmp ../mapping-files/OSD77-gene-cov.tmp
        
[Mon Nov 30 23:59:22 2020]
Finished job 550.
234 of 589 steps (40%) done

[Mon Nov 30 23:59:22 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_072_800m_0.22-3_prok.bam
    jobid: 229
    wildcards: ID=TARA_072_800m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_072_800m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_072_800m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:22 2020]
Finished job 229.
235 of 589 steps (40%) done

[Mon Nov 30 23:59:22 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD64.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD64-gene-coverages.tsv
    jobid: 540
    wildcards: ID=OSD64


        pileup.sh -in ../mapping-files/OSD64.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD64-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD64-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD64-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD64-gene-cov.tmp > ../mapping-files/OSD64-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD64-gene-cov-and-det.tmp ../mapping-files/OSD64-gene-cov.tmp
        
[Mon Nov 30 23:59:22 2020]
Finished job 540.
236 of 589 steps (40%) done

[Mon Nov 30 23:59:22 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_155_5m_0.22-3_prok.bam
    jobid: 309
    wildcards: ID=TARA_155_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_155_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_155_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:22 2020]
Finished job 309.
237 of 589 steps (40%) done

[Mon Nov 30 23:59:22 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD182.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD182-gene-coverages.tsv
    jobid: 491
    wildcards: ID=OSD182


        pileup.sh -in ../mapping-files/OSD182.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD182-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD182-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD182-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD182-gene-cov.tmp > ../mapping-files/OSD182-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD182-gene-cov-and-det.tmp ../mapping-files/OSD182-gene-cov.tmp
        
[Mon Nov 30 23:59:22 2020]
Finished job 491.
238 of 589 steps (40%) done

[Mon Nov 30 23:59:22 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A3-09-1000m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A3-09-1000m-34An-gene-coverages.tsv
    jobid: 771
    wildcards: ID=A3-09-1000m-34An


        pileup.sh -in ../mapping-files-HK/A3-09-1000m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A3-09-1000m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A3-09-1000m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A3-09-1000m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A3-09-1000m-34An-gene-cov.tmp > ../mapping-files-HK/A3-09-1000m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A3-09-1000m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A3-09-1000m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:23 2020]
Finished job 771.
239 of 589 steps (41%) done

[Mon Nov 30 23:59:23 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD78.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD78-gene-coverages.tsv
    jobid: 551
    wildcards: ID=OSD78


        pileup.sh -in ../mapping-files/OSD78.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD78-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD78-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD78-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD78-gene-cov.tmp > ../mapping-files/OSD78-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD78-gene-cov-and-det.tmp ../mapping-files/OSD78-gene-cov.tmp
        
[Mon Nov 30 23:59:23 2020]
Finished job 551.
240 of 589 steps (41%) done

[Mon Nov 30 23:59:23 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD65.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD65-gene-coverages.tsv
    jobid: 541
    wildcards: ID=OSD65


        pileup.sh -in ../mapping-files/OSD65.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD65-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD65-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD65-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD65-gene-cov.tmp > ../mapping-files/OSD65-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD65-gene-cov-and-det.tmp ../mapping-files/OSD65-gene-cov.tmp
        
[Mon Nov 30 23:59:23 2020]
Finished job 541.
241 of 589 steps (41%) done

[Mon Nov 30 23:59:23 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD103.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD103-gene-coverages.tsv
    jobid: 421
    wildcards: ID=OSD103


        pileup.sh -in ../mapping-files/OSD103.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD103-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD103-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD103-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD103-gene-cov.tmp > ../mapping-files/OSD103-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD103-gene-cov-and-det.tmp ../mapping-files/OSD103-gene-cov.tmp
        
[Mon Nov 30 23:59:23 2020]
Finished job 421.
242 of 589 steps (41%) done

[Mon Nov 30 23:59:23 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_067_5m_0.22-3_prok.bam
    jobid: 211
    wildcards: ID=TARA_067_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_067_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_067_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:23 2020]
Finished job 211.
243 of 589 steps (41%) done

[Mon Nov 30 23:59:23 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD15-50.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD15-50-gene-coverages.tsv
    jobid: 467
    wildcards: ID=OSD15-50


        pileup.sh -in ../mapping-files/OSD15-50.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD15-50-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD15-50-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD15-50-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD15-50-gene-cov.tmp > ../mapping-files/OSD15-50-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD15-50-gene-cov-and-det.tmp ../mapping-files/OSD15-50-gene-cov.tmp
        
[Mon Nov 30 23:59:23 2020]
Finished job 467.
244 of 589 steps (41%) done

[Mon Nov 30 23:59:23 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_150m_0.22-0.45_girus.bam
    jobid: 230
    wildcards: ID=TARA_076_150m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_150m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_150m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:23 2020]
Finished job 230.
245 of 589 steps (42%) done

[Mon Nov 30 23:59:23 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD185.bam
    jobid: 80
    wildcards: ID=OSD185


        curr_run_accs=$(grep -w -m 1 "^OSD185" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD185 ${curr_run_accs}
        
[Mon Nov 30 23:59:23 2020]
Finished job 80.
246 of 589 steps (42%) done

[Mon Nov 30 23:59:23 2020]
rule parse_454_gene_level_cov_and_det:
    input: ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 769
    wildcards: ID=TARA_046_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:23 2020]
Finished job 769.
247 of 589 steps (42%) done

[Mon Nov 30 23:59:23 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_067_5m_0.22-0.45_girus.bam
    jobid: 210
    wildcards: ID=TARA_067_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_067_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_067_5m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:24 2020]
Finished job 210.
248 of 589 steps (42%) done

[Mon Nov 30 23:59:24 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_155_40m_0.22-3_prok.bam
    jobid: 308
    wildcards: ID=TARA_155_40m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_155_40m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_155_40m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:24 2020]
Finished job 308.
249 of 589 steps (42%) done

[Mon Nov 30 23:59:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_039_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 600
    wildcards: ID=TARA_039_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_039_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:24 2020]
Finished job 600.
250 of 589 steps (42%) done

[Mon Nov 30 23:59:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD69.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD69-gene-coverages.tsv
    jobid: 542
    wildcards: ID=OSD69


        pileup.sh -in ../mapping-files/OSD69.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD69-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD69-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD69-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD69-gene-cov.tmp > ../mapping-files/OSD69-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD69-gene-cov-and-det.tmp ../mapping-files/OSD69-gene-cov.tmp
        
[Mon Nov 30 23:59:24 2020]
Finished job 542.
251 of 589 steps (43%) done

[Mon Nov 30 23:59:24 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_098_5m_0.22-3_prok.bam
    jobid: 251
    wildcards: ID=TARA_098_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_098_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_098_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:24 2020]
Finished job 251.
252 of 589 steps (43%) done

[Mon Nov 30 23:59:24 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_152_800m_0.22-3_prok.bam
    jobid: 307
    wildcards: ID=TARA_152_800m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_152_800m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_152_800m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:24 2020]
Finished job 307.
253 of 589 steps (43%) done

[Mon Nov 30 23:59:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD101.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD101-gene-coverages.tsv
    jobid: 419
    wildcards: ID=OSD101


        pileup.sh -in ../mapping-files/OSD101.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD101-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD101-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD101-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD101-gene-cov.tmp > ../mapping-files/OSD101-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD101-gene-cov-and-det.tmp ../mapping-files/OSD101-gene-cov.tmp
        
[Mon Nov 30 23:59:24 2020]
Finished job 419.
254 of 589 steps (43%) done

[Mon Nov 30 23:59:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_042_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 602
    wildcards: ID=TARA_042_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_042_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:24 2020]
Finished job 602.
255 of 589 steps (43%) done

[Mon Nov 30 23:59:24 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/ICE04-0m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/ICE04-0m-9Ar-gene-coverages.tsv
    jobid: 794
    wildcards: ID=ICE04-0m-9Ar


        pileup.sh -in ../mapping-files-HK/ICE04-0m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/ICE04-0m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/ICE04-0m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/ICE04-0m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/ICE04-0m-9Ar-gene-cov.tmp > ../mapping-files-HK/ICE04-0m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/ICE04-0m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/ICE04-0m-9Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:25 2020]
Finished job 794.
256 of 589 steps (43%) done

[Mon Nov 30 23:59:25 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A4-07-0m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A4-07-0m-34An-gene-coverages.tsv
    jobid: 774
    wildcards: ID=A4-07-0m-34An


        pileup.sh -in ../mapping-files-HK/A4-07-0m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A4-07-0m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A4-07-0m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A4-07-0m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A4-07-0m-34An-gene-cov.tmp > ../mapping-files-HK/A4-07-0m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A4-07-0m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A4-07-0m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:25 2020]
Finished job 774.
257 of 589 steps (44%) done

[Mon Nov 30 23:59:25 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD186.bam
    jobid: 81
    wildcards: ID=OSD186


        curr_run_accs=$(grep -w -m 1 "^OSD186" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD186 ${curr_run_accs}
        
[Mon Nov 30 23:59:25 2020]
Finished job 81.
258 of 589 steps (44%) done

[Mon Nov 30 23:59:25 2020]
rule parse_454_gene_level_cov_and_det:
    input: ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 768
    wildcards: ID=TARA_043_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:25 2020]
Finished job 768.
259 of 589 steps (44%) done

[Mon Nov 30 23:59:25 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_066_5m_0.22-3_prok.bam
    jobid: 209
    wildcards: ID=TARA_066_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_066_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_066_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:25 2020]
Finished job 209.
260 of 589 steps (44%) done

[Mon Nov 30 23:59:25 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD102.bam
    jobid: 6
    wildcards: ID=OSD102


        curr_run_accs=$(grep -w -m 1 "^OSD102" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD102 ${curr_run_accs}
        
[Mon Nov 30 23:59:25 2020]
Finished job 6.
261 of 589 steps (44%) done

[Mon Nov 30 23:59:25 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_123_5m_0.22-0.45_girus.bam
    jobid: 272
    wildcards: ID=TARA_123_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_123_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_123_5m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:25 2020]
Finished job 272.
262 of 589 steps (44%) done

[Mon Nov 30 23:59:25 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_042_80m_0.22-1.6_prok.bam
    jobid: 189
    wildcards: ID=TARA_042_80m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_042_80m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_042_80m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:25 2020]
Finished job 189.
263 of 589 steps (45%) done

[Mon Nov 30 23:59:25 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD19.bam
    jobid: 82
    wildcards: ID=OSD19


        curr_run_accs=$(grep -w -m 1 "^OSD19" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD19 ${curr_run_accs}
        
[Mon Nov 30 23:59:26 2020]
Finished job 82.
264 of 589 steps (45%) done

[Mon Nov 30 23:59:26 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD100.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD100-gene-coverages.tsv
    jobid: 418
    wildcards: ID=OSD100


        pileup.sh -in ../mapping-files/OSD100.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD100-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD100-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD100-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD100-gene-cov.tmp > ../mapping-files/OSD100-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD100-gene-cov-and-det.tmp ../mapping-files/OSD100-gene-cov.tmp
        
[Mon Nov 30 23:59:26 2020]
Finished job 418.
265 of 589 steps (45%) done

[Mon Nov 30 23:59:26 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD63.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD63-gene-coverages.tsv
    jobid: 539
    wildcards: ID=OSD63


        pileup.sh -in ../mapping-files/OSD63.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD63-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD63-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD63-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD63-gene-cov.tmp > ../mapping-files/OSD63-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD63-gene-cov-and-det.tmp ../mapping-files/OSD63-gene-cov.tmp
        
[Mon Nov 30 23:59:26 2020]
Finished job 539.
266 of 589 steps (45%) done

[Mon Nov 30 23:59:26 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_045_5m_0.22-1.6_prok.bam
    jobid: 190
    wildcards: ID=TARA_045_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_045_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_045_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:26 2020]
Finished job 190.
267 of 589 steps (45%) done

[Mon Nov 30 23:59:26 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A5-10-0m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A5-10-0m-34An-gene-coverages.tsv
    jobid: 778
    wildcards: ID=A5-10-0m-34An


        pileup.sh -in ../mapping-files-HK/A5-10-0m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A5-10-0m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A5-10-0m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A5-10-0m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A5-10-0m-34An-gene-cov.tmp > ../mapping-files-HK/A5-10-0m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A5-10-0m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A5-10-0m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:26 2020]
Finished job 778.
268 of 589 steps (46%) done

[Mon Nov 30 23:59:26 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_072_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_072_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 642
    wildcards: ID=TARA_072_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_072_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_072_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:26 2020]
Finished job 642.
269 of 589 steps (46%) done

[Mon Nov 30 23:59:26 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_042_80m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 603
    wildcards: ID=TARA_042_80m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_042_80m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:26 2020]
Finished job 603.
270 of 589 steps (46%) done

[Mon Nov 30 23:59:26 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_048_5m_0.22-1.6_prok.bam
    jobid: 192
    wildcards: ID=TARA_048_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_048_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_048_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:26 2020]
Finished job 192.
271 of 589 steps (46%) done

[Mon Nov 30 23:59:26 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A5-10-300m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A5-10-300m-34An-gene-coverages.tsv
    jobid: 780
    wildcards: ID=A5-10-300m-34An


        pileup.sh -in ../mapping-files-HK/A5-10-300m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A5-10-300m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A5-10-300m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A5-10-300m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A5-10-300m-34An-gene-cov.tmp > ../mapping-files-HK/A5-10-300m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A5-10-300m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A5-10-300m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:27 2020]
Finished job 780.
272 of 589 steps (46%) done

[Mon Nov 30 23:59:27 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_049_5m_0.22-1.6_girus.bam
    jobid: 193
    wildcards: ID=TARA_049_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_049_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_049_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:27 2020]
Finished job 193.
273 of 589 steps (46%) done

[Mon Nov 30 23:59:27 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD7.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD7-gene-coverages.tsv
    jobid: 543
    wildcards: ID=OSD7


        pileup.sh -in ../mapping-files/OSD7.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD7-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD7-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD7-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD7-gene-cov.tmp > ../mapping-files/OSD7-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD7-gene-cov-and-det.tmp ../mapping-files/OSD7-gene-cov.tmp
        
[Mon Nov 30 23:59:27 2020]
Finished job 543.
274 of 589 steps (47%) done

[Mon Nov 30 23:59:27 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD110.bam
    jobid: 14
    wildcards: ID=OSD110


        curr_run_accs=$(grep -w -m 1 "^OSD110" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD110 ${curr_run_accs}
        
[Mon Nov 30 23:59:27 2020]
Finished job 14.
275 of 589 steps (47%) done

[Mon Nov 30 23:59:27 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_056_1000m_0.22-3_prok.bam
    jobid: 194
    wildcards: ID=TARA_056_1000m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_056_1000m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_056_1000m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:27 2020]
Finished job 194.
276 of 589 steps (47%) done

[Mon Nov 30 23:59:27 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD70.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD70-gene-coverages.tsv
    jobid: 544
    wildcards: ID=OSD70


        pileup.sh -in ../mapping-files/OSD70.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD70-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD70-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD70-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD70-gene-cov.tmp > ../mapping-files/OSD70-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD70-gene-cov-and-det.tmp ../mapping-files/OSD70-gene-cov.tmp
        
[Mon Nov 30 23:59:27 2020]
Finished job 544.
277 of 589 steps (47%) done

[Mon Nov 30 23:59:27 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/AT04-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/AT04-0m-8Ar-gene-coverages.tsv
    jobid: 782
    wildcards: ID=AT04-0m-8Ar


        pileup.sh -in ../mapping-files-HK/AT04-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/AT04-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/AT04-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/AT04-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/AT04-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/AT04-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/AT04-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/AT04-0m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:27 2020]
Finished job 782.
278 of 589 steps (47%) done

[Mon Nov 30 23:59:27 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD71.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD71-gene-coverages.tsv
    jobid: 545
    wildcards: ID=OSD71


        pileup.sh -in ../mapping-files/OSD71.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD71-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD71-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD71-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD71-gene-cov.tmp > ../mapping-files/OSD71-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD71-gene-cov-and-det.tmp ../mapping-files/OSD71-gene-cov.tmp
        
[Mon Nov 30 23:59:27 2020]
Finished job 545.
279 of 589 steps (47%) done

[Mon Nov 30 23:59:27 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD129.bam
    jobid: 29
    wildcards: ID=OSD129


        curr_run_accs=$(grep -w -m 1 "^OSD129" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD129 ${curr_run_accs}
        
[Mon Nov 30 23:59:27 2020]
Finished job 29.
280 of 589 steps (48%) done

[Mon Nov 30 23:59:28 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_056_5m_0.22-3_prok.bam
    jobid: 195
    wildcards: ID=TARA_056_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_056_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_056_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:28 2020]
Finished job 195.
281 of 589 steps (48%) done

[Mon Nov 30 23:59:28 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_072_800m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_072_800m_0.22-3_prok-gene-coverages.tsv
    jobid: 643
    wildcards: ID=TARA_072_800m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_072_800m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_072_800m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_072_800m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_072_800m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_072_800m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_072_800m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_072_800m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_072_800m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:28 2020]
Finished job 643.
282 of 589 steps (48%) done

[Mon Nov 30 23:59:28 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_057_5m_0.22-3_prok.bam
    jobid: 196
    wildcards: ID=TARA_057_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_057_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_057_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:28 2020]
Finished job 196.
283 of 589 steps (48%) done

[Mon Nov 30 23:59:28 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/AT04-3000m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/AT04-3000m-8Ar-gene-coverages.tsv
    jobid: 784
    wildcards: ID=AT04-3000m-8Ar


        pileup.sh -in ../mapping-files-HK/AT04-3000m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/AT04-3000m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/AT04-3000m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/AT04-3000m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/AT04-3000m-8Ar-gene-cov.tmp > ../mapping-files-HK/AT04-3000m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/AT04-3000m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/AT04-3000m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:28 2020]
Finished job 784.
284 of 589 steps (48%) done

[Mon Nov 30 23:59:28 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD13.bam
    jobid: 30
    wildcards: ID=OSD13


        curr_run_accs=$(grep -w -m 1 "^OSD13" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD13 ${curr_run_accs}
        
[Mon Nov 30 23:59:28 2020]
Finished job 30.
285 of 589 steps (48%) done

[Mon Nov 30 23:59:28 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_025_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 578
    wildcards: ID=TARA_025_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_025_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:28 2020]
Finished job 578.
286 of 589 steps (49%) done

[Mon Nov 30 23:59:28 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_076_150m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 644
    wildcards: ID=TARA_076_150m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_076_150m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:28 2020]
Finished job 644.
287 of 589 steps (49%) done

[Mon Nov 30 23:59:28 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD111.bam
    jobid: 15
    wildcards: ID=OSD111


        curr_run_accs=$(grep -w -m 1 "^OSD111" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD111 ${curr_run_accs}
        
[Mon Nov 30 23:59:29 2020]
Finished job 15.
288 of 589 steps (49%) done

[Mon Nov 30 23:59:29 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD20-20.bam
    jobid: 85
    wildcards: ID=OSD20-20


        curr_run_accs=$(grep -w -m 1 "^OSD20-20" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD20-20 ${curr_run_accs}
        
[Mon Nov 30 23:59:29 2020]
Finished job 85.
289 of 589 steps (49%) done

[Mon Nov 30 23:59:29 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD130.bam
    jobid: 31
    wildcards: ID=OSD130


        curr_run_accs=$(grep -w -m 1 "^OSD130" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD130 ${curr_run_accs}
        
[Mon Nov 30 23:59:29 2020]
Finished job 31.
290 of 589 steps (49%) done

[Mon Nov 30 23:59:29 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_030_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 579
    wildcards: ID=TARA_030_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_030_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:29 2020]
Finished job 579.
291 of 589 steps (49%) done

[Mon Nov 30 23:59:29 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD133.bam
    jobid: 34
    wildcards: ID=OSD133


        curr_run_accs=$(grep -w -m 1 "^OSD133" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD133 ${curr_run_accs}
        
[Mon Nov 30 23:59:29 2020]
Finished job 34.
292 of 589 steps (50%) done

[Mon Nov 30 23:59:29 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_076_150m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_076_150m_0.22-3_prok-gene-coverages.tsv
    jobid: 645
    wildcards: ID=TARA_076_150m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_076_150m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_076_150m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_076_150m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_076_150m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_076_150m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_076_150m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_076_150m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_076_150m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:29 2020]
Finished job 645.
293 of 589 steps (50%) done

[Mon Nov 30 23:59:29 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD113.bam
    jobid: 16
    wildcards: ID=OSD113


        curr_run_accs=$(grep -w -m 1 "^OSD113" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD113 ${curr_run_accs}
        
[Mon Nov 30 23:59:29 2020]
Finished job 16.
294 of 589 steps (50%) done

[Mon Nov 30 23:59:29 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD21.bam
    jobid: 86
    wildcards: ID=OSD21


        curr_run_accs=$(grep -w -m 1 "^OSD21" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD21 ${curr_run_accs}
        
[Mon Nov 30 23:59:29 2020]
Finished job 86.
295 of 589 steps (50%) done

[Mon Nov 30 23:59:29 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_036_17m_0.22-1.6_prok.bam
    jobid: 174
    wildcards: ID=TARA_036_17m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_036_17m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_036_17m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:29 2020]
Finished job 174.
296 of 589 steps (50%) done

[Mon Nov 30 23:59:29 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_030_70m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 580
    wildcards: ID=TARA_030_70m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_030_70m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:30 2020]
Finished job 580.
297 of 589 steps (50%) done

[Mon Nov 30 23:59:30 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_076_150m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 646
    wildcards: ID=TARA_076_150m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_076_150m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:30 2020]
Finished job 646.
298 of 589 steps (51%) done

[Mon Nov 30 23:59:30 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD114.bam
    jobid: 17
    wildcards: ID=OSD114


        curr_run_accs=$(grep -w -m 1 "^OSD114" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD114 ${curr_run_accs}
        
[Mon Nov 30 23:59:30 2020]
Finished job 17.
299 of 589 steps (51%) done

[Mon Nov 30 23:59:30 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD22.bam
    jobid: 87
    wildcards: ID=OSD22


        curr_run_accs=$(grep -w -m 1 "^OSD22" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD22 ${curr_run_accs}
        
[Mon Nov 30 23:59:30 2020]
Finished job 87.
300 of 589 steps (51%) done

[Mon Nov 30 23:59:30 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD14.bam
    jobid: 35
    wildcards: ID=OSD14


        curr_run_accs=$(grep -w -m 1 "^OSD14" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD14 ${curr_run_accs}
        
[Mon Nov 30 23:59:30 2020]
Finished job 35.
301 of 589 steps (51%) done

[Mon Nov 30 23:59:30 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_076_5m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 647
    wildcards: ID=TARA_076_5m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_076_5m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:30 2020]
Finished job 647.
302 of 589 steps (51%) done

[Mon Nov 30 23:59:30 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/ICE04-100m-9Ar.bam
    jobid: 382
    wildcards: ID=ICE04-100m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^ICE04-100m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^ICE04-100m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 ICE04-100m-9Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:30 2020]
Finished job 382.
303 of 589 steps (51%) done

[Mon Nov 30 23:59:30 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_096_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_096_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 662
    wildcards: ID=TARA_096_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_096_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_096_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_096_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_096_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_096_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_096_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_096_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_096_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:30 2020]
Finished job 662.
304 of 589 steps (52%) done

[Mon Nov 30 23:59:30 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/LB01-1000m-8Ar.bam
    jobid: 385
    wildcards: ID=LB01-1000m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^LB01-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^LB01-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 LB01-1000m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:31 2020]
Finished job 385.
305 of 589 steps (52%) done

[Mon Nov 30 23:59:31 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_031_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 581
    wildcards: ID=TARA_031_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_031_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:31 2020]
Finished job 581.
306 of 589 steps (52%) done

[Mon Nov 30 23:59:31 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD185.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD185-gene-coverages.tsv
    jobid: 494
    wildcards: ID=OSD185


        pileup.sh -in ../mapping-files/OSD185.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD185-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD185-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD185-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD185-gene-cov.tmp > ../mapping-files/OSD185-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD185-gene-cov-and-det.tmp ../mapping-files/OSD185-gene-cov.tmp
        
[Mon Nov 30 23:59:31 2020]
Finished job 494.
307 of 589 steps (52%) done

[Mon Nov 30 23:59:31 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/AT04-1000m-8Ar.bam
    jobid: 369
    wildcards: ID=AT04-1000m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^AT04-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^AT04-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 AT04-1000m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:31 2020]
Finished job 369.
308 of 589 steps (52%) done

[Mon Nov 30 23:59:31 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/ICE04-2280m-9Ar.bam
    jobid: 383
    wildcards: ID=ICE04-2280m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^ICE04-2280m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^ICE04-2280m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 ICE04-2280m-9Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:31 2020]
Finished job 383.
309 of 589 steps (52%) done

[Mon Nov 30 23:59:31 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_098_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_098_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 665
    wildcards: ID=TARA_098_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_098_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_098_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:31 2020]
Finished job 665.
310 of 589 steps (53%) done

[Mon Nov 30 23:59:31 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD76.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD76-gene-coverages.tsv
    jobid: 549
    wildcards: ID=OSD76


        pileup.sh -in ../mapping-files/OSD76.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD76-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD76-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD76-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD76-gene-cov.tmp > ../mapping-files/OSD76-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD76-gene-cov-and-det.tmp ../mapping-files/OSD76-gene-cov.tmp
        
[Mon Nov 30 23:59:31 2020]
Finished job 549.
311 of 589 steps (53%) done

[Mon Nov 30 23:59:31 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD144.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD144-gene-coverages.tsv
    jobid: 453
    wildcards: ID=OSD144


        pileup.sh -in ../mapping-files/OSD144.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD144-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD144-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD144-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD144-gene-cov.tmp > ../mapping-files/OSD144-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD144-gene-cov-and-det.tmp ../mapping-files/OSD144-gene-cov.tmp
        
[Mon Nov 30 23:59:31 2020]
Finished job 453.
312 of 589 steps (53%) done

[Mon Nov 30 23:59:31 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD186.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD186-gene-coverages.tsv
    jobid: 495
    wildcards: ID=OSD186


        pileup.sh -in ../mapping-files/OSD186.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD186-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD186-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD186-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD186-gene-cov.tmp > ../mapping-files/OSD186-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD186-gene-cov-and-det.tmp ../mapping-files/OSD186-gene-cov.tmp
        
[Mon Nov 30 23:59:32 2020]
Finished job 495.
313 of 589 steps (53%) done

[Mon Nov 30 23:59:32 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD145.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD145-gene-coverages.tsv
    jobid: 454
    wildcards: ID=OSD145


        pileup.sh -in ../mapping-files/OSD145.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD145-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD145-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD145-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD145-gene-cov.tmp > ../mapping-files/OSD145-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD145-gene-cov-and-det.tmp ../mapping-files/OSD145-gene-cov.tmp
        
[Mon Nov 30 23:59:32 2020]
Finished job 454.
314 of 589 steps (53%) done

[Mon Nov 30 23:59:32 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/LB01-300m-8Ar.bam
    jobid: 386
    wildcards: ID=LB01-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^LB01-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^LB01-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 LB01-300m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:32 2020]
Finished job 386.
315 of 589 steps (53%) done

[Mon Nov 30 23:59:32 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD19.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD19-gene-coverages.tsv
    jobid: 496
    wildcards: ID=OSD19


        pileup.sh -in ../mapping-files/OSD19.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD19-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD19-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD19-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD19-gene-cov.tmp > ../mapping-files/OSD19-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD19-gene-cov-and-det.tmp ../mapping-files/OSD19-gene-cov.tmp
        
[Mon Nov 30 23:59:32 2020]
Finished job 496.
316 of 589 steps (54%) done

[Mon Nov 30 23:59:32 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/AT04-300m-8Ar.bam
    jobid: 371
    wildcards: ID=AT04-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^AT04-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^AT04-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 AT04-300m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:32 2020]
Finished job 371.
317 of 589 steps (54%) done

[Mon Nov 30 23:59:32 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD2.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD2-gene-coverages.tsv
    jobid: 497
    wildcards: ID=OSD2


        pileup.sh -in ../mapping-files/OSD2.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD2-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD2-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD2-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD2-gene-cov.tmp > ../mapping-files/OSD2-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD2-gene-cov-and-det.tmp ../mapping-files/OSD2-gene-cov.tmp
        
[Mon Nov 30 23:59:32 2020]
Finished job 497.
318 of 589 steps (54%) done

[Mon Nov 30 23:59:32 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD146.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD146-gene-coverages.tsv
    jobid: 455
    wildcards: ID=OSD146


        pileup.sh -in ../mapping-files/OSD146.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD146-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD146-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD146-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD146-gene-cov.tmp > ../mapping-files/OSD146-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD146-gene-cov-and-det.tmp ../mapping-files/OSD146-gene-cov.tmp
        
[Mon Nov 30 23:59:32 2020]
Finished job 455.
319 of 589 steps (54%) done

[Mon Nov 30 23:59:32 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_155_40m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_155_40m_0.22-3_prok-gene-coverages.tsv
    jobid: 722
    wildcards: ID=TARA_155_40m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_155_40m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_155_40m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_155_40m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_155_40m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_155_40m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_155_40m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_155_40m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_155_40m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:32 2020]
Finished job 722.
320 of 589 steps (54%) done

[Mon Nov 30 23:59:32 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_066_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_066_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 623
    wildcards: ID=TARA_066_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_066_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_066_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:33 2020]
Finished job 623.
321 of 589 steps (54%) done

[Mon Nov 30 23:59:33 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_132_115m_0.22-3_prok.bam
    jobid: 288
    wildcards: ID=TARA_132_115m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_132_115m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_132_115m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:33 2020]
Finished job 288.
322 of 589 steps (55%) done

[Mon Nov 30 23:59:33 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD20-0.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD20-0-gene-coverages.tsv
    jobid: 498
    wildcards: ID=OSD20-0


        pileup.sh -in ../mapping-files/OSD20-0.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD20-0-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD20-0-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD20-0-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD20-0-gene-cov.tmp > ../mapping-files/OSD20-0-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD20-0-gene-cov-and-det.tmp ../mapping-files/OSD20-0-gene-cov.tmp
        
[Mon Nov 30 23:59:33 2020]
Finished job 498.
323 of 589 steps (55%) done

[Mon Nov 30 23:59:33 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_099_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_099_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 666
    wildcards: ID=TARA_099_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_099_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_099_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:33 2020]
Finished job 666.
324 of 589 steps (55%) done

[Mon Nov 30 23:59:33 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_067_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_067_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 625
    wildcards: ID=TARA_067_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_067_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_067_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:33 2020]
Finished job 625.
325 of 589 steps (55%) done

[Mon Nov 30 23:59:33 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_067_5m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 624
    wildcards: ID=TARA_067_5m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_067_5m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:33 2020]
Finished job 624.
326 of 589 steps (55%) done

[Mon Nov 30 23:59:33 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_132_550m_0.22-3_prok.bam
    jobid: 289
    wildcards: ID=TARA_132_550m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_132_550m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_132_550m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:33 2020]
Finished job 289.
327 of 589 steps (56%) done

[Mon Nov 30 23:59:33 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/LB01-5m-8Ar.bam
    jobid: 387
    wildcards: ID=LB01-5m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^LB01-5m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^LB01-5m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 LB01-5m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:33 2020]
Finished job 387.
328 of 589 steps (56%) done

[Mon Nov 30 23:59:33 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_110_380m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_110_380m_0.22-3_prok-gene-coverages.tsv
    jobid: 667
    wildcards: ID=TARA_110_380m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_110_380m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_110_380m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:33 2020]
Finished job 667.
329 of 589 steps (56%) done

[Mon Nov 30 23:59:33 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD21.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD21-gene-coverages.tsv
    jobid: 500
    wildcards: ID=OSD21


        pileup.sh -in ../mapping-files/OSD21.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD21-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD21-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD21-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD21-gene-cov.tmp > ../mapping-files/OSD21-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD21-gene-cov-and-det.tmp ../mapping-files/OSD21-gene-cov.tmp
        
[Mon Nov 30 23:59:34 2020]
Finished job 500.
330 of 589 steps (56%) done

[Mon Nov 30 23:59:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_155_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_155_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 723
    wildcards: ID=TARA_155_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_155_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_155_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:34 2020]
Finished job 723.
331 of 589 steps (56%) done

[Mon Nov 30 23:59:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD20-20.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD20-20-gene-coverages.tsv
    jobid: 499
    wildcards: ID=OSD20-20


        pileup.sh -in ../mapping-files/OSD20-20.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD20-20-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD20-20-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD20-20-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD20-20-gene-cov.tmp > ../mapping-files/OSD20-20-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD20-20-gene-cov-and-det.tmp ../mapping-files/OSD20-20-gene-cov.tmp
        
[Mon Nov 30 23:59:34 2020]
Finished job 499.
332 of 589 steps (56%) done

[Mon Nov 30 23:59:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_067_5m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 626
    wildcards: ID=TARA_067_5m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_067_5m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:34 2020]
Finished job 626.
333 of 589 steps (57%) done

[Mon Nov 30 23:59:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_110_50m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_110_50m_0.22-3_prok-gene-coverages.tsv
    jobid: 668
    wildcards: ID=TARA_110_50m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_110_50m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_110_50m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:34 2020]
Finished job 668.
334 of 589 steps (57%) done

[Mon Nov 30 23:59:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_110_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_110_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 669
    wildcards: ID=TARA_110_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_110_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_110_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:34 2020]
Finished job 669.
335 of 589 steps (57%) done

[Mon Nov 30 23:59:34 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_115m_0.1-0.22_girus.bam
    jobid: 260
    wildcards: ID=TARA_122_115m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_115m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_115m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:34 2020]
Finished job 260.
336 of 589 steps (57%) done

[Mon Nov 30 23:59:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_155_751m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_155_751m_0.22-3_prok-gene-coverages.tsv
    jobid: 724
    wildcards: ID=TARA_155_751m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_155_751m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_155_751m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:34 2020]
Finished job 724.
337 of 589 steps (57%) done

[Mon Nov 30 23:59:34 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_133_45m_0.22-3_prok.bam
    jobid: 291
    wildcards: ID=TARA_133_45m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_133_45m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_133_45m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:35 2020]
Finished job 291.
338 of 589 steps (57%) done

[Mon Nov 30 23:59:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_068_50m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 627
    wildcards: ID=TARA_068_50m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_068_50m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:35 2020]
Finished job 627.
339 of 589 steps (58%) done

[Mon Nov 30 23:59:35 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/BB08-1000m-8Ar.bam
    jobid: 376
    wildcards: ID=BB08-1000m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^BB08-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^BB08-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 BB08-1000m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:35 2020]
Finished job 376.
340 of 589 steps (58%) done

[Mon Nov 30 23:59:35 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_036_5m_0.22-1.6_girus.bam
    jobid: 176
    wildcards: ID=TARA_036_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_036_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_036_5m_0.22-1.6_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:35 2020]
Finished job 176.
341 of 589 steps (58%) done

[Mon Nov 30 23:59:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD150.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD150-gene-coverages.tsv
    jobid: 459
    wildcards: ID=OSD150


        pileup.sh -in ../mapping-files/OSD150.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD150-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD150-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD150-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD150-gene-cov.tmp > ../mapping-files/OSD150-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD150-gene-cov-and-det.tmp ../mapping-files/OSD150-gene-cov.tmp
        
[Mon Nov 30 23:59:35 2020]
Finished job 459.
342 of 589 steps (58%) done

[Mon Nov 30 23:59:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_158_25m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_158_25m_0.22-3_prok-gene-coverages.tsv
    jobid: 725
    wildcards: ID=TARA_158_25m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_158_25m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_158_25m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:35 2020]
Finished job 725.
343 of 589 steps (58%) done

[Mon Nov 30 23:59:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD22.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD22-gene-coverages.tsv
    jobid: 501
    wildcards: ID=OSD22


        pileup.sh -in ../mapping-files/OSD22.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD22-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD22-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD22-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD22-gene-cov.tmp > ../mapping-files/OSD22-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD22-gene-cov-and-det.tmp ../mapping-files/OSD22-gene-cov.tmp
        
[Mon Nov 30 23:59:35 2020]
Finished job 501.
344 of 589 steps (58%) done

[Mon Nov 30 23:59:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_112_155m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_112_155m_0.22-3_prok-gene-coverages.tsv
    jobid: 671
    wildcards: ID=TARA_112_155m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_112_155m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_112_155m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_112_155m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_112_155m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_112_155m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_112_155m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_112_155m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_112_155m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:35 2020]
Finished job 671.
345 of 589 steps (59%) done

[Mon Nov 30 23:59:35 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/A3-09-300m-34An.bam
    jobid: 358
    wildcards: ID=A3-09-300m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^A3-09-300m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^A3-09-300m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 A3-09-300m-34An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:35 2020]
Finished job 358.
346 of 589 steps (59%) done

[Mon Nov 30 23:59:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD24.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD24-gene-coverages.tsv
    jobid: 502
    wildcards: ID=OSD24


        pileup.sh -in ../mapping-files/OSD24.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD24-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD24-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD24-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD24-gene-cov.tmp > ../mapping-files/OSD24-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD24-gene-cov-and-det.tmp ../mapping-files/OSD24-gene-cov.tmp
        
[Mon Nov 30 23:59:36 2020]
Finished job 502.
347 of 589 steps (59%) done

[Mon Nov 30 23:59:36 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_133_5m_0.22-3_prok.bam
    jobid: 292
    wildcards: ID=TARA_133_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_133_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_133_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:36 2020]
Finished job 292.
348 of 589 steps (59%) done

[Mon Nov 30 23:59:36 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD15-0.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD15-0-gene-coverages.tsv
    jobid: 460
    wildcards: ID=OSD15-0


        pileup.sh -in ../mapping-files/OSD15-0.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD15-0-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD15-0-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD15-0-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD15-0-gene-cov.tmp > ../mapping-files/OSD15-0-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD15-0-gene-cov-and-det.tmp ../mapping-files/OSD15-0-gene-cov.tmp
        
[Mon Nov 30 23:59:36 2020]
Finished job 460.
349 of 589 steps (59%) done

[Mon Nov 30 23:59:36 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD152-1.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD152-1-gene-coverages.tsv
    jobid: 462
    wildcards: ID=OSD152-1


        pileup.sh -in ../mapping-files/OSD152-1.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD152-1-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD152-1-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD152-1-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD152-1-gene-cov.tmp > ../mapping-files/OSD152-1-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD152-1-gene-cov-and-det.tmp ../mapping-files/OSD152-1-gene-cov.tmp
        
[Mon Nov 30 23:59:36 2020]
Finished job 462.
350 of 589 steps (59%) done

[Mon Nov 30 23:59:36 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_032_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 582
    wildcards: ID=TARA_032_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_032_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:36 2020]
Finished job 582.
351 of 589 steps (60%) done

[Mon Nov 30 23:59:36 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N04-0m-8Ar.bam
    jobid: 391
    wildcards: ID=N04-0m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N04-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N04-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N04-0m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:36 2020]
Finished job 391.
352 of 589 steps (60%) done

[Mon Nov 30 23:59:36 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_158_651m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_158_651m_0.22-3_prok-gene-coverages.tsv
    jobid: 727
    wildcards: ID=TARA_158_651m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_158_651m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_158_651m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_158_651m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_158_651m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_158_651m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_158_651m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_158_651m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_158_651m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:36 2020]
Finished job 727.
353 of 589 steps (60%) done

[Mon Nov 30 23:59:36 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD151.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD151-gene-coverages.tsv
    jobid: 461
    wildcards: ID=OSD151


        pileup.sh -in ../mapping-files/OSD151.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD151-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD151-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD151-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD151-gene-cov.tmp > ../mapping-files/OSD151-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD151-gene-cov-and-det.tmp ../mapping-files/OSD151-gene-cov.tmp
        
[Mon Nov 30 23:59:36 2020]
Finished job 461.
354 of 589 steps (60%) done

[Mon Nov 30 23:59:36 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD25.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD25-gene-coverages.tsv
    jobid: 503
    wildcards: ID=OSD25


        pileup.sh -in ../mapping-files/OSD25.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD25-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD25-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD25-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD25-gene-cov.tmp > ../mapping-files/OSD25-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD25-gene-cov-and-det.tmp ../mapping-files/OSD25-gene-cov.tmp
        
[Mon Nov 30 23:59:36 2020]
Finished job 503.
355 of 589 steps (60%) done

[Mon Nov 30 23:59:36 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_141_5m_0.22-3_prok.bam
    jobid: 295
    wildcards: ID=TARA_141_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_141_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_141_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:37 2020]
Finished job 295.
356 of 589 steps (60%) done

[Mon Nov 30 23:59:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD152-5.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD152-5-gene-coverages.tsv
    jobid: 463
    wildcards: ID=OSD152-5


        pileup.sh -in ../mapping-files/OSD152-5.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD152-5-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD152-5-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD152-5-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD152-5-gene-cov.tmp > ../mapping-files/OSD152-5-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD152-5-gene-cov-and-det.tmp ../mapping-files/OSD152-5-gene-cov.tmp
        
[Mon Nov 30 23:59:37 2020]
Finished job 463.
357 of 589 steps (61%) done

[Mon Nov 30 23:59:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD28.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD28-gene-coverages.tsv
    jobid: 505
    wildcards: ID=OSD28


        pileup.sh -in ../mapping-files/OSD28.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD28-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD28-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD28-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD28-gene-cov.tmp > ../mapping-files/OSD28-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD28-gene-cov-and-det.tmp ../mapping-files/OSD28-gene-cov.tmp
        
[Mon Nov 30 23:59:37 2020]
Finished job 505.
358 of 589 steps (61%) done

[Mon Nov 30 23:59:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD153.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD153-gene-coverages.tsv
    jobid: 464
    wildcards: ID=OSD153


        pileup.sh -in ../mapping-files/OSD153.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD153-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD153-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD153-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD153-gene-cov.tmp > ../mapping-files/OSD153-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD153-gene-cov-and-det.tmp ../mapping-files/OSD153-gene-cov.tmp
        
[Mon Nov 30 23:59:37 2020]
Finished job 464.
359 of 589 steps (61%) done

[Mon Nov 30 23:59:37 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_50m_0.22-3_prok.bam
    jobid: 214
    wildcards: ID=TARA_068_50m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_068_50m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_50m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:37 2020]
Finished job 214.
360 of 589 steps (61%) done

[Mon Nov 30 23:59:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD29.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD29-gene-coverages.tsv
    jobid: 506
    wildcards: ID=OSD29


        pileup.sh -in ../mapping-files/OSD29.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD29-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD29-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD29-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD29-gene-cov.tmp > ../mapping-files/OSD29-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD29-gene-cov-and-det.tmp ../mapping-files/OSD29-gene-cov.tmp
        
[Mon Nov 30 23:59:37 2020]
Finished job 506.
361 of 589 steps (61%) done

[Mon Nov 30 23:59:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_115m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 674
    wildcards: ID=TARA_122_115m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_122_115m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:37 2020]
Finished job 674.
362 of 589 steps (61%) done

[Mon Nov 30 23:59:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD3.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD3-gene-coverages.tsv
    jobid: 507
    wildcards: ID=OSD3


        pileup.sh -in ../mapping-files/OSD3.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD3-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD3-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD3-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD3-gene-cov.tmp > ../mapping-files/OSD3-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD3-gene-cov-and-det.tmp ../mapping-files/OSD3-gene-cov.tmp
        
[Mon Nov 30 23:59:37 2020]
Finished job 507.
363 of 589 steps (62%) done

[Mon Nov 30 23:59:37 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/ICE04-1000m-9Ar.bam
    jobid: 381
    wildcards: ID=ICE04-1000m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^ICE04-1000m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^ICE04-1000m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 ICE04-1000m-9Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:37 2020]
Finished job 381.
364 of 589 steps (62%) done

[Mon Nov 30 23:59:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD125.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD125-gene-coverages.tsv
    jobid: 439
    wildcards: ID=OSD125


        pileup.sh -in ../mapping-files/OSD125.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD125-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD125-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD125-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD125-gene-cov.tmp > ../mapping-files/OSD125-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD125-gene-cov-and-det.tmp ../mapping-files/OSD125-gene-cov.tmp
        
[Mon Nov 30 23:59:38 2020]
Finished job 439.
365 of 589 steps (62%) done

[Mon Nov 30 23:59:38 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_158_5m_0.22-3_prok.bam
    jobid: 312
    wildcards: ID=TARA_158_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_158_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_158_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:38 2020]
Finished job 312.
366 of 589 steps (62%) done

[Mon Nov 30 23:59:38 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N07-300m-8Ar.bam
    jobid: 396
    wildcards: ID=N07-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N07-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N07-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N07-300m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:38 2020]
Finished job 396.
367 of 589 steps (62%) done

[Mon Nov 30 23:59:38 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD124.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD124-gene-coverages.tsv
    jobid: 438
    wildcards: ID=OSD124


        pileup.sh -in ../mapping-files/OSD124.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD124-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD124-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD124-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD124-gene-cov.tmp > ../mapping-files/OSD124-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD124-gene-cov-and-det.tmp ../mapping-files/OSD124-gene-cov.tmp
        
[Mon Nov 30 23:59:38 2020]
Finished job 438.
368 of 589 steps (62%) done

[Mon Nov 30 23:59:38 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD98.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD98-gene-coverages.tsv
    jobid: 564
    wildcards: ID=OSD98


        pileup.sh -in ../mapping-files/OSD98.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD98-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD98-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD98-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD98-gene-cov.tmp > ../mapping-files/OSD98-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD98-gene-cov-and-det.tmp ../mapping-files/OSD98-gene-cov.tmp
        
[Mon Nov 30 23:59:38 2020]
Finished job 564.
369 of 589 steps (63%) done

[Mon Nov 30 23:59:38 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_5m_0.22-3_prok.bam
    jobid: 217
    wildcards: ID=TARA_068_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_068_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:38 2020]
Finished job 217.
370 of 589 steps (63%) done

[Mon Nov 30 23:59:38 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_068_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_068_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 631
    wildcards: ID=TARA_068_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_068_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_068_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_068_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_068_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_068_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_068_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_068_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_068_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:38 2020]
Finished job 631.
371 of 589 steps (63%) done

[Mon Nov 30 23:59:38 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N07-1000m-8Ar.bam
    jobid: 395
    wildcards: ID=N07-1000m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N07-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N07-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N07-1000m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:38 2020]
Finished job 395.
372 of 589 steps (63%) done

[Mon Nov 30 23:59:38 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD99.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD99-gene-coverages.tsv
    jobid: 565
    wildcards: ID=OSD99


        pileup.sh -in ../mapping-files/OSD99.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD99-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD99-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD99-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD99-gene-cov.tmp > ../mapping-files/OSD99-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD99-gene-cov-and-det.tmp ../mapping-files/OSD99-gene-cov.tmp
        
[Mon Nov 30 23:59:39 2020]
Finished job 565.
373 of 589 steps (63%) done

[Mon Nov 30 23:59:39 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 677
    wildcards: ID=TARA_122_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_122_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:39 2020]
Finished job 677.
374 of 589 steps (63%) done

[Mon Nov 30 23:59:39 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_5m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 679
    wildcards: ID=TARA_122_5m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_122_5m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:39 2020]
Finished job 679.
375 of 589 steps (64%) done

[Mon Nov 30 23:59:39 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_5m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 678
    wildcards: ID=TARA_122_5m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_122_5m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:39 2020]
Finished job 678.
376 of 589 steps (64%) done

[Mon Nov 30 23:59:39 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/P06-300m-8Ar.bam
    jobid: 399
    wildcards: ID=P06-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^P06-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^P06-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 P06-300m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:39 2020]
Finished job 399.
377 of 589 steps (64%) done

[Mon Nov 30 23:59:39 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD127.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD127-gene-coverages.tsv
    jobid: 441
    wildcards: ID=OSD127


        pileup.sh -in ../mapping-files/OSD127.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD127-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD127-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD127-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD127-gene-cov.tmp > ../mapping-files/OSD127-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD127-gene-cov-and-det.tmp ../mapping-files/OSD127-gene-cov.tmp
        
[Mon Nov 30 23:59:39 2020]
Finished job 441.
378 of 589 steps (64%) done

[Mon Nov 30 23:59:39 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_004_40m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 567
    wildcards: ID=TARA_004_40m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_004_40m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:39 2020]
Finished job 567.
379 of 589 steps (64%) done

[Mon Nov 30 23:59:39 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_700m_0.22-3_prok.bam
    jobid: 219
    wildcards: ID=TARA_068_700m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_068_700m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_700m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:39 2020]
Finished job 219.
380 of 589 steps (65%) done

[Mon Nov 30 23:59:39 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD142.bam
    jobid: 37
    wildcards: ID=OSD142


        curr_run_accs=$(grep -w -m 1 "^OSD142" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD142 ${curr_run_accs}
        
[Mon Nov 30 23:59:39 2020]
Finished job 37.
381 of 589 steps (65%) done

[Mon Nov 30 23:59:39 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/R16E-1000m-9Ar.bam
    jobid: 400
    wildcards: ID=R16E-1000m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^R16E-1000m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^R16E-1000m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 R16E-1000m-9Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:40 2020]
Finished job 400.
382 of 589 steps (65%) done

[Mon Nov 30 23:59:40 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD128.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD128-gene-coverages.tsv
    jobid: 442
    wildcards: ID=OSD128


        pileup.sh -in ../mapping-files/OSD128.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD128-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD128-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD128-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD128-gene-cov.tmp > ../mapping-files/OSD128-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD128-gene-cov-and-det.tmp ../mapping-files/OSD128-gene-cov.tmp
        
[Mon Nov 30 23:59:40 2020]
Finished job 442.
383 of 589 steps (65%) done

[Mon Nov 30 23:59:40 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_600m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 680
    wildcards: ID=TARA_122_600m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_122_600m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:40 2020]
Finished job 680.
384 of 589 steps (65%) done

[Mon Nov 30 23:59:40 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_700m_0.45-0.8_girus.bam
    jobid: 220
    wildcards: ID=TARA_068_700m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_068_700m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_700m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:40 2020]
Finished job 220.
385 of 589 steps (65%) done

[Mon Nov 30 23:59:40 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_036_5m_0.22-1.6_prok.bam
    jobid: 177
    wildcards: ID=TARA_036_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_036_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_036_5m_0.22-1.6_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:40 2020]
Finished job 177.
386 of 589 steps (66%) done

[Mon Nov 30 23:59:40 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/R16E-300m-9Ar.bam
    jobid: 401
    wildcards: ID=R16E-300m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^R16E-300m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^R16E-300m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 R16E-300m-9Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:40 2020]
Finished job 401.
387 of 589 steps (66%) done

[Mon Nov 30 23:59:40 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_007_42m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 569
    wildcards: ID=TARA_007_42m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_007_42m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:40 2020]
Finished job 569.
388 of 589 steps (66%) done

[Mon Nov 30 23:59:40 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_600m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 681
    wildcards: ID=TARA_122_600m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_122_600m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:40 2020]
Finished job 681.
389 of 589 steps (66%) done

[Mon Nov 30 23:59:40 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD130.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD130-gene-coverages.tsv
    jobid: 445
    wildcards: ID=OSD130


        pileup.sh -in ../mapping-files/OSD130.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD130-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD130-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD130-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD130-gene-cov.tmp > ../mapping-files/OSD130-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD130-gene-cov-and-det.tmp ../mapping-files/OSD130-gene-cov.tmp
        
[Mon Nov 30 23:59:40 2020]
Finished job 445.
390 of 589 steps (66%) done

[Mon Nov 30 23:59:41 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_115m_0.22-0.45_girus.bam
    jobid: 261
    wildcards: ID=TARA_122_115m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_115m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_115m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:41 2020]
Finished job 261.
391 of 589 steps (66%) done

[Mon Nov 30 23:59:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_007_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 570
    wildcards: ID=TARA_007_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_007_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:41 2020]
Finished job 570.
392 of 589 steps (67%) done

[Mon Nov 30 23:59:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_600m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 682
    wildcards: ID=TARA_122_600m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_122_600m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:41 2020]
Finished job 682.
393 of 589 steps (67%) done

[Mon Nov 30 23:59:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD13.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD13-gene-coverages.tsv
    jobid: 444
    wildcards: ID=OSD13


        pileup.sh -in ../mapping-files/OSD13.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD13-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD13-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD13-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD13-gene-cov.tmp > ../mapping-files/OSD13-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD13-gene-cov-and-det.tmp ../mapping-files/OSD13-gene-cov.tmp
        
[Mon Nov 30 23:59:41 2020]
Finished job 444.
394 of 589 steps (67%) done

[Mon Nov 30 23:59:41 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_175_10-100m_0.22-3_prok.bam
    jobid: 321
    wildcards: ID=TARA_175_10-100m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_175_10-100m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_175_10-100m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:41 2020]
Finished job 321.
395 of 589 steps (67%) done

[Mon Nov 30 23:59:41 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/G02-7Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/G02-7Ar-gene-coverages.tsv
    jobid: 793
    wildcards: ID=G02-7Ar


        pileup.sh -in ../mapping-files-HK/G02-7Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/G02-7Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/G02-7Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/G02-7Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/G02-7Ar-gene-cov.tmp > ../mapping-files-HK/G02-7Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/G02-7Ar-gene-cov-and-det.tmp ../mapping-files-HK/G02-7Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:41 2020]
Finished job 793.
396 of 589 steps (67%) done

[Mon Nov 30 23:59:41 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_070_5m_0.22-3_prok.bam
    jobid: 222
    wildcards: ID=TARA_070_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_070_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_070_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:41 2020]
Finished job 222.
397 of 589 steps (67%) done

[Mon Nov 30 23:59:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_123_150m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 684
    wildcards: ID=TARA_123_150m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_123_150m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:41 2020]
Finished job 684.
398 of 589 steps (68%) done

[Mon Nov 30 23:59:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_009_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 572
    wildcards: ID=TARA_009_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_009_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:42 2020]
Finished job 572.
399 of 589 steps (68%) done

[Mon Nov 30 23:59:42 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_175_199m_0.22-3_prok.bam
    jobid: 322
    wildcards: ID=TARA_175_199m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_175_199m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_175_199m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:42 2020]
Finished job 322.
400 of 589 steps (68%) done

[Mon Nov 30 23:59:42 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD55.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD55-gene-coverages.tsv
    jobid: 530
    wildcards: ID=OSD55


        pileup.sh -in ../mapping-files/OSD55.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD55-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD55-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD55-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD55-gene-cov.tmp > ../mapping-files/OSD55-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD55-gene-cov-and-det.tmp ../mapping-files/OSD55-gene-cov.tmp
        
[Mon Nov 30 23:59:42 2020]
Finished job 530.
401 of 589 steps (68%) done

[Mon Nov 30 23:59:42 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW023-8Ar.bam
    jobid: 405
    wildcards: ID=UW023-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW023-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW023-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW023-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:42 2020]
Finished job 405.
402 of 589 steps (68%) done

[Mon Nov 30 23:59:42 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_018_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 573
    wildcards: ID=TARA_018_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_018_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:42 2020]
Finished job 573.
403 of 589 steps (68%) done

[Mon Nov 30 23:59:42 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD56.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD56-gene-coverages.tsv
    jobid: 531
    wildcards: ID=OSD56


        pileup.sh -in ../mapping-files/OSD56.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD56-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD56-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD56-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD56-gene-cov.tmp > ../mapping-files/OSD56-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD56-gene-cov-and-det.tmp ../mapping-files/OSD56-gene-cov.tmp
        
[Mon Nov 30 23:59:42 2020]
Finished job 531.
404 of 589 steps (69%) done

[Mon Nov 30 23:59:42 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD5-75.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD5-75-gene-coverages.tsv
    jobid: 533
    wildcards: ID=OSD5-75


        pileup.sh -in ../mapping-files/OSD5-75.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD5-75-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD5-75-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD5-75-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD5-75-gene-cov.tmp > ../mapping-files/OSD5-75-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD5-75-gene-cov-and-det.tmp ../mapping-files/OSD5-75-gene-cov.tmp
        
[Mon Nov 30 23:59:42 2020]
Finished job 533.
405 of 589 steps (69%) done

[Mon Nov 30 23:59:42 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD143.bam
    jobid: 38
    wildcards: ID=OSD143


        curr_run_accs=$(grep -w -m 1 "^OSD143" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD143 ${curr_run_accs}
        
[Mon Nov 30 23:59:42 2020]
Finished job 38.
406 of 589 steps (69%) done

[Mon Nov 30 23:59:42 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD57.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD57-gene-coverages.tsv
    jobid: 532
    wildcards: ID=OSD57


        pileup.sh -in ../mapping-files/OSD57.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD57-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD57-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD57-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD57-gene-cov.tmp > ../mapping-files/OSD57-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD57-gene-cov-and-det.tmp ../mapping-files/OSD57-gene-cov.tmp
        
[Mon Nov 30 23:59:43 2020]
Finished job 532.
407 of 589 steps (69%) done

[Mon Nov 30 23:59:43 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_123_5m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 686
    wildcards: ID=TARA_123_5m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_123_5m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:43 2020]
Finished job 686.
408 of 589 steps (69%) done

[Mon Nov 30 23:59:43 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD133.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD133-gene-coverages.tsv
    jobid: 448
    wildcards: ID=OSD133


        pileup.sh -in ../mapping-files/OSD133.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD133-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD133-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD133-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD133-gene-cov.tmp > ../mapping-files/OSD133-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD133-gene-cov-and-det.tmp ../mapping-files/OSD133-gene-cov.tmp
        
[Mon Nov 30 23:59:43 2020]
Finished job 448.
409 of 589 steps (69%) done

[Mon Nov 30 23:59:43 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_070_800m_0.22-3_prok.bam
    jobid: 225
    wildcards: ID=TARA_070_800m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_070_800m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_070_800m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:43 2020]
Finished job 225.
410 of 589 steps (70%) done

[Mon Nov 30 23:59:43 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_123_5m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 687
    wildcards: ID=TARA_123_5m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_123_5m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:43 2020]
Finished job 687.
411 of 589 steps (70%) done

[Mon Nov 30 23:59:43 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_023_55m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 575
    wildcards: ID=TARA_023_55m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_023_55m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:43 2020]
Finished job 575.
412 of 589 steps (70%) done

[Mon Nov 30 23:59:43 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD14.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD14-gene-coverages.tsv
    jobid: 449
    wildcards: ID=OSD14


        pileup.sh -in ../mapping-files/OSD14.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD14-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD14-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD14-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD14-gene-cov.tmp > ../mapping-files/OSD14-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD14-gene-cov-and-det.tmp ../mapping-files/OSD14-gene-cov.tmp
        
[Mon Nov 30 23:59:43 2020]
Finished job 449.
413 of 589 steps (70%) done

[Mon Nov 30 23:59:43 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD58.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD58-gene-coverages.tsv
    jobid: 534
    wildcards: ID=OSD58


        pileup.sh -in ../mapping-files/OSD58.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD58-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD58-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD58-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD58-gene-cov.tmp > ../mapping-files/OSD58-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD58-gene-cov-and-det.tmp ../mapping-files/OSD58-gene-cov.tmp
        
[Mon Nov 30 23:59:43 2020]
Finished job 534.
414 of 589 steps (70%) done

[Mon Nov 30 23:59:43 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD141.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD141-gene-coverages.tsv
    jobid: 450
    wildcards: ID=OSD141


        pileup.sh -in ../mapping-files/OSD141.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD141-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD141-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD141-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD141-gene-cov.tmp > ../mapping-files/OSD141-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD141-gene-cov-and-det.tmp ../mapping-files/OSD141-gene-cov.tmp
        
[Mon Nov 30 23:59:43 2020]
Finished job 450.
415 of 589 steps (70%) done

[Mon Nov 30 23:59:44 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW044-0m-34An.bam
    jobid: 408
    wildcards: ID=UW044-0m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW044-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW044-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW044-0m-34An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:44 2020]
Finished job 408.
416 of 589 steps (71%) done

[Mon Nov 30 23:59:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_124_120m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 688
    wildcards: ID=TARA_124_120m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_124_120m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:44 2020]
Finished job 688.
417 of 589 steps (71%) done

[Mon Nov 30 23:59:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_023_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 576
    wildcards: ID=TARA_023_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_023_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:44 2020]
Finished job 576.
418 of 589 steps (71%) done

[Mon Nov 30 23:59:44 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_072_100m_0.22-3_prok.bam
    jobid: 227
    wildcards: ID=TARA_072_100m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_072_100m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_072_100m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:44 2020]
Finished job 227.
419 of 589 steps (71%) done

[Mon Nov 30 23:59:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_025_50m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 577
    wildcards: ID=TARA_025_50m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_025_50m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:44 2020]
Finished job 577.
420 of 589 steps (71%) done

[Mon Nov 30 23:59:44 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_180_30m_0.22-3_prok.bam
    jobid: 325
    wildcards: ID=TARA_180_30m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_180_30m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_180_30m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:44 2020]
Finished job 325.
421 of 589 steps (71%) done

[Mon Nov 30 23:59:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD6.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD6-gene-coverages.tsv
    jobid: 535
    wildcards: ID=OSD6


        pileup.sh -in ../mapping-files/OSD6.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD6-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD6-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD6-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD6-gene-cov.tmp > ../mapping-files/OSD6-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD6-gene-cov-and-det.tmp ../mapping-files/OSD6-gene-cov.tmp
        
[Mon Nov 30 23:59:44 2020]
Finished job 535.
422 of 589 steps (72%) done

[Mon Nov 30 23:59:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_124_120m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 689
    wildcards: ID=TARA_124_120m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_124_120m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:44 2020]
Finished job 689.
423 of 589 steps (72%) done

[Mon Nov 30 23:59:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD142.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD142-gene-coverages.tsv
    jobid: 451
    wildcards: ID=OSD142


        pileup.sh -in ../mapping-files/OSD142.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD142-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD142-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD142-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD142-gene-cov.tmp > ../mapping-files/OSD142-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD142-gene-cov-and-det.tmp ../mapping-files/OSD142-gene-cov.tmp
        
[Mon Nov 30 23:59:45 2020]
Finished job 451.
424 of 589 steps (72%) done

[Mon Nov 30 23:59:45 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/R16E-3236m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/R16E-3236m-9Ar-gene-coverages.tsv
    jobid: 816
    wildcards: ID=R16E-3236m-9Ar


        pileup.sh -in ../mapping-files-HK/R16E-3236m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/R16E-3236m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/R16E-3236m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/R16E-3236m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/R16E-3236m-9Ar-gene-cov.tmp > ../mapping-files-HK/R16E-3236m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/R16E-3236m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/R16E-3236m-9Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:45 2020]
Finished job 816.
425 of 589 steps (72%) done

[Mon Nov 30 23:59:45 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_115m_0.45-0.8_girus.bam
    jobid: 262
    wildcards: ID=TARA_122_115m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_115m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_115m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:45 2020]
Finished job 262.
426 of 589 steps (72%) done

[Mon Nov 30 23:59:45 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_078_800m_0.22-3_prok.bam
    jobid: 242
    wildcards: ID=TARA_078_800m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_078_800m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_078_800m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:45 2020]
Finished job 242.
427 of 589 steps (72%) done

[Mon Nov 30 23:59:45 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_085_790m_0.22-3_prok.bam
    jobid: 244
    wildcards: ID=TARA_085_790m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_085_790m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_085_790m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:45 2020]
Finished job 244.
428 of 589 steps (73%) done

[Mon Nov 30 23:59:45 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW056-33An.bam
    jobid: 412
    wildcards: ID=UW056-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW056-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW056-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW056-33An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:45 2020]
Finished job 412.
429 of 589 steps (73%) done

[Mon Nov 30 23:59:45 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD171.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD171-gene-coverages.tsv
    jobid: 482
    wildcards: ID=OSD171


        pileup.sh -in ../mapping-files/OSD171.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD171-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD171-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD171-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD171-gene-cov.tmp > ../mapping-files/OSD171-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD171-gene-cov-and-det.tmp ../mapping-files/OSD171-gene-cov.tmp
        
[Mon Nov 30 23:59:45 2020]
Finished job 482.
430 of 589 steps (73%) done

[Mon Nov 30 23:59:45 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/ICE04-1000m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/ICE04-1000m-9Ar-gene-coverages.tsv
    jobid: 795
    wildcards: ID=ICE04-1000m-9Ar


        pileup.sh -in ../mapping-files-HK/ICE04-1000m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/ICE04-1000m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/ICE04-1000m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/ICE04-1000m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/ICE04-1000m-9Ar-gene-cov.tmp > ../mapping-files-HK/ICE04-1000m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/ICE04-1000m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/ICE04-1000m-9Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:45 2020]
Finished job 795.
431 of 589 steps (73%) done

[Mon Nov 30 23:59:45 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_209_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_209_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 760
    wildcards: ID=TARA_209_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_209_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_209_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:46 2020]
Finished job 760.
432 of 589 steps (73%) done

[Mon Nov 30 23:59:46 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW022-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW022-8Ar-gene-coverages.tsv
    jobid: 818
    wildcards: ID=UW022-8Ar


        pileup.sh -in ../mapping-files-HK/UW022-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW022-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW022-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW022-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW022-8Ar-gene-cov.tmp > ../mapping-files-HK/UW022-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW022-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/UW022-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:46 2020]
Finished job 818.
433 of 589 steps (74%) done

[Mon Nov 30 23:59:46 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_056_1000m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_056_1000m_0.22-3_prok-gene-coverages.tsv
    jobid: 608
    wildcards: ID=TARA_056_1000m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_056_1000m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_056_1000m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_056_1000m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_056_1000m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_056_1000m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_056_1000m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_056_1000m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_056_1000m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:46 2020]
Finished job 608.
434 of 589 steps (74%) done

[Mon Nov 30 23:59:46 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_30m_0.1-0.22_girus.bam
    jobid: 203
    wildcards: ID=TARA_065_30m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_065_30m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_30m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:46 2020]
Finished job 203.
435 of 589 steps (74%) done

[Mon Nov 30 23:59:46 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/ICE04-100m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/ICE04-100m-9Ar-gene-coverages.tsv
    jobid: 796
    wildcards: ID=ICE04-100m-9Ar


        pileup.sh -in ../mapping-files-HK/ICE04-100m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/ICE04-100m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/ICE04-100m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/ICE04-100m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/ICE04-100m-9Ar-gene-cov.tmp > ../mapping-files-HK/ICE04-100m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/ICE04-100m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/ICE04-100m-9Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:46 2020]
Finished job 796.
436 of 589 steps (74%) done

[Mon Nov 30 23:59:46 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_064_65m_0.1-0.22_girus.bam
    jobid: 201
    wildcards: ID=TARA_064_65m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_064_65m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_064_65m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:46 2020]
Finished job 201.
437 of 589 steps (74%) done

[Mon Nov 30 23:59:46 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_056_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_056_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 609
    wildcards: ID=TARA_056_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_056_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_056_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_056_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_056_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_056_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_056_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_056_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_056_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:46 2020]
Finished job 609.
438 of 589 steps (74%) done

[Mon Nov 30 23:59:46 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW023-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW023-8Ar-gene-coverages.tsv
    jobid: 819
    wildcards: ID=UW023-8Ar


        pileup.sh -in ../mapping-files-HK/UW023-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW023-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW023-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW023-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW023-8Ar-gene-cov.tmp > ../mapping-files-HK/UW023-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW023-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/UW023-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:46 2020]
Finished job 819.
439 of 589 steps (75%) done

[Mon Nov 30 23:59:46 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_30m_0.22-3_prok.bam
    jobid: 204
    wildcards: ID=TARA_065_30m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_065_30m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_30m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:46 2020]
Finished job 204.
440 of 589 steps (75%) done

[Mon Nov 30 23:59:47 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_037_600m_0.1-0.22_girus.bam
    jobid: 178
    wildcards: ID=TARA_037_600m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_037_600m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_037_600m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:47 2020]
Finished job 178.
441 of 589 steps (75%) done

[Mon Nov 30 23:59:47 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/ICE04-2280m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/ICE04-2280m-9Ar-gene-coverages.tsv
    jobid: 797
    wildcards: ID=ICE04-2280m-9Ar


        pileup.sh -in ../mapping-files-HK/ICE04-2280m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/ICE04-2280m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/ICE04-2280m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/ICE04-2280m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/ICE04-2280m-9Ar-gene-cov.tmp > ../mapping-files-HK/ICE04-2280m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/ICE04-2280m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/ICE04-2280m-9Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:47 2020]
Finished job 797.
442 of 589 steps (75%) done

[Mon Nov 30 23:59:47 2020]
rule parse_454_gene_level_cov_and_det:
    input: ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 764
    wildcards: ID=TARA_006_8m_0.22-1.6_girus


        pileup.sh -in ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:47 2020]
Finished job 764.
443 of 589 steps (75%) done

[Mon Nov 30 23:59:47 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_057_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_057_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 610
    wildcards: ID=TARA_057_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_057_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_057_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_057_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_057_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_057_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_057_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_057_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_057_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:47 2020]
Finished job 610.
444 of 589 steps (75%) done

[Mon Nov 30 23:59:47 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD174.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD174-gene-coverages.tsv
    jobid: 485
    wildcards: ID=OSD174


        pileup.sh -in ../mapping-files/OSD174.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD174-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD174-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD174-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD174-gene-cov.tmp > ../mapping-files/OSD174-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD174-gene-cov-and-det.tmp ../mapping-files/OSD174-gene-cov.tmp
        
[Mon Nov 30 23:59:47 2020]
Finished job 485.
445 of 589 steps (76%) done

[Mon Nov 30 23:59:47 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_064_65m_0.22-3_prok.bam
    jobid: 202
    wildcards: ID=TARA_064_65m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_064_65m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_064_65m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:47 2020]
Finished job 202.
446 of 589 steps (76%) done

[Mon Nov 30 23:59:47 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW042-0m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW042-0m-34An-gene-coverages.tsv
    jobid: 821
    wildcards: ID=UW042-0m-34An


        pileup.sh -in ../mapping-files-HK/UW042-0m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW042-0m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW042-0m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW042-0m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW042-0m-34An-gene-cov.tmp > ../mapping-files-HK/UW042-0m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW042-0m-34An-gene-cov-and-det.tmp ../mapping-files-HK/UW042-0m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:47 2020]
Finished job 821.
447 of 589 steps (76%) done

[Mon Nov 30 23:59:47 2020]
rule parse_454_gene_level_cov_and_det:
    input: ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 765
    wildcards: ID=TARA_031_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:47 2020]
Finished job 765.
448 of 589 steps (76%) done

[Mon Nov 30 23:59:47 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_5m_0.22-3_prok.bam
    jobid: 206
    wildcards: ID=TARA_065_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_065_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:48 2020]
Finished job 206.
449 of 589 steps (76%) done

[Mon Nov 30 23:59:48 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_151_80m_0.22-3_prok.bam
    jobid: 304
    wildcards: ID=TARA_151_80m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_151_80m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_151_80m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:48 2020]
Finished job 304.
450 of 589 steps (76%) done

[Mon Nov 30 23:59:48 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_049_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 607
    wildcards: ID=TARA_049_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_049_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:48 2020]
Finished job 607.
451 of 589 steps (77%) done

[Mon Nov 30 23:59:48 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW073-33An.bam
    jobid: 415
    wildcards: ID=UW073-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW073-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW073-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW073-33An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:48 2020]
Finished job 415.
452 of 589 steps (77%) done

[Mon Nov 30 23:59:48 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD1.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD1-gene-coverages.tsv
    jobid: 416
    wildcards: ID=OSD1


        pileup.sh -in ../mapping-files/OSD1.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD1-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD1-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD1-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD1-gene-cov.tmp > ../mapping-files/OSD1-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD1-gene-cov-and-det.tmp ../mapping-files/OSD1-gene-cov.tmp
        
[Mon Nov 30 23:59:48 2020]
Finished job 416.
453 of 589 steps (77%) done

[Mon Nov 30 23:59:48 2020]
rule parse_454_gene_level_cov_and_det:
    input: ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 766
    wildcards: ID=TARA_039_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:48 2020]
Finished job 766.
454 of 589 steps (77%) done

[Mon Nov 30 23:59:48 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW044-0m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW044-0m-34An-gene-coverages.tsv
    jobid: 822
    wildcards: ID=UW044-0m-34An


        pileup.sh -in ../mapping-files-HK/UW044-0m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW044-0m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW044-0m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW044-0m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW044-0m-34An-gene-cov.tmp > ../mapping-files-HK/UW044-0m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW044-0m-34An-gene-cov-and-det.tmp ../mapping-files-HK/UW044-0m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:48 2020]
Finished job 822.
455 of 589 steps (77%) done

[Mon Nov 30 23:59:48 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW064-33An.bam
    jobid: 413
    wildcards: ID=UW064-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW064-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW064-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW064-33An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:48 2020]
Finished job 413.
456 of 589 steps (77%) done

[Mon Nov 30 23:59:48 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_152_5-160m_0.22-3_prok.bam
    jobid: 305
    wildcards: ID=TARA_152_5-160m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_152_5-160m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_152_5-160m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:49 2020]
Finished job 305.
457 of 589 steps (78%) done

[Mon Nov 30 23:59:49 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD176.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD176-gene-coverages.tsv
    jobid: 487
    wildcards: ID=OSD176


        pileup.sh -in ../mapping-files/OSD176.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD176-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD176-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD176-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD176-gene-cov.tmp > ../mapping-files/OSD176-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD176-gene-cov-and-det.tmp ../mapping-files/OSD176-gene-cov.tmp
        
[Mon Nov 30 23:59:49 2020]
Finished job 487.
458 of 589 steps (78%) done

[Mon Nov 30 23:59:49 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD10.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD10-gene-coverages.tsv
    jobid: 417
    wildcards: ID=OSD10


        pileup.sh -in ../mapping-files/OSD10.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD10-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD10-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD10-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD10-gene-cov.tmp > ../mapping-files/OSD10-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD10-gene-cov-and-det.tmp ../mapping-files/OSD10-gene-cov.tmp
        
[Mon Nov 30 23:59:49 2020]
Finished job 417.
459 of 589 steps (78%) done

[Mon Nov 30 23:59:49 2020]
rule parse_454_gene_level_cov_and_det:
    input: ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 767
    wildcards: ID=TARA_039_270m_0.22-1.6_girus


        pileup.sh -in ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:49 2020]
Finished job 767.
460 of 589 steps (78%) done

[Mon Nov 30 23:59:49 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD172.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD172-gene-coverages.tsv
    jobid: 483
    wildcards: ID=OSD172


        pileup.sh -in ../mapping-files/OSD172.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD172-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD172-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD172-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD172-gene-cov.tmp > ../mapping-files/OSD172-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD172-gene-cov-and-det.tmp ../mapping-files/OSD172-gene-cov.tmp
        
[Mon Nov 30 23:59:49 2020]
Finished job 483.
461 of 589 steps (78%) done

[Mon Nov 30 23:59:49 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_098_488m_0.22-3_prok.bam
    jobid: 250
    wildcards: ID=TARA_098_488m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_098_488m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_098_488m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:49 2020]
Finished job 250.
462 of 589 steps (78%) done

[Mon Nov 30 23:59:49 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_152_5m_0.22-3_prok.bam
    jobid: 306
    wildcards: ID=TARA_152_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_152_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_152_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:49 2020]
Finished job 306.
463 of 589 steps (79%) done

[Mon Nov 30 23:59:49 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_064_65m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 615
    wildcards: ID=TARA_064_65m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_064_65m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:49 2020]
Finished job 615.
464 of 589 steps (79%) done

[Mon Nov 30 23:59:49 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW056-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW056-33An-gene-coverages.tsv
    jobid: 826
    wildcards: ID=UW056-33An


        pileup.sh -in ../mapping-files-HK/UW056-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW056-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW056-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW056-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW056-33An-gene-cov.tmp > ../mapping-files-HK/UW056-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW056-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW056-33An-gene-cov.tmp
        
[Mon Nov 30 23:59:49 2020]
Finished job 826.
465 of 589 steps (79%) done

[Mon Nov 30 23:59:49 2020]
rule parse_454_gene_level_cov_and_det:
    input: ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 763
    wildcards: ID=TARA_004_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:50 2020]
Finished job 763.
466 of 589 steps (79%) done

[Mon Nov 30 23:59:50 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD102.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD102-gene-coverages.tsv
    jobid: 420
    wildcards: ID=OSD102


        pileup.sh -in ../mapping-files/OSD102.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD102-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD102-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD102-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD102-gene-cov.tmp > ../mapping-files/OSD102-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD102-gene-cov-and-det.tmp ../mapping-files/OSD102-gene-cov.tmp
        
[Mon Nov 30 23:59:50 2020]
Finished job 420.
467 of 589 steps (79%) done

[Mon Nov 30 23:59:50 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_064_65m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_064_65m_0.22-3_prok-gene-coverages.tsv
    jobid: 616
    wildcards: ID=TARA_064_65m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_064_65m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_064_65m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:50 2020]
Finished job 616.
468 of 589 steps (79%) done

[Mon Nov 30 23:59:50 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW064-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW064-33An-gene-coverages.tsv
    jobid: 827
    wildcards: ID=UW064-33An


        pileup.sh -in ../mapping-files-HK/UW064-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW064-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW064-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW064-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW064-33An-gene-cov.tmp > ../mapping-files-HK/UW064-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW064-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW064-33An-gene-cov.tmp
        
[Mon Nov 30 23:59:50 2020]
Finished job 827.
469 of 589 steps (80%) done

[Mon Nov 30 23:59:50 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_30m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 617
    wildcards: ID=TARA_065_30m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_065_30m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:50 2020]
Finished job 617.
470 of 589 steps (80%) done

[Mon Nov 30 23:59:50 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW012-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW012-0m-8Ar-gene-coverages.tsv
    jobid: 817
    wildcards: ID=UW012-0m-8Ar


        pileup.sh -in ../mapping-files-HK/UW012-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW012-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW012-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW012-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW012-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/UW012-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW012-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/UW012-0m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:50 2020]
Finished job 817.
471 of 589 steps (80%) done

[Mon Nov 30 23:59:50 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_066_30m_0.22-3_prok.bam
    jobid: 208
    wildcards: ID=TARA_066_30m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_066_30m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_066_30m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:50 2020]
Finished job 208.
472 of 589 steps (80%) done

[Mon Nov 30 23:59:50 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_30m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_30m_0.22-3_prok-gene-coverages.tsv
    jobid: 618
    wildcards: ID=TARA_065_30m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_065_30m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_065_30m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:50 2020]
Finished job 618.
473 of 589 steps (80%) done

[Mon Nov 30 23:59:50 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A3-09-300m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A3-09-300m-34An-gene-coverages.tsv
    jobid: 772
    wildcards: ID=A3-09-300m-34An


        pileup.sh -in ../mapping-files-HK/A3-09-300m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A3-09-300m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A3-09-300m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A3-09-300m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A3-09-300m-34An-gene-cov.tmp > ../mapping-files-HK/A3-09-300m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A3-09-300m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A3-09-300m-34An-gene-cov.tmp
        
[Mon Nov 30 23:59:51 2020]
Finished job 772.
474 of 589 steps (80%) done

[Mon Nov 30 23:59:51 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW073-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW073-33An-gene-coverages.tsv
    jobid: 829
    wildcards: ID=UW073-33An


        pileup.sh -in ../mapping-files-HK/UW073-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW073-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW073-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW073-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW073-33An-gene-cov.tmp > ../mapping-files-HK/UW073-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW073-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW073-33An-gene-cov.tmp
        
[Mon Nov 30 23:59:51 2020]
Finished job 829.
475 of 589 steps (81%) done

[Mon Nov 30 23:59:51 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/LB01-1000m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/LB01-1000m-8Ar-gene-coverages.tsv
    jobid: 799
    wildcards: ID=LB01-1000m-8Ar


        pileup.sh -in ../mapping-files-HK/LB01-1000m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/LB01-1000m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/LB01-1000m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/LB01-1000m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/LB01-1000m-8Ar-gene-cov.tmp > ../mapping-files-HK/LB01-1000m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/LB01-1000m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/LB01-1000m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:51 2020]
Finished job 799.
476 of 589 steps (81%) done

[Mon Nov 30 23:59:51 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW051-33An.bam
    jobid: 411
    wildcards: ID=UW051-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW051-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW051-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW051-33An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:51 2020]
Finished job 411.
477 of 589 steps (81%) done

[Mon Nov 30 23:59:51 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_850m_0.22-3_prok.bam
    jobid: 207
    wildcards: ID=TARA_065_850m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_065_850m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_850m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:51 2020]
Finished job 207.
478 of 589 steps (81%) done

[Mon Nov 30 23:59:51 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_098_188m_0.22-3_prok.bam
    jobid: 249
    wildcards: ID=TARA_098_188m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_098_188m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_098_188m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:51 2020]
Finished job 249.
479 of 589 steps (81%) done

[Mon Nov 30 23:59:51 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_133_45m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_133_45m_0.22-3_prok-gene-coverages.tsv
    jobid: 705
    wildcards: ID=TARA_133_45m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_133_45m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_133_45m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:51 2020]
Finished job 705.
480 of 589 steps (81%) done

[Mon Nov 30 23:59:51 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_036_17m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 588
    wildcards: ID=TARA_036_17m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_036_17m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:51 2020]
Finished job 588.
481 of 589 steps (82%) done

[Mon Nov 30 23:59:51 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_036_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 590
    wildcards: ID=TARA_036_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_036_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:52 2020]
Finished job 590.
482 of 589 steps (82%) done

[Mon Nov 30 23:59:52 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW024-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW024-9Ar-gene-coverages.tsv
    jobid: 820
    wildcards: ID=UW024-9Ar


        pileup.sh -in ../mapping-files-HK/UW024-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW024-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW024-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW024-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW024-9Ar-gene-cov.tmp > ../mapping-files-HK/UW024-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW024-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/UW024-9Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:52 2020]
Finished job 820.
483 of 589 steps (82%) done

[Mon Nov 30 23:59:52 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_5m_0.1-0.22_girus.bam
    jobid: 205
    wildcards: ID=TARA_065_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_065_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_5m_0.1-0.22_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:52 2020]
Finished job 205.
484 of 589 steps (82%) done

[Mon Nov 30 23:59:52 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW051-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW051-33An-gene-coverages.tsv
    jobid: 825
    wildcards: ID=UW051-33An


        pileup.sh -in ../mapping-files-HK/UW051-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW051-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW051-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW051-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW051-33An-gene-cov.tmp > ../mapping-files-HK/UW051-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW051-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW051-33An-gene-cov.tmp
        
[Mon Nov 30 23:59:52 2020]
Finished job 825.
485 of 589 steps (82%) done

[Mon Nov 30 23:59:52 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD17.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD17-gene-coverages.tsv
    jobid: 480
    wildcards: ID=OSD17


        pileup.sh -in ../mapping-files/OSD17.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD17-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD17-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD17-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD17-gene-cov.tmp > ../mapping-files/OSD17-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD17-gene-cov-and-det.tmp ../mapping-files/OSD17-gene-cov.tmp
        
[Mon Nov 30 23:59:52 2020]
Finished job 480.
486 of 589 steps (83%) done

[Mon Nov 30 23:59:52 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW072-33An.bam
    jobid: 414
    wildcards: ID=UW072-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW072-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW072-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW072-33An "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:52 2020]
Finished job 414.
487 of 589 steps (83%) done

[Mon Nov 30 23:59:52 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 619
    wildcards: ID=TARA_065_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_065_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:52 2020]
Finished job 619.
488 of 589 steps (83%) done

[Mon Nov 30 23:59:52 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_133_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_133_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 706
    wildcards: ID=TARA_133_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_133_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_133_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:52 2020]
Finished job 706.
489 of 589 steps (83%) done

[Mon Nov 30 23:59:52 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_141_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_141_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 709
    wildcards: ID=TARA_141_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_141_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_141_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:52 2020]
Finished job 709.
490 of 589 steps (83%) done

[Mon Nov 30 23:59:52 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_070_800m_0.45-0.8_girus.bam
    jobid: 226
    wildcards: ID=TARA_070_800m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_070_800m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_070_800m_0.45-0.8_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:53 2020]
Finished job 226.
491 of 589 steps (83%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_210_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_210_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 762
    wildcards: ID=TARA_210_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_210_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_210_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_210_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_210_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_210_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_210_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_210_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_210_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:53 2020]
Finished job 762.
492 of 589 steps (84%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD173.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD173-gene-coverages.tsv
    jobid: 484
    wildcards: ID=OSD173


        pileup.sh -in ../mapping-files/OSD173.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD173-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD173-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD173-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD173-gene-cov.tmp > ../mapping-files/OSD173-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD173-gene-cov-and-det.tmp ../mapping-files/OSD173-gene-cov.tmp
        
[Mon Nov 30 23:59:53 2020]
Finished job 484.
493 of 589 steps (84%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW072-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW072-33An-gene-coverages.tsv
    jobid: 828
    wildcards: ID=UW072-33An


        pileup.sh -in ../mapping-files-HK/UW072-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW072-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW072-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW072-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW072-33An-gene-cov.tmp > ../mapping-files-HK/UW072-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW072-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW072-33An-gene-cov.tmp
        
[Mon Nov 30 23:59:53 2020]
Finished job 828.
494 of 589 steps (84%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N04-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N04-0m-8Ar-gene-coverages.tsv
    jobid: 805
    wildcards: ID=N04-0m-8Ar


        pileup.sh -in ../mapping-files-HK/N04-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N04-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N04-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N04-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N04-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/N04-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N04-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N04-0m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:53 2020]
Finished job 805.
495 of 589 steps (84%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/LB01-300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/LB01-300m-8Ar-gene-coverages.tsv
    jobid: 800
    wildcards: ID=LB01-300m-8Ar


        pileup.sh -in ../mapping-files-HK/LB01-300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/LB01-300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/LB01-300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/LB01-300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/LB01-300m-8Ar-gene-cov.tmp > ../mapping-files-HK/LB01-300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/LB01-300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/LB01-300m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:53 2020]
Finished job 800.
496 of 589 steps (84%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_009_55m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 571
    wildcards: ID=TARA_009_55m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_009_55m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:53 2020]
Finished job 571.
497 of 589 steps (84%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD170.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD170-gene-coverages.tsv
    jobid: 481
    wildcards: ID=OSD170


        pileup.sh -in ../mapping-files/OSD170.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD170-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD170-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD170-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD170-gene-cov.tmp > ../mapping-files/OSD170-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD170-gene-cov-and-det.tmp ../mapping-files/OSD170-gene-cov.tmp
        
[Mon Nov 30 23:59:53 2020]
Finished job 481.
498 of 589 steps (85%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_210_391m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_210_391m_0.22-3_prok-gene-coverages.tsv
    jobid: 761
    wildcards: ID=TARA_210_391m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_210_391m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_210_391m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_210_391m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_210_391m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_210_391m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_210_391m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_210_391m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_210_391m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:53 2020]
Finished job 761.
499 of 589 steps (85%) done

[Mon Nov 30 23:59:53 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD110.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD110-gene-coverages.tsv
    jobid: 428
    wildcards: ID=OSD110


        pileup.sh -in ../mapping-files/OSD110.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD110-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD110-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD110-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD110-gene-cov.tmp > ../mapping-files/OSD110-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD110-gene-cov-and-det.tmp ../mapping-files/OSD110-gene-cov.tmp
        
[Mon Nov 30 23:59:54 2020]
Finished job 428.
500 of 589 steps (85%) done

[Mon Nov 30 23:59:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_004_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 568
    wildcards: ID=TARA_004_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_004_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:54 2020]
Finished job 568.
501 of 589 steps (85%) done

[Mon Nov 30 23:59:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_048_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 606
    wildcards: ID=TARA_048_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_048_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:54 2020]
Finished job 606.
502 of 589 steps (85%) done

[Mon Nov 30 23:59:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD111.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD111-gene-coverages.tsv
    jobid: 429
    wildcards: ID=OSD111


        pileup.sh -in ../mapping-files/OSD111.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD111-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD111-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD111-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD111-gene-cov.tmp > ../mapping-files/OSD111-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD111-gene-cov-and-det.tmp ../mapping-files/OSD111-gene-cov.tmp
        
[Mon Nov 30 23:59:54 2020]
Finished job 429.
503 of 589 steps (85%) done

[Mon Nov 30 23:59:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD113.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD113-gene-coverages.tsv
    jobid: 430
    wildcards: ID=OSD113


        pileup.sh -in ../mapping-files/OSD113.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD113-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD113-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD113-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD113-gene-cov.tmp > ../mapping-files/OSD113-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD113-gene-cov-and-det.tmp ../mapping-files/OSD113-gene-cov.tmp
        
[Mon Nov 30 23:59:54 2020]
Finished job 430.
504 of 589 steps (86%) done

[Mon Nov 30 23:59:54 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N07-1000m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N07-1000m-8Ar-gene-coverages.tsv
    jobid: 809
    wildcards: ID=N07-1000m-8Ar


        pileup.sh -in ../mapping-files-HK/N07-1000m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N07-1000m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N07-1000m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N07-1000m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N07-1000m-8Ar-gene-cov.tmp > ../mapping-files-HK/N07-1000m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N07-1000m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N07-1000m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:54 2020]
Finished job 809.
505 of 589 steps (86%) done

[Mon Nov 30 23:59:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD126.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD126-gene-coverages.tsv
    jobid: 440
    wildcards: ID=OSD126


        pileup.sh -in ../mapping-files/OSD126.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD126-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD126-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD126-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD126-gene-cov.tmp > ../mapping-files/OSD126-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD126-gene-cov-and-det.tmp ../mapping-files/OSD126-gene-cov.tmp
        
[Mon Nov 30 23:59:54 2020]
Finished job 440.
506 of 589 steps (86%) done

[Mon Nov 30 23:59:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_018_60m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 574
    wildcards: ID=TARA_018_60m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_018_60m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:54 2020]
Finished job 574.
507 of 589 steps (86%) done

[Mon Nov 30 23:59:54 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_178_5m_0.22-3_prok.bam
    jobid: 324
    wildcards: ID=TARA_178_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_178_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_178_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:55 2020]
Finished job 324.
508 of 589 steps (86%) done

[Mon Nov 30 23:59:55 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_064_5m_0.22-3_prok.bam
    jobid: 200
    wildcards: ID=TARA_064_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_064_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_064_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:55 2020]
Finished job 200.
509 of 589 steps (86%) done

[Mon Nov 30 23:59:55 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD114.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD114-gene-coverages.tsv
    jobid: 431
    wildcards: ID=OSD114


        pileup.sh -in ../mapping-files/OSD114.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD114-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD114-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD114-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD114-gene-cov.tmp > ../mapping-files/OSD114-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD114-gene-cov-and-det.tmp ../mapping-files/OSD114-gene-cov.tmp
        
[Mon Nov 30 23:59:55 2020]
Finished job 431.
510 of 589 steps (87%) done

[Mon Nov 30 23:59:55 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_068_700m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_068_700m_0.22-3_prok-gene-coverages.tsv
    jobid: 633
    wildcards: ID=TARA_068_700m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_068_700m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_068_700m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_068_700m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_068_700m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_068_700m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_068_700m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_068_700m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_068_700m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:55 2020]
Finished job 633.
511 of 589 steps (87%) done

[Mon Nov 30 23:59:55 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_070_800m_0.22-0.45_girus.bam
    jobid: 224
    wildcards: ID=TARA_070_800m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_070_800m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_070_800m_0.22-0.45_girus ${curr_run_accs}
        
[Mon Nov 30 23:59:55 2020]
Finished job 224.
512 of 589 steps (87%) done

[Mon Nov 30 23:59:55 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_064_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_064_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 614
    wildcards: ID=TARA_064_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_064_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_064_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_064_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_064_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_064_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_064_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_064_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_064_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:55 2020]
Finished job 614.
513 of 589 steps (87%) done

[Mon Nov 30 23:59:55 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_078_800m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_078_800m_0.22-3_prok-gene-coverages.tsv
    jobid: 656
    wildcards: ID=TARA_078_800m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_078_800m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_078_800m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_078_800m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_078_800m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_078_800m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_078_800m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_078_800m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_078_800m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:55 2020]
Finished job 656.
514 of 589 steps (87%) done

[Mon Nov 30 23:59:55 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N07-300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N07-300m-8Ar-gene-coverages.tsv
    jobid: 810
    wildcards: ID=N07-300m-8Ar


        pileup.sh -in ../mapping-files-HK/N07-300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N07-300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N07-300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N07-300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N07-300m-8Ar-gene-cov.tmp > ../mapping-files-HK/N07-300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N07-300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N07-300m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:55 2020]
Finished job 810.
515 of 589 steps (87%) done

[Mon Nov 30 23:59:55 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/BB08-3300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/BB08-3300m-8Ar-gene-coverages.tsv
    jobid: 792
    wildcards: ID=BB08-3300m-8Ar


        pileup.sh -in ../mapping-files-HK/BB08-3300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/BB08-3300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/BB08-3300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/BB08-3300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/BB08-3300m-8Ar-gene-cov.tmp > ../mapping-files-HK/BB08-3300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/BB08-3300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/BB08-3300m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:55 2020]
Finished job 792.
516 of 589 steps (88%) done

[Mon Nov 30 23:59:56 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N02-1500m-8Ar.bam
    jobid: 389
    wildcards: ID=N02-1500m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N02-1500m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N02-1500m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N02-1500m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:56 2020]
Finished job 389.
517 of 589 steps (88%) done

[Mon Nov 30 23:59:56 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N02-500m-8Ar.bam
    jobid: 390
    wildcards: ID=N02-500m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N02-500m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N02-500m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N02-500m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:56 2020]
Finished job 390.
518 of 589 steps (88%) done

[Mon Nov 30 23:59:56 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_158_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_158_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 726
    wildcards: ID=TARA_158_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_158_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_158_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:56 2020]
Finished job 726.
519 of 589 steps (88%) done

[Mon Nov 30 23:59:56 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/P06-300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/P06-300m-8Ar-gene-coverages.tsv
    jobid: 813
    wildcards: ID=P06-300m-8Ar


        pileup.sh -in ../mapping-files-HK/P06-300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/P06-300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/P06-300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/P06-300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/P06-300m-8Ar-gene-cov.tmp > ../mapping-files-HK/P06-300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/P06-300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/P06-300m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:56 2020]
Finished job 813.
520 of 589 steps (88%) done

[Mon Nov 30 23:59:56 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD149.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD149-gene-coverages.tsv
    jobid: 458
    wildcards: ID=OSD149


        pileup.sh -in ../mapping-files/OSD149.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD149-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD149-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD149-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD149-gene-cov.tmp > ../mapping-files/OSD149-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD149-gene-cov-and-det.tmp ../mapping-files/OSD149-gene-cov.tmp
        
[Mon Nov 30 23:59:56 2020]
Finished job 458.
521 of 589 steps (88%) done

[Mon Nov 30 23:59:56 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_068_50m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_068_50m_0.22-3_prok-gene-coverages.tsv
    jobid: 628
    wildcards: ID=TARA_068_50m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_068_50m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_068_50m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:56 2020]
Finished job 628.
522 of 589 steps (89%) done

[Mon Nov 30 23:59:56 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_133_650m_0.22-3_prok.bam
    jobid: 293
    wildcards: ID=TARA_133_650m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_133_650m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_133_650m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:56 2020]
Finished job 293.
523 of 589 steps (89%) done

[Mon Nov 30 23:59:56 2020]
rule dl_sample_and_run_mapping_HK_samples:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/BB08-300m-8Ar.bam
    jobid: 377
    wildcards: ID=BB08-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^BB08-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^BB08-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 BB08-300m-8Ar "${R1_link}" "${R2_link}"
        
[Mon Nov 30 23:59:56 2020]
Finished job 377.
524 of 589 steps (89%) done

[Mon Nov 30 23:59:56 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/R16E-1000m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/R16E-1000m-9Ar-gene-coverages.tsv
    jobid: 814
    wildcards: ID=R16E-1000m-9Ar


        pileup.sh -in ../mapping-files-HK/R16E-1000m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/R16E-1000m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/R16E-1000m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/R16E-1000m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/R16E-1000m-9Ar-gene-cov.tmp > ../mapping-files-HK/R16E-1000m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/R16E-1000m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/R16E-1000m-9Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:56 2020]
Finished job 814.
525 of 589 steps (89%) done

[Mon Nov 30 23:59:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD147.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD147-gene-coverages.tsv
    jobid: 456
    wildcards: ID=OSD147


        pileup.sh -in ../mapping-files/OSD147.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD147-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD147-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD147-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD147-gene-cov.tmp > ../mapping-files/OSD147-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD147-gene-cov-and-det.tmp ../mapping-files/OSD147-gene-cov.tmp
        
[Mon Nov 30 23:59:57 2020]
Finished job 456.
526 of 589 steps (89%) done

[Mon Nov 30 23:59:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD148.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD148-gene-coverages.tsv
    jobid: 457
    wildcards: ID=OSD148


        pileup.sh -in ../mapping-files/OSD148.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD148-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD148-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD148-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD148-gene-cov.tmp > ../mapping-files/OSD148-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD148-gene-cov-and-det.tmp ../mapping-files/OSD148-gene-cov.tmp
        
[Mon Nov 30 23:59:57 2020]
Finished job 457.
527 of 589 steps (89%) done

[Mon Nov 30 23:59:57 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_140_5m_0.22-3_prok.bam
    jobid: 294
    wildcards: ID=TARA_140_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_140_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_140_5m_0.22-3_prok ${curr_run_accs}
        
[Mon Nov 30 23:59:57 2020]
Finished job 294.
528 of 589 steps (90%) done

[Mon Nov 30 23:59:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD26.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD26-gene-coverages.tsv
    jobid: 504
    wildcards: ID=OSD26


        pileup.sh -in ../mapping-files/OSD26.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD26-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD26-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD26-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD26-gene-cov.tmp > ../mapping-files/OSD26-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD26-gene-cov-and-det.tmp ../mapping-files/OSD26-gene-cov.tmp
        
[Mon Nov 30 23:59:57 2020]
Finished job 504.
529 of 589 steps (90%) done

[Mon Nov 30 23:59:57 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/R16E-300m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/R16E-300m-9Ar-gene-coverages.tsv
    jobid: 815
    wildcards: ID=R16E-300m-9Ar


        pileup.sh -in ../mapping-files-HK/R16E-300m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/R16E-300m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/R16E-300m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/R16E-300m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/R16E-300m-9Ar-gene-cov.tmp > ../mapping-files-HK/R16E-300m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/R16E-300m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/R16E-300m-9Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:57 2020]
Finished job 815.
530 of 589 steps (90%) done

[Mon Nov 30 23:59:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_066_30m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_066_30m_0.22-3_prok-gene-coverages.tsv
    jobid: 622
    wildcards: ID=TARA_066_30m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_066_30m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_066_30m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:57 2020]
Finished job 622.
531 of 589 steps (90%) done

[Mon Nov 30 23:59:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_152_800m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_152_800m_0.22-3_prok-gene-coverages.tsv
    jobid: 721
    wildcards: ID=TARA_152_800m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_152_800m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_152_800m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_152_800m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_152_800m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_152_800m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_152_800m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_152_800m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_152_800m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:57 2020]
Finished job 721.
532 of 589 steps (90%) done

[Mon Nov 30 23:59:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_115m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 675
    wildcards: ID=TARA_122_115m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_122_115m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:57 2020]
Finished job 675.
533 of 589 steps (90%) done

[Mon Nov 30 23:59:57 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_122_115m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 676
    wildcards: ID=TARA_122_115m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_122_115m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:58 2020]
Finished job 676.
534 of 589 steps (91%) done

[Mon Nov 30 23:59:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_037_600m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 592
    wildcards: ID=TARA_037_600m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_037_600m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:58 2020]
Finished job 592.
535 of 589 steps (91%) done

[Mon Nov 30 23:59:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_152_5-160m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-coverages.tsv
    jobid: 719
    wildcards: ID=TARA_152_5-160m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_152_5-160m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:58 2020]
Finished job 719.
536 of 589 steps (91%) done

[Mon Nov 30 23:59:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_152_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_152_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 720
    wildcards: ID=TARA_152_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_152_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_152_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_152_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_152_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_152_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_152_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_152_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_152_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:58 2020]
Finished job 720.
537 of 589 steps (91%) done

[Mon Nov 30 23:59:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_098_488m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_098_488m_0.22-3_prok-gene-coverages.tsv
    jobid: 664
    wildcards: ID=TARA_098_488m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_098_488m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_098_488m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_098_488m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_098_488m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_098_488m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_098_488m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_098_488m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_098_488m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:58 2020]
Finished job 664.
538 of 589 steps (91%) done

[Mon Nov 30 23:59:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_003_5m_0.22-1.6_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-coverages.tsv
    jobid: 566
    wildcards: ID=TARA_003_5m_0.22-1.6_girus


        pileup.sh -in ../mapping-files/TARA_003_5m_0.22-1.6_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-cov.tmp > ../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-cov-and-det.tmp ../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-cov.tmp
        
[Mon Nov 30 23:59:58 2020]
Finished job 566.
539 of 589 steps (92%) done

[Mon Nov 30 23:59:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_175_10-100m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-coverages.tsv
    jobid: 735
    wildcards: ID=TARA_175_10-100m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_175_10-100m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:58 2020]
Finished job 735.
540 of 589 steps (92%) done

[Mon Nov 30 23:59:58 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/BB08-1000m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/BB08-1000m-8Ar-gene-coverages.tsv
    jobid: 790
    wildcards: ID=BB08-1000m-8Ar


        pileup.sh -in ../mapping-files-HK/BB08-1000m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/BB08-1000m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/BB08-1000m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/BB08-1000m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/BB08-1000m-8Ar-gene-cov.tmp > ../mapping-files-HK/BB08-1000m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/BB08-1000m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/BB08-1000m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:58 2020]
Finished job 790.
541 of 589 steps (92%) done

[Mon Nov 30 23:59:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_850m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_850m_0.22-3_prok-gene-coverages.tsv
    jobid: 621
    wildcards: ID=TARA_065_850m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_065_850m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_065_850m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 621.
542 of 589 steps (92%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD129.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD129-gene-coverages.tsv
    jobid: 443
    wildcards: ID=OSD129


        pileup.sh -in ../mapping-files/OSD129.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD129-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD129-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD129-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD129-gene-cov.tmp > ../mapping-files/OSD129-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD129-gene-cov-and-det.tmp ../mapping-files/OSD129-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 443.
543 of 589 steps (92%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_133_650m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_133_650m_0.22-3_prok-gene-coverages.tsv
    jobid: 707
    wildcards: ID=TARA_133_650m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_133_650m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_133_650m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 707.
544 of 589 steps (92%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_180_30m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_180_30m_0.22-3_prok-gene-coverages.tsv
    jobid: 739
    wildcards: ID=TARA_180_30m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_180_30m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_180_30m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_180_30m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_180_30m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_180_30m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_180_30m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_180_30m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_180_30m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 739.
545 of 589 steps (93%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD143.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD143-gene-coverages.tsv
    jobid: 452
    wildcards: ID=OSD143


        pileup.sh -in ../mapping-files/OSD143.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD143-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD143-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD143-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD143-gene-cov.tmp > ../mapping-files/OSD143-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD143-gene-cov-and-det.tmp ../mapping-files/OSD143-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 452.
546 of 589 steps (93%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_098_188m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_098_188m_0.22-3_prok-gene-coverages.tsv
    jobid: 663
    wildcards: ID=TARA_098_188m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_098_188m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_098_188m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_098_188m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_098_188m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_098_188m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_098_188m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_098_188m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_098_188m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 663.
547 of 589 steps (93%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_140_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_140_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 708
    wildcards: ID=TARA_140_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_140_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_140_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 708.
548 of 589 steps (93%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N02-1500m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N02-1500m-8Ar-gene-coverages.tsv
    jobid: 803
    wildcards: ID=N02-1500m-8Ar


        pileup.sh -in ../mapping-files-HK/N02-1500m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N02-1500m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N02-1500m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N02-1500m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N02-1500m-8Ar-gene-cov.tmp > ../mapping-files-HK/N02-1500m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N02-1500m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N02-1500m-8Ar-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 803.
549 of 589 steps (93%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_132_115m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_132_115m_0.22-3_prok-gene-coverages.tsv
    jobid: 702
    wildcards: ID=TARA_132_115m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_132_115m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_132_115m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov.tmp
        
[Mon Nov 30 23:59:59 2020]
Finished job 702.
550 of 589 steps (93%) done

[Mon Nov 30 23:59:59 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/LB01-5m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/LB01-5m-8Ar-gene-coverages.tsv
    jobid: 801
    wildcards: ID=LB01-5m-8Ar


        pileup.sh -in ../mapping-files-HK/LB01-5m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/LB01-5m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/LB01-5m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/LB01-5m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/LB01-5m-8Ar-gene-cov.tmp > ../mapping-files-HK/LB01-5m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/LB01-5m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/LB01-5m-8Ar-gene-cov.tmp
        
[Tue Dec  1 00:00:00 2020]
Finished job 801.
551 of 589 steps (94%) done

[Tue Dec  1 00:00:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_068_700m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 634
    wildcards: ID=TARA_068_700m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_068_700m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-cov.tmp
        
[Tue Dec  1 00:00:00 2020]
Finished job 634.
552 of 589 steps (94%) done

[Tue Dec  1 00:00:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_070_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_070_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 636
    wildcards: ID=TARA_070_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_070_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_070_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_070_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_070_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_070_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_070_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_070_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_070_5m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:00 2020]
Finished job 636.
553 of 589 steps (94%) done

[Tue Dec  1 00:00:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_070_800m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 638
    wildcards: ID=TARA_070_800m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_070_800m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-cov.tmp
        
[Tue Dec  1 00:00:00 2020]
Finished job 638.
554 of 589 steps (94%) done

[Tue Dec  1 00:00:00 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_064_1000m_0.22-3_prok.bam
    jobid: 199
    wildcards: ID=TARA_064_1000m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_064_1000m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_064_1000m_0.22-3_prok ${curr_run_accs}
        
[Tue Dec  1 00:00:00 2020]
Finished job 199.
555 of 589 steps (94%) done

[Tue Dec  1 00:00:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_070_800m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_070_800m_0.22-3_prok-gene-coverages.tsv
    jobid: 639
    wildcards: ID=TARA_070_800m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_070_800m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_070_800m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:00 2020]
Finished job 639.
556 of 589 steps (94%) done

[Tue Dec  1 00:00:00 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A5-10-1000m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A5-10-1000m-34An-gene-coverages.tsv
    jobid: 779
    wildcards: ID=A5-10-1000m-34An


        pileup.sh -in ../mapping-files-HK/A5-10-1000m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A5-10-1000m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A5-10-1000m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A5-10-1000m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A5-10-1000m-34An-gene-cov.tmp > ../mapping-files-HK/A5-10-1000m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A5-10-1000m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A5-10-1000m-34An-gene-cov.tmp
        
[Tue Dec  1 00:00:00 2020]
Finished job 779.
557 of 589 steps (95%) done

[Tue Dec  1 00:00:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_070_800m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 640
    wildcards: ID=TARA_070_800m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_070_800m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov.tmp
        
[Tue Dec  1 00:00:00 2020]
Finished job 640.
558 of 589 steps (95%) done

[Tue Dec  1 00:00:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_072_100m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_072_100m_0.22-3_prok-gene-coverages.tsv
    jobid: 641
    wildcards: ID=TARA_072_100m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_072_100m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_072_100m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:00 2020]
Finished job 641.
559 of 589 steps (95%) done

[Tue Dec  1 00:00:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_064_1000m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_064_1000m_0.22-3_prok-gene-coverages.tsv
    jobid: 613
    wildcards: ID=TARA_064_1000m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_064_1000m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_064_1000m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_064_1000m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_064_1000m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_064_1000m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_064_1000m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_064_1000m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_064_1000m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:01 2020]
Finished job 613.
560 of 589 steps (95%) done

[Tue Dec  1 00:00:01 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/A5-10-3500m-34An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/A5-10-3500m-34An-gene-coverages.tsv
    jobid: 781
    wildcards: ID=A5-10-3500m-34An


        pileup.sh -in ../mapping-files-HK/A5-10-3500m-34An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/A5-10-3500m-34An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/A5-10-3500m-34An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/A5-10-3500m-34An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/A5-10-3500m-34An-gene-cov.tmp > ../mapping-files-HK/A5-10-3500m-34An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/A5-10-3500m-34An-gene-cov-and-det.tmp ../mapping-files-HK/A5-10-3500m-34An-gene-cov.tmp
        
[Tue Dec  1 00:00:01 2020]
Finished job 781.
561 of 589 steps (95%) done

[Tue Dec  1 00:00:01 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD109.bam
    jobid: 13
    wildcards: ID=OSD109


        curr_run_accs=$(grep -w -m 1 "^OSD109" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD109 ${curr_run_accs}
        
[Tue Dec  1 00:00:01 2020]
Finished job 13.
562 of 589 steps (95%) done

[Tue Dec  1 00:00:01 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/AT04-1000m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/AT04-1000m-8Ar-gene-coverages.tsv
    jobid: 783
    wildcards: ID=AT04-1000m-8Ar


        pileup.sh -in ../mapping-files-HK/AT04-1000m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/AT04-1000m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/AT04-1000m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/AT04-1000m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/AT04-1000m-8Ar-gene-cov.tmp > ../mapping-files-HK/AT04-1000m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/AT04-1000m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/AT04-1000m-8Ar-gene-cov.tmp
        
[Tue Dec  1 00:00:01 2020]
Finished job 783.
563 of 589 steps (96%) done

[Tue Dec  1 00:00:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD72.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD72-gene-coverages.tsv
    jobid: 546
    wildcards: ID=OSD72


        pileup.sh -in ../mapping-files/OSD72.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD72-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD72-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD72-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD72-gene-cov.tmp > ../mapping-files/OSD72-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD72-gene-cov-and-det.tmp ../mapping-files/OSD72-gene-cov.tmp
        
[Tue Dec  1 00:00:01 2020]
Finished job 546.
564 of 589 steps (96%) done

[Tue Dec  1 00:00:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_175_199m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_175_199m_0.22-3_prok-gene-coverages.tsv
    jobid: 736
    wildcards: ID=TARA_175_199m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_175_199m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_175_199m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_175_199m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_175_199m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_175_199m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_175_199m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_175_199m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_175_199m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:01 2020]
Finished job 736.
565 of 589 steps (96%) done

[Tue Dec  1 00:00:01 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_058_66m_0.22-3_prok.bam
    jobid: 197
    wildcards: ID=TARA_058_66m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_058_66m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_058_66m_0.22-3_prok ${curr_run_accs}
        
[Tue Dec  1 00:00:01 2020]
Finished job 197.
566 of 589 steps (96%) done

[Tue Dec  1 00:00:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD73.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD73-gene-coverages.tsv
    jobid: 547
    wildcards: ID=OSD73


        pileup.sh -in ../mapping-files/OSD73.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD73-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD73-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD73-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD73-gene-cov.tmp > ../mapping-files/OSD73-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD73-gene-cov-and-det.tmp ../mapping-files/OSD73-gene-cov.tmp
        
[Tue Dec  1 00:00:01 2020]
Finished job 547.
567 of 589 steps (96%) done

[Tue Dec  1 00:00:01 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/AT04-300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/AT04-300m-8Ar-gene-coverages.tsv
    jobid: 785
    wildcards: ID=AT04-300m-8Ar


        pileup.sh -in ../mapping-files-HK/AT04-300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/AT04-300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/AT04-300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/AT04-300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/AT04-300m-8Ar-gene-cov.tmp > ../mapping-files-HK/AT04-300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/AT04-300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/AT04-300m-8Ar-gene-cov.tmp
        
[Tue Dec  1 00:00:01 2020]
Finished job 785.
568 of 589 steps (96%) done

[Tue Dec  1 00:00:01 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/B08-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/B08-0m-8Ar-gene-coverages.tsv
    jobid: 786
    wildcards: ID=B08-0m-8Ar


        pileup.sh -in ../mapping-files-HK/B08-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/B08-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/B08-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/B08-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/B08-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/B08-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/B08-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/B08-0m-8Ar-gene-cov.tmp
        
[Tue Dec  1 00:00:02 2020]
Finished job 786.
569 of 589 steps (97%) done

[Tue Dec  1 00:00:02 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_045_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 604
    wildcards: ID=TARA_045_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_045_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:02 2020]
Finished job 604.
570 of 589 steps (97%) done

[Tue Dec  1 00:00:02 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD131.bam
    jobid: 32
    wildcards: ID=OSD131


        curr_run_accs=$(grep -w -m 1 "^OSD131" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD131 ${curr_run_accs}
        
[Tue Dec  1 00:00:02 2020]
Finished job 32.
571 of 589 steps (97%) done

[Tue Dec  1 00:00:02 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_034_5m_0.22-1.6_prok.bam
    jobid: 172
    wildcards: ID=TARA_034_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_034_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_034_5m_0.22-1.6_prok ${curr_run_accs}
        
[Tue Dec  1 00:00:02 2020]
Finished job 172.
572 of 589 steps (97%) done

[Tue Dec  1 00:00:02 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N02-500m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N02-500m-8Ar-gene-coverages.tsv
    jobid: 804
    wildcards: ID=N02-500m-8Ar


        pileup.sh -in ../mapping-files-HK/N02-500m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N02-500m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N02-500m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N02-500m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N02-500m-8Ar-gene-cov.tmp > ../mapping-files-HK/N02-500m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N02-500m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N02-500m-8Ar-gene-cov.tmp
        
[Tue Dec  1 00:00:02 2020]
Finished job 804.
573 of 589 steps (97%) done

[Tue Dec  1 00:00:02 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD109.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD109-gene-coverages.tsv
    jobid: 427
    wildcards: ID=OSD109


        pileup.sh -in ../mapping-files/OSD109.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD109-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD109-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD109-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD109-gene-cov.tmp > ../mapping-files/OSD109-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD109-gene-cov-and-det.tmp ../mapping-files/OSD109-gene-cov.tmp
        
[Tue Dec  1 00:00:02 2020]
Finished job 427.
574 of 589 steps (97%) done

[Tue Dec  1 00:00:02 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_085_790m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_085_790m_0.22-3_prok-gene-coverages.tsv
    jobid: 658
    wildcards: ID=TARA_085_790m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_085_790m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_085_790m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_085_790m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_085_790m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_085_790m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_085_790m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_085_790m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_085_790m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:02 2020]
Finished job 658.
575 of 589 steps (98%) done

[Tue Dec  1 00:00:02 2020]
rule dl_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_111_350m_0.22-3_prok.bam
    jobid: 256
    wildcards: ID=TARA_111_350m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_111_350m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_111_350m_0.22-3_prok ${curr_run_accs}
        
[Tue Dec  1 00:00:02 2020]
Finished job 256.
576 of 589 steps (98%) done

[Tue Dec  1 00:00:02 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/BB08-300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/BB08-300m-8Ar-gene-coverages.tsv
    jobid: 791
    wildcards: ID=BB08-300m-8Ar


        pileup.sh -in ../mapping-files-HK/BB08-300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/BB08-300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/BB08-300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/BB08-300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/BB08-300m-8Ar-gene-cov.tmp > ../mapping-files-HK/BB08-300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/BB08-300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/BB08-300m-8Ar-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 791.
577 of 589 steps (98%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_032_80m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 583
    wildcards: ID=TARA_032_80m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_032_80m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 583.
578 of 589 steps (98%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_178_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_178_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 738
    wildcards: ID=TARA_178_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_178_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_178_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_178_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_178_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_178_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_178_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_178_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_178_5m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 738.
579 of 589 steps (98%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_132_550m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_132_550m_0.22-3_prok-gene-coverages.tsv
    jobid: 703
    wildcards: ID=TARA_132_550m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_132_550m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_132_550m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 703.
580 of 589 steps (98%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_034_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 586
    wildcards: ID=TARA_034_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_034_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 586.
581 of 589 steps (99%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_036_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 591
    wildcards: ID=TARA_036_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_036_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 591.
582 of 589 steps (99%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD74.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD74-gene-coverages.tsv
    jobid: 548
    wildcards: ID=OSD74


        pileup.sh -in ../mapping-files/OSD74.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD74-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD74-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD74-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD74-gene-cov.tmp > ../mapping-files/OSD74-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD74-gene-cov-and-det.tmp ../mapping-files/OSD74-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 548.
583 of 589 steps (99%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_151_80m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_151_80m_0.22-3_prok-gene-coverages.tsv
    jobid: 718
    wildcards: ID=TARA_151_80m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_151_80m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_151_80m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_151_80m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_151_80m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_151_80m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_151_80m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_151_80m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_151_80m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 718.
584 of 589 steps (99%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 620
    wildcards: ID=TARA_065_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_065_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_065_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:03 2020]
Finished job 620.
585 of 589 steps (99%) done

[Tue Dec  1 00:00:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_111_350m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_111_350m_0.22-3_prok-gene-coverages.tsv
    jobid: 670
    wildcards: ID=TARA_111_350m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_111_350m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_111_350m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:04 2020]
Finished job 670.
586 of 589 steps (99%) done

[Tue Dec  1 00:00:04 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD131.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD131-gene-coverages.tsv
    jobid: 446
    wildcards: ID=OSD131


        pileup.sh -in ../mapping-files/OSD131.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD131-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD131-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD131-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD131-gene-cov.tmp > ../mapping-files/OSD131-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD131-gene-cov-and-det.tmp ../mapping-files/OSD131-gene-cov.tmp
        
[Tue Dec  1 00:00:04 2020]
Finished job 446.
587 of 589 steps (100%) done

[Tue Dec  1 00:00:04 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_058_66m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_058_66m_0.22-3_prok-gene-coverages.tsv
    jobid: 611
    wildcards: ID=TARA_058_66m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_058_66m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_058_66m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_058_66m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_058_66m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_058_66m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_058_66m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_058_66m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_058_66m_0.22-3_prok-gene-cov.tmp
        
[Tue Dec  1 00:00:04 2020]
Finished job 611.
588 of 589 steps (100%) done

[Tue Dec  1 00:00:04 2020]
rule all:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2, ../mapping-files/OSD1.bam, ../mapping-files/OSD10.bam, ../mapping-files/OSD100.bam, ../mapping-files/OSD101.bam, ../mapping-files/OSD102.bam, ../mapping-files/OSD103.bam, ../mapping-files/OSD105.bam, ../mapping-files/OSD106-0.bam, ../mapping-files/OSD106-15.bam, ../mapping-files/OSD107.bam, ../mapping-files/OSD108.bam, ../mapping-files/OSD109.bam, ../mapping-files/OSD110.bam, ../mapping-files/OSD111.bam, ../mapping-files/OSD113.bam, ../mapping-files/OSD114.bam, ../mapping-files/OSD115.bam, ../mapping-files/OSD116.bam, ../mapping-files/OSD117.bam, ../mapping-files/OSD118.bam, ../mapping-files/OSD122.bam, ../mapping-files/OSD123.bam, ../mapping-files/OSD124.bam, ../mapping-files/OSD125.bam, ../mapping-files/OSD126.bam, ../mapping-files/OSD127.bam, ../mapping-files/OSD128.bam, ../mapping-files/OSD129.bam, ../mapping-files/OSD13.bam, ../mapping-files/OSD130.bam, ../mapping-files/OSD131.bam, ../mapping-files/OSD132.bam, ../mapping-files/OSD133.bam, ../mapping-files/OSD14.bam, ../mapping-files/OSD141.bam, ../mapping-files/OSD142.bam, ../mapping-files/OSD143.bam, ../mapping-files/OSD144.bam, ../mapping-files/OSD145.bam, ../mapping-files/OSD146.bam, ../mapping-files/OSD147.bam, ../mapping-files/OSD148.bam, ../mapping-files/OSD149.bam, ../mapping-files/OSD150.bam, ../mapping-files/OSD15-0.bam, ../mapping-files/OSD151.bam, ../mapping-files/OSD152-1.bam, ../mapping-files/OSD152-5.bam, ../mapping-files/OSD153.bam, ../mapping-files/OSD154.bam, ../mapping-files/OSD155.bam, ../mapping-files/OSD15-50.bam, ../mapping-files/OSD156.bam, ../mapping-files/OSD157.bam, ../mapping-files/OSD158.bam, ../mapping-files/OSD159.bam, ../mapping-files/OSD162.bam, ../mapping-files/OSD163.bam, ../mapping-files/OSD164.bam, ../mapping-files/OSD165.bam, ../mapping-files/OSD166.bam, ../mapping-files/OSD167.bam, ../mapping-files/OSD168.bam, ../mapping-files/OSD169.bam, ../mapping-files/OSD17.bam, ../mapping-files/OSD170.bam, ../mapping-files/OSD171.bam, ../mapping-files/OSD172.bam, ../mapping-files/OSD173.bam, ../mapping-files/OSD174.bam, ../mapping-files/OSD175.bam, ../mapping-files/OSD176.bam, ../mapping-files/OSD177.bam, ../mapping-files/OSD178.bam, ../mapping-files/OSD18.bam, ../mapping-files/OSD182.bam, ../mapping-files/OSD183.bam, ../mapping-files/OSD184.bam, ../mapping-files/OSD185.bam, ../mapping-files/OSD186.bam, ../mapping-files/OSD19.bam, ../mapping-files/OSD2.bam, ../mapping-files/OSD20-0.bam, ../mapping-files/OSD20-20.bam, ../mapping-files/OSD21.bam, ../mapping-files/OSD22.bam, ../mapping-files/OSD24.bam, ../mapping-files/OSD25.bam, ../mapping-files/OSD26.bam, ../mapping-files/OSD28.bam, ../mapping-files/OSD29.bam, ../mapping-files/OSD3.bam, ../mapping-files/OSD30.bam, ../mapping-files/OSD34.bam, ../mapping-files/OSD35.bam, ../mapping-files/OSD36.bam, ../mapping-files/OSD37.bam, ../mapping-files/OSD38.bam, ../mapping-files/OSD39.bam, ../mapping-files/OSD4.bam, ../mapping-files/OSD41.bam, ../mapping-files/OSD42.bam, ../mapping-files/OSD43.bam, ../mapping-files/OSD45.bam, ../mapping-files/OSD46.bam, ../mapping-files/OSD47.bam, ../mapping-files/OSD48.bam, ../mapping-files/OSD49.bam, ../mapping-files/OSD50.bam, ../mapping-files/OSD51.bam, ../mapping-files/OSD5-1.bam, ../mapping-files/OSD52.bam, ../mapping-files/OSD53.bam, ../mapping-files/OSD54.bam, ../mapping-files/OSD55.bam, ../mapping-files/OSD56.bam, ../mapping-files/OSD57.bam, ../mapping-files/OSD5-75.bam, ../mapping-files/OSD58.bam, ../mapping-files/OSD6.bam, ../mapping-files/OSD60.bam, ../mapping-files/OSD61.bam, ../mapping-files/OSD62.bam, ../mapping-files/OSD63.bam, ../mapping-files/OSD64.bam, ../mapping-files/OSD65.bam, ../mapping-files/OSD69.bam, ../mapping-files/OSD7.bam, ../mapping-files/OSD70.bam, ../mapping-files/OSD71.bam, ../mapping-files/OSD72.bam, ../mapping-files/OSD73.bam, ../mapping-files/OSD74.bam, ../mapping-files/OSD76.bam, ../mapping-files/OSD77.bam, ../mapping-files/OSD78.bam, ../mapping-files/OSD80-0.bam, ../mapping-files/OSD80-2.bam, ../mapping-files/OSD81.bam, ../mapping-files/OSD9.bam, ../mapping-files/OSD90.bam, ../mapping-files/OSD91.bam, ../mapping-files/OSD92.bam, ../mapping-files/OSD93.bam, ../mapping-files/OSD94.bam, ../mapping-files/OSD95.bam, ../mapping-files/OSD96.bam, ../mapping-files/OSD97.bam, ../mapping-files/OSD98.bam, ../mapping-files/OSD99.bam, ../mapping-files/TARA_003_5m_0.22-1.6_girus.bam, ../mapping-files/TARA_004_40m_0.22-1.6_prok.bam, ../mapping-files/TARA_004_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_007_42m_0.22-1.6_girus.bam, ../mapping-files/TARA_007_5m_0.22-1.6_girus.bam, ../mapping-files/TARA_009_55m_0.22-1.6_girus.bam, ../mapping-files/TARA_009_5m_0.22-1.6_girus.bam, ../mapping-files/TARA_018_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_018_60m_0.22-1.6_prok.bam, ../mapping-files/TARA_023_55m_0.22-1.6_prok.bam, ../mapping-files/TARA_023_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_025_50m_0.22-1.6_prok.bam, ../mapping-files/TARA_025_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_030_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_030_70m_0.22-1.6_prok.bam, ../mapping-files/TARA_031_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_032_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_032_80m_0.22-1.6_prok.bam, ../mapping-files/TARA_033_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_034_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_034_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_034_60m_0.22-1.6_prok.bam, ../mapping-files/TARA_036_17m_0.22-1.6_prok.bam, ../mapping-files/TARA_036_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_036_5m_0.22-1.6_girus.bam, ../mapping-files/TARA_036_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_037_600m_0.1-0.22_girus.bam, ../mapping-files/TARA_038_340m_0.1-0.22_girus.bam, ../mapping-files/TARA_038_340m_0.22-1.6_girus.bam, ../mapping-files/TARA_038_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_038_5m_0.22-1.6_girus.bam, ../mapping-files/TARA_039_25m_0.22-1.6_prok.bam, ../mapping-files/TARA_039_270m_0.1-0.22_girus.bam, ../mapping-files/TARA_039_270m_0.22-1.6_prok.bam, ../mapping-files/TARA_039_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_041_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_042_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_042_80m_0.22-1.6_prok.bam, ../mapping-files/TARA_045_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_048_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_048_5m_0.22-1.6_prok.bam, ../mapping-files/TARA_049_5m_0.22-1.6_girus.bam, ../mapping-files/TARA_056_1000m_0.22-3_prok.bam, ../mapping-files/TARA_056_5m_0.22-3_prok.bam, ../mapping-files/TARA_057_5m_0.22-3_prok.bam, ../mapping-files/TARA_058_66m_0.22-3_prok.bam, ../mapping-files/TARA_062_5m_0.22-3_prok.bam, ../mapping-files/TARA_064_1000m_0.22-3_prok.bam, ../mapping-files/TARA_064_5m_0.22-3_prok.bam, ../mapping-files/TARA_064_65m_0.1-0.22_girus.bam, ../mapping-files/TARA_064_65m_0.22-3_prok.bam, ../mapping-files/TARA_065_30m_0.1-0.22_girus.bam, ../mapping-files/TARA_065_30m_0.22-3_prok.bam, ../mapping-files/TARA_065_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_065_5m_0.22-3_prok.bam, ../mapping-files/TARA_065_850m_0.22-3_prok.bam, ../mapping-files/TARA_066_30m_0.22-3_prok.bam, ../mapping-files/TARA_066_5m_0.22-3_prok.bam, ../mapping-files/TARA_067_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_067_5m_0.22-3_prok.bam, ../mapping-files/TARA_067_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_068_50m_0.22-0.45_girus.bam, ../mapping-files/TARA_068_50m_0.22-3_prok.bam, ../mapping-files/TARA_068_50m_0.45-0.8_girus.bam, ../mapping-files/TARA_068_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_068_5m_0.22-3_prok.bam, ../mapping-files/TARA_068_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_068_700m_0.22-3_prok.bam, ../mapping-files/TARA_068_700m_0.45-0.8_girus.bam, ../mapping-files/TARA_070_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_070_5m_0.22-3_prok.bam, ../mapping-files/TARA_070_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_070_800m_0.22-0.45_girus.bam, ../mapping-files/TARA_070_800m_0.22-3_prok.bam, ../mapping-files/TARA_070_800m_0.45-0.8_girus.bam, ../mapping-files/TARA_072_100m_0.22-3_prok.bam, ../mapping-files/TARA_072_5m_0.22-3_prok.bam, ../mapping-files/TARA_072_800m_0.22-3_prok.bam, ../mapping-files/TARA_076_150m_0.22-0.45_girus.bam, ../mapping-files/TARA_076_150m_0.22-3_prok.bam, ../mapping-files/TARA_076_150m_0.45-0.8_girus.bam, ../mapping-files/TARA_076_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_076_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_076_800m_0.22-3_prok.bam, ../mapping-files/TARA_076_800m_0.45-0.8_girus.bam, ../mapping-files/TARA_078_120m_0.22-0.45_girus.bam, ../mapping-files/TARA_078_120m_0.22-3_prok.bam, ../mapping-files/TARA_078_120m_0.45-0.8_girus.bam, ../mapping-files/TARA_078_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_078_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_078_800m_0.22-3_prok.bam, ../mapping-files/TARA_078_800m_0.45-0.8_girus.bam, ../mapping-files/TARA_085_790m_0.22-3_prok.bam, ../mapping-files/TARA_093_35m_0.22-3_prok.bam, ../mapping-files/TARA_093_5m_0.22-3_prok.bam, ../mapping-files/TARA_094_5m_0.22-3_prok.bam, ../mapping-files/TARA_096_5m_0.22-3_prok.bam, ../mapping-files/TARA_098_188m_0.22-3_prok.bam, ../mapping-files/TARA_098_488m_0.22-3_prok.bam, ../mapping-files/TARA_098_5m_0.22-3_prok.bam, ../mapping-files/TARA_099_5m_0.22-3_prok.bam, ../mapping-files/TARA_110_380m_0.22-3_prok.bam, ../mapping-files/TARA_110_50m_0.22-3_prok.bam, ../mapping-files/TARA_110_5m_0.22-3_prok.bam, ../mapping-files/TARA_111_350m_0.22-3_prok.bam, ../mapping-files/TARA_112_155m_0.22-3_prok.bam, ../mapping-files/TARA_112_5m_0.22-3_prok.bam, ../mapping-files/TARA_112_696m_0.22-3_prok.bam, ../mapping-files/TARA_122_115m_0.1-0.22_girus.bam, ../mapping-files/TARA_122_115m_0.22-0.45_girus.bam, ../mapping-files/TARA_122_115m_0.45-0.8_girus.bam, ../mapping-files/TARA_122_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_122_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_122_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_122_600m_0.1-0.22_girus.bam, ../mapping-files/TARA_122_600m_0.22-0.45_girus.bam, ../mapping-files/TARA_122_600m_0.45-0.8_girus.bam, ../mapping-files/TARA_123_150m_0.1-0.22_girus.bam, ../mapping-files/TARA_123_150m_0.22-0.45_girus.bam, ../mapping-files/TARA_123_150m_0.45-0.8_girus.bam, ../mapping-files/TARA_123_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_123_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_124_120m_0.1-0.22_girus.bam, ../mapping-files/TARA_124_120m_0.22-0.45_girus.bam, ../mapping-files/TARA_124_120m_0.45-0.8_girus.bam, ../mapping-files/TARA_124_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_124_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_124_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_125_140m_0.1-0.22_girus.bam, ../mapping-files/TARA_125_140m_0.22-0.45_girus.bam, ../mapping-files/TARA_125_140m_0.45-0.8_girus.bam, ../mapping-files/TARA_125_5m_0.1-0.22_girus.bam, ../mapping-files/TARA_125_5m_0.22-0.45_girus.bam, ../mapping-files/TARA_125_5m_0.45-0.8_girus.bam, ../mapping-files/TARA_128_40m_0.22-3_prok.bam, ../mapping-files/TARA_128_5m_0.22-3_prok.bam, ../mapping-files/TARA_132_115m_0.22-3_prok.bam, ../mapping-files/TARA_132_550m_0.22-3_prok.bam, ../mapping-files/TARA_132_5m_0.22-3_prok.bam, ../mapping-files/TARA_133_45m_0.22-3_prok.bam, ../mapping-files/TARA_133_5m_0.22-3_prok.bam, ../mapping-files/TARA_133_650m_0.22-3_prok.bam, ../mapping-files/TARA_140_5m_0.22-3_prok.bam, ../mapping-files/TARA_141_5m_0.22-3_prok.bam, ../mapping-files/TARA_142_125m_0.22-3_prok.bam, ../mapping-files/TARA_142_5m_0.22-3_prok.bam, ../mapping-files/TARA_142_640m_0.22-3_prok.bam, ../mapping-files/TARA_145_590m_0.22-3_prok.bam, ../mapping-files/TARA_145_5m_0.22-3_prok.bam, ../mapping-files/TARA_146_5m_0.22-3_prok.bam, ../mapping-files/TARA_146_640m_0.22-3_prok.bam, ../mapping-files/TARA_150_40m_0.22-3_prok.bam, ../mapping-files/TARA_151_80m_0.22-3_prok.bam, ../mapping-files/TARA_152_5-160m_0.22-3_prok.bam, ../mapping-files/TARA_152_5m_0.22-3_prok.bam, ../mapping-files/TARA_152_800m_0.22-3_prok.bam, ../mapping-files/TARA_155_40m_0.22-3_prok.bam, ../mapping-files/TARA_155_5m_0.22-3_prok.bam, ../mapping-files/TARA_155_751m_0.22-3_prok.bam, ../mapping-files/TARA_158_25m_0.22-3_prok.bam, ../mapping-files/TARA_158_5m_0.22-3_prok.bam, ../mapping-files/TARA_158_651m_0.22-3_prok.bam, ../mapping-files/TARA_163_499m_0.22-3_prok.bam, ../mapping-files/TARA_163_5m_0.22-3_prok.bam, ../mapping-files/TARA_168_10-100m_0.22-3_prok.bam, ../mapping-files/TARA_168_40m_0.22-3_prok.bam, ../mapping-files/TARA_168_5m_0.22-3_prok.bam, ../mapping-files/TARA_173_35m_0.22-3_prok.bam, ../mapping-files/TARA_173_5m_0.22-3_prok.bam, ../mapping-files/TARA_175_10-100m_0.22-3_prok.bam, ../mapping-files/TARA_175_199m_0.22-3_prok.bam, ../mapping-files/TARA_175_5m_0.22-3_prok.bam, ../mapping-files/TARA_178_5m_0.22-3_prok.bam, ../mapping-files/TARA_180_30m_0.22-3_prok.bam, ../mapping-files/TARA_180_5m_0.22-3_prok.bam, ../mapping-files/TARA_188_17m_0.22-3_prok.bam, ../mapping-files/TARA_188_5m_0.22-3_prok.bam, ../mapping-files/TARA_189_20m_0.22-3_prok.bam, ../mapping-files/TARA_189_299m_0.22-3_prok.bam, ../mapping-files/TARA_189_5m_0.22-3_prok.bam, ../mapping-files/TARA_191_5m_0.22-3_prok.bam, ../mapping-files/TARA_193_5m_0.22-3_prok.bam, ../mapping-files/TARA_194_35m_0.22-3_prok.bam, ../mapping-files/TARA_194_5m_0.22-3_prok.bam, ../mapping-files/TARA_196_5m_0.22-3_prok.bam, ../mapping-files/TARA_201_36m_0.22-3_prok.bam, ../mapping-files/TARA_201_441m_0.22-3_prok.bam, ../mapping-files/TARA_201_5m_0.22-3_prok.bam, ../mapping-files/TARA_205_491m_0.22-3_prok.bam, ../mapping-files/TARA_205_5m_0.22-3_prok.bam, ../mapping-files/TARA_206_411m_0.22-3_prok.bam, ../mapping-files/TARA_206_5m_0.22-3_prok.bam, ../mapping-files/TARA_208_5m_0.22-3_prok.bam, ../mapping-files/TARA_209_351m_0.22-3_prok.bam, ../mapping-files/TARA_209_5m_0.22-3_prok.bam, ../mapping-files/TARA_210_391m_0.22-3_prok.bam, ../mapping-files/TARA_210_5m_0.22-3_prok.bam, ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus.bam, ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus.bam, ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus.bam, ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus.bam, ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus.bam, ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus.bam, ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus.bam, ../mapping-files-HK/A3-09-0m-34An.bam, ../mapping-files-HK/A3-09-1000m-34An.bam, ../mapping-files-HK/A3-09-300m-34An.bam, ../mapping-files-HK/A3-09-3500m-34An.bam, ../mapping-files-HK/A4-07-0m-34An.bam, ../mapping-files-HK/A4-07-1000m-34An.bam, ../mapping-files-HK/A4-07-3000m-34An.bam, ../mapping-files-HK/A4-07-300m-34An.bam, ../mapping-files-HK/A5-10-0m-34An.bam, ../mapping-files-HK/A5-10-1000m-34An.bam, ../mapping-files-HK/A5-10-300m-34An.bam, ../mapping-files-HK/A5-10-3500m-34An.bam, ../mapping-files-HK/AT04-0m-8Ar.bam, ../mapping-files-HK/AT04-1000m-8Ar.bam, ../mapping-files-HK/AT04-3000m-8Ar.bam, ../mapping-files-HK/AT04-300m-8Ar.bam, ../mapping-files-HK/B08-0m-8Ar.bam, ../mapping-files-HK/B08-1000m-8Ar.bam, ../mapping-files-HK/B08-3200m-8Ar.bam, ../mapping-files-HK/BB08-0m-8Ar.bam, ../mapping-files-HK/BB08-1000m-8Ar.bam, ../mapping-files-HK/BB08-300m-8Ar.bam, ../mapping-files-HK/BB08-3300m-8Ar.bam, ../mapping-files-HK/G02-7Ar.bam, ../mapping-files-HK/ICE04-0m-9Ar.bam, ../mapping-files-HK/ICE04-1000m-9Ar.bam, ../mapping-files-HK/ICE04-100m-9Ar.bam, ../mapping-files-HK/ICE04-2280m-9Ar.bam, ../mapping-files-HK/K3-8Ar.bam, ../mapping-files-HK/LB01-1000m-8Ar.bam, ../mapping-files-HK/LB01-300m-8Ar.bam, ../mapping-files-HK/LB01-5m-8Ar.bam, ../mapping-files-HK/N02-0m-8Ar.bam, ../mapping-files-HK/N02-1500m-8Ar.bam, ../mapping-files-HK/N02-500m-8Ar.bam, ../mapping-files-HK/N04-0m-8Ar.bam, ../mapping-files-HK/N04-300m-8Ar.bam, ../mapping-files-HK/N04-3800m-8Ar.bam, ../mapping-files-HK/N07-0m-8Ar.bam, ../mapping-files-HK/N07-1000m-8Ar.bam, ../mapping-files-HK/N07-300m-8Ar.bam, ../mapping-files-HK/N07-3800m-8Ar.bam, ../mapping-files-HK/P06-0m-8Ar.bam, ../mapping-files-HK/P06-300m-8Ar.bam, ../mapping-files-HK/R16E-1000m-9Ar.bam, ../mapping-files-HK/R16E-300m-9Ar.bam, ../mapping-files-HK/R16E-3236m-9Ar.bam, ../mapping-files-HK/UW012-0m-8Ar.bam, ../mapping-files-HK/UW022-8Ar.bam, ../mapping-files-HK/UW023-8Ar.bam, ../mapping-files-HK/UW024-9Ar.bam, ../mapping-files-HK/UW042-0m-34An.bam, ../mapping-files-HK/UW044-0m-34An.bam, ../mapping-files-HK/UW048-33An.bam, ../mapping-files-HK/UW050-0m-34An.bam, ../mapping-files-HK/UW051-33An.bam, ../mapping-files-HK/UW056-33An.bam, ../mapping-files-HK/UW064-33An.bam, ../mapping-files-HK/UW072-33An.bam, ../mapping-files-HK/UW073-33An.bam, ../mapping-files/OSD1-gene-coverages.tsv, ../mapping-files/OSD10-gene-coverages.tsv, ../mapping-files/OSD100-gene-coverages.tsv, ../mapping-files/OSD101-gene-coverages.tsv, ../mapping-files/OSD102-gene-coverages.tsv, ../mapping-files/OSD103-gene-coverages.tsv, ../mapping-files/OSD105-gene-coverages.tsv, ../mapping-files/OSD106-0-gene-coverages.tsv, ../mapping-files/OSD106-15-gene-coverages.tsv, ../mapping-files/OSD107-gene-coverages.tsv, ../mapping-files/OSD108-gene-coverages.tsv, ../mapping-files/OSD109-gene-coverages.tsv, ../mapping-files/OSD110-gene-coverages.tsv, ../mapping-files/OSD111-gene-coverages.tsv, ../mapping-files/OSD113-gene-coverages.tsv, ../mapping-files/OSD114-gene-coverages.tsv, ../mapping-files/OSD115-gene-coverages.tsv, ../mapping-files/OSD116-gene-coverages.tsv, ../mapping-files/OSD117-gene-coverages.tsv, ../mapping-files/OSD118-gene-coverages.tsv, ../mapping-files/OSD122-gene-coverages.tsv, ../mapping-files/OSD123-gene-coverages.tsv, ../mapping-files/OSD124-gene-coverages.tsv, ../mapping-files/OSD125-gene-coverages.tsv, ../mapping-files/OSD126-gene-coverages.tsv, ../mapping-files/OSD127-gene-coverages.tsv, ../mapping-files/OSD128-gene-coverages.tsv, ../mapping-files/OSD129-gene-coverages.tsv, ../mapping-files/OSD13-gene-coverages.tsv, ../mapping-files/OSD130-gene-coverages.tsv, ../mapping-files/OSD131-gene-coverages.tsv, ../mapping-files/OSD132-gene-coverages.tsv, ../mapping-files/OSD133-gene-coverages.tsv, ../mapping-files/OSD14-gene-coverages.tsv, ../mapping-files/OSD141-gene-coverages.tsv, ../mapping-files/OSD142-gene-coverages.tsv, ../mapping-files/OSD143-gene-coverages.tsv, ../mapping-files/OSD144-gene-coverages.tsv, ../mapping-files/OSD145-gene-coverages.tsv, ../mapping-files/OSD146-gene-coverages.tsv, ../mapping-files/OSD147-gene-coverages.tsv, ../mapping-files/OSD148-gene-coverages.tsv, ../mapping-files/OSD149-gene-coverages.tsv, ../mapping-files/OSD150-gene-coverages.tsv, ../mapping-files/OSD15-0-gene-coverages.tsv, ../mapping-files/OSD151-gene-coverages.tsv, ../mapping-files/OSD152-1-gene-coverages.tsv, ../mapping-files/OSD152-5-gene-coverages.tsv, ../mapping-files/OSD153-gene-coverages.tsv, ../mapping-files/OSD154-gene-coverages.tsv, ../mapping-files/OSD155-gene-coverages.tsv, ../mapping-files/OSD15-50-gene-coverages.tsv, ../mapping-files/OSD156-gene-coverages.tsv, ../mapping-files/OSD157-gene-coverages.tsv, ../mapping-files/OSD158-gene-coverages.tsv, ../mapping-files/OSD159-gene-coverages.tsv, ../mapping-files/OSD162-gene-coverages.tsv, ../mapping-files/OSD163-gene-coverages.tsv, ../mapping-files/OSD164-gene-coverages.tsv, ../mapping-files/OSD165-gene-coverages.tsv, ../mapping-files/OSD166-gene-coverages.tsv, ../mapping-files/OSD167-gene-coverages.tsv, ../mapping-files/OSD168-gene-coverages.tsv, ../mapping-files/OSD169-gene-coverages.tsv, ../mapping-files/OSD17-gene-coverages.tsv, ../mapping-files/OSD170-gene-coverages.tsv, ../mapping-files/OSD171-gene-coverages.tsv, ../mapping-files/OSD172-gene-coverages.tsv, ../mapping-files/OSD173-gene-coverages.tsv, ../mapping-files/OSD174-gene-coverages.tsv, ../mapping-files/OSD175-gene-coverages.tsv, ../mapping-files/OSD176-gene-coverages.tsv, ../mapping-files/OSD177-gene-coverages.tsv, ../mapping-files/OSD178-gene-coverages.tsv, ../mapping-files/OSD18-gene-coverages.tsv, ../mapping-files/OSD182-gene-coverages.tsv, ../mapping-files/OSD183-gene-coverages.tsv, ../mapping-files/OSD184-gene-coverages.tsv, ../mapping-files/OSD185-gene-coverages.tsv, ../mapping-files/OSD186-gene-coverages.tsv, ../mapping-files/OSD19-gene-coverages.tsv, ../mapping-files/OSD2-gene-coverages.tsv, ../mapping-files/OSD20-0-gene-coverages.tsv, ../mapping-files/OSD20-20-gene-coverages.tsv, ../mapping-files/OSD21-gene-coverages.tsv, ../mapping-files/OSD22-gene-coverages.tsv, ../mapping-files/OSD24-gene-coverages.tsv, ../mapping-files/OSD25-gene-coverages.tsv, ../mapping-files/OSD26-gene-coverages.tsv, ../mapping-files/OSD28-gene-coverages.tsv, ../mapping-files/OSD29-gene-coverages.tsv, ../mapping-files/OSD3-gene-coverages.tsv, ../mapping-files/OSD30-gene-coverages.tsv, ../mapping-files/OSD34-gene-coverages.tsv, ../mapping-files/OSD35-gene-coverages.tsv, ../mapping-files/OSD36-gene-coverages.tsv, ../mapping-files/OSD37-gene-coverages.tsv, ../mapping-files/OSD38-gene-coverages.tsv, ../mapping-files/OSD39-gene-coverages.tsv, ../mapping-files/OSD4-gene-coverages.tsv, ../mapping-files/OSD41-gene-coverages.tsv, ../mapping-files/OSD42-gene-coverages.tsv, ../mapping-files/OSD43-gene-coverages.tsv, ../mapping-files/OSD45-gene-coverages.tsv, ../mapping-files/OSD46-gene-coverages.tsv, ../mapping-files/OSD47-gene-coverages.tsv, ../mapping-files/OSD48-gene-coverages.tsv, ../mapping-files/OSD49-gene-coverages.tsv, ../mapping-files/OSD50-gene-coverages.tsv, ../mapping-files/OSD51-gene-coverages.tsv, ../mapping-files/OSD5-1-gene-coverages.tsv, ../mapping-files/OSD52-gene-coverages.tsv, ../mapping-files/OSD53-gene-coverages.tsv, ../mapping-files/OSD54-gene-coverages.tsv, ../mapping-files/OSD55-gene-coverages.tsv, ../mapping-files/OSD56-gene-coverages.tsv, ../mapping-files/OSD57-gene-coverages.tsv, ../mapping-files/OSD5-75-gene-coverages.tsv, ../mapping-files/OSD58-gene-coverages.tsv, ../mapping-files/OSD6-gene-coverages.tsv, ../mapping-files/OSD60-gene-coverages.tsv, ../mapping-files/OSD61-gene-coverages.tsv, ../mapping-files/OSD62-gene-coverages.tsv, ../mapping-files/OSD63-gene-coverages.tsv, ../mapping-files/OSD64-gene-coverages.tsv, ../mapping-files/OSD65-gene-coverages.tsv, ../mapping-files/OSD69-gene-coverages.tsv, ../mapping-files/OSD7-gene-coverages.tsv, ../mapping-files/OSD70-gene-coverages.tsv, ../mapping-files/OSD71-gene-coverages.tsv, ../mapping-files/OSD72-gene-coverages.tsv, ../mapping-files/OSD73-gene-coverages.tsv, ../mapping-files/OSD74-gene-coverages.tsv, ../mapping-files/OSD76-gene-coverages.tsv, ../mapping-files/OSD77-gene-coverages.tsv, ../mapping-files/OSD78-gene-coverages.tsv, ../mapping-files/OSD80-0-gene-coverages.tsv, ../mapping-files/OSD80-2-gene-coverages.tsv, ../mapping-files/OSD81-gene-coverages.tsv, ../mapping-files/OSD9-gene-coverages.tsv, ../mapping-files/OSD90-gene-coverages.tsv, ../mapping-files/OSD91-gene-coverages.tsv, ../mapping-files/OSD92-gene-coverages.tsv, ../mapping-files/OSD93-gene-coverages.tsv, ../mapping-files/OSD94-gene-coverages.tsv, ../mapping-files/OSD95-gene-coverages.tsv, ../mapping-files/OSD96-gene-coverages.tsv, ../mapping-files/OSD97-gene-coverages.tsv, ../mapping-files/OSD98-gene-coverages.tsv, ../mapping-files/OSD99-gene-coverages.tsv, ../mapping-files/TARA_003_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_004_40m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_004_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_007_42m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_007_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_009_55m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_009_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_018_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_018_60m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_023_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_030_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_032_80m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_033_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_034_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_034_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_034_60m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_036_17m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_036_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_036_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_036_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_037_600m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_038_340m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_038_340m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_038_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_038_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_039_25m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_039_270m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_039_270m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_039_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_041_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_042_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_042_80m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_045_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_048_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_048_5m_0.22-1.6_prok-gene-coverages.tsv, ../mapping-files/TARA_049_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files/TARA_056_1000m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_056_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_057_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_058_66m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_062_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_064_1000m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_064_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_064_65m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_065_30m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_065_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_065_850m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_066_30m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_066_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_067_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_068_50m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_068_50m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_068_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_068_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_068_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_068_700m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_068_700m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_070_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_070_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_070_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_070_800m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_070_800m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_072_100m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_072_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_072_800m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_076_150m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_076_150m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_076_150m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_076_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_076_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_076_800m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_076_800m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_078_120m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_078_120m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_078_120m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_078_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_078_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_078_800m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_078_800m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_085_790m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_093_35m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_093_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_094_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_096_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_098_188m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_098_488m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_098_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_099_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_110_380m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_110_50m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_110_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_111_350m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_112_155m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_112_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_112_696m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_122_115m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_122_115m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_122_115m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_122_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_122_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_122_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_122_600m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_122_600m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_122_600m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_123_150m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_123_150m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_123_150m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_123_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_123_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_124_120m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_124_120m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_124_120m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_124_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_124_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_124_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_125_140m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_125_140m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_125_140m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_125_5m_0.1-0.22_girus-gene-coverages.tsv, ../mapping-files/TARA_125_5m_0.22-0.45_girus-gene-coverages.tsv, ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-coverages.tsv, ../mapping-files/TARA_128_40m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_128_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_132_115m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_132_550m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_132_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_133_45m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_133_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_133_650m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_140_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_141_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_142_125m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_142_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_142_640m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_145_590m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_145_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_146_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_146_640m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_150_40m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_151_80m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_152_5-160m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_152_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_152_800m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_155_40m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_155_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_155_751m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_158_25m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_158_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_158_651m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_163_499m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_163_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_168_10-100m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_168_40m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_168_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_173_35m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_173_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_175_10-100m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_175_199m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_175_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_178_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_180_30m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_180_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_188_17m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_188_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_189_20m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_189_299m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_189_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_191_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_193_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_194_35m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_194_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_196_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_201_36m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_201_441m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_201_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_205_491m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_205_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_206_411m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_206_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_208_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_209_351m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_209_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_210_391m_0.22-3_prok-gene-coverages.tsv, ../mapping-files/TARA_210_5m_0.22-3_prok-gene-coverages.tsv, ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files-pyro/TARA_043_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files-pyro/TARA_046_5m_0.22-1.6_girus-gene-coverages.tsv, ../mapping-files-HK/A3-09-0m-34An-gene-coverages.tsv, ../mapping-files-HK/A3-09-1000m-34An-gene-coverages.tsv, ../mapping-files-HK/A3-09-300m-34An-gene-coverages.tsv, ../mapping-files-HK/A3-09-3500m-34An-gene-coverages.tsv, ../mapping-files-HK/A4-07-0m-34An-gene-coverages.tsv, ../mapping-files-HK/A4-07-1000m-34An-gene-coverages.tsv, ../mapping-files-HK/A4-07-3000m-34An-gene-coverages.tsv, ../mapping-files-HK/A4-07-300m-34An-gene-coverages.tsv, ../mapping-files-HK/A5-10-0m-34An-gene-coverages.tsv, ../mapping-files-HK/A5-10-1000m-34An-gene-coverages.tsv, ../mapping-files-HK/A5-10-300m-34An-gene-coverages.tsv, ../mapping-files-HK/A5-10-3500m-34An-gene-coverages.tsv, ../mapping-files-HK/AT04-0m-8Ar-gene-coverages.tsv, ../mapping-files-HK/AT04-1000m-8Ar-gene-coverages.tsv, ../mapping-files-HK/AT04-3000m-8Ar-gene-coverages.tsv, ../mapping-files-HK/AT04-300m-8Ar-gene-coverages.tsv, ../mapping-files-HK/B08-0m-8Ar-gene-coverages.tsv, ../mapping-files-HK/B08-1000m-8Ar-gene-coverages.tsv, ../mapping-files-HK/B08-3200m-8Ar-gene-coverages.tsv, ../mapping-files-HK/BB08-0m-8Ar-gene-coverages.tsv, ../mapping-files-HK/BB08-1000m-8Ar-gene-coverages.tsv, ../mapping-files-HK/BB08-300m-8Ar-gene-coverages.tsv, ../mapping-files-HK/BB08-3300m-8Ar-gene-coverages.tsv, ../mapping-files-HK/G02-7Ar-gene-coverages.tsv, ../mapping-files-HK/ICE04-0m-9Ar-gene-coverages.tsv, ../mapping-files-HK/ICE04-1000m-9Ar-gene-coverages.tsv, ../mapping-files-HK/ICE04-100m-9Ar-gene-coverages.tsv, ../mapping-files-HK/ICE04-2280m-9Ar-gene-coverages.tsv, ../mapping-files-HK/K3-8Ar-gene-coverages.tsv, ../mapping-files-HK/LB01-1000m-8Ar-gene-coverages.tsv, ../mapping-files-HK/LB01-300m-8Ar-gene-coverages.tsv, ../mapping-files-HK/LB01-5m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N02-0m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N02-1500m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N02-500m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N04-0m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N04-300m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N04-3800m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N07-0m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N07-1000m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N07-300m-8Ar-gene-coverages.tsv, ../mapping-files-HK/N07-3800m-8Ar-gene-coverages.tsv, ../mapping-files-HK/P06-0m-8Ar-gene-coverages.tsv, ../mapping-files-HK/P06-300m-8Ar-gene-coverages.tsv, ../mapping-files-HK/R16E-1000m-9Ar-gene-coverages.tsv, ../mapping-files-HK/R16E-300m-9Ar-gene-coverages.tsv, ../mapping-files-HK/R16E-3236m-9Ar-gene-coverages.tsv, ../mapping-files-HK/UW012-0m-8Ar-gene-coverages.tsv, ../mapping-files-HK/UW022-8Ar-gene-coverages.tsv, ../mapping-files-HK/UW023-8Ar-gene-coverages.tsv, ../mapping-files-HK/UW024-9Ar-gene-coverages.tsv, ../mapping-files-HK/UW042-0m-34An-gene-coverages.tsv, ../mapping-files-HK/UW044-0m-34An-gene-coverages.tsv, ../mapping-files-HK/UW048-33An-gene-coverages.tsv, ../mapping-files-HK/UW050-0m-34An-gene-coverages.tsv, ../mapping-files-HK/UW051-33An-gene-coverages.tsv, ../mapping-files-HK/UW056-33An-gene-coverages.tsv, ../mapping-files-HK/UW064-33An-gene-coverages.tsv, ../mapping-files-HK/UW072-33An-gene-coverages.tsv, ../mapping-files-HK/UW073-33An-gene-coverages.tsv, ../genes-and-annotations/KO-annotations.tsv
    jobid: 0


        # copying log file to store with processing info
        cp .snakemake/log/$(ls -t .snakemake/log/ | head -n 1) snakemake-run.log
        
[Tue Dec  1 00:00:04 2020]
Finished job 0.
589 of 589 steps (100%) done
Complete log: /data2/mlee/Thaum/metagenome-dl-and-mapping-workflow/.snakemake/log/2020-11-30T235853.062612.snakemake.log
