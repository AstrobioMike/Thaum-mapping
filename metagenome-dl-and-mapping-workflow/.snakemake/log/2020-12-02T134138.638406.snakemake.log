Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	16	dl_454_sample_and_run_mapping
	60	dl_HK_sample_and_run_mapping
	338	dl_illumina_sample_and_run_mapping
	16	parse_454_gene_level_cov_and_det
	338	parse_gene_level_cov_and_det
	60	parse_gene_level_cov_and_det_HK_samples
	829

[Wed Dec  2 13:41:39 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW064-33An.bam
    jobid: 413
    wildcards: ID=UW064-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW064-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW064-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW064-33An "${R1_link}" "${R2_link}"
        

[Wed Dec  2 13:41:39 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW048-33An.bam
    jobid: 409
    wildcards: ID=UW048-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW048-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW048-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW048-33An "${R1_link}" "${R2_link}"
        

[Wed Dec  2 13:41:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_175_5m_0.22-3_prok.bam
    jobid: 314
    wildcards: ID=TARA_175_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_175_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_175_5m_0.22-3_prok ${curr_run_accs}
        

[Wed Dec  2 13:41:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD28.bam
    jobid: 91
    wildcards: ID=OSD28


        curr_run_accs=$(grep -w -m 1 "^OSD28" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD28 ${curr_run_accs}
        

[Wed Dec  2 13:41:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_178_5m_0.22-3_prok.bam
    jobid: 315
    wildcards: ID=TARA_178_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_178_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_178_5m_0.22-3_prok ${curr_run_accs}
        

[Wed Dec  2 13:41:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD29.bam
    jobid: 92
    wildcards: ID=OSD29


        curr_run_accs=$(grep -w -m 1 "^OSD29" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD29 ${curr_run_accs}
        

[Wed Dec  2 13:41:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_180_30m_0.22-3_prok.bam
    jobid: 316
    wildcards: ID=TARA_180_30m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_180_30m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_180_30m_0.22-3_prok ${curr_run_accs}
        

[Wed Dec  2 13:41:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD3.bam
    jobid: 93
    wildcards: ID=OSD3


        curr_run_accs=$(grep -w -m 1 "^OSD3" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD3 ${curr_run_accs}
        
[Wed Dec  2 13:42:37 2020]
Finished job 91.
1 of 829 steps (0.12%) done

[Wed Dec  2 13:42:37 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD126.bam
    jobid: 26
    wildcards: ID=OSD126


        curr_run_accs=$(grep -w -m 1 "^OSD126" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD126 ${curr_run_accs}
        
[Wed Dec  2 13:42:41 2020]
Finished job 92.
2 of 829 steps (0.24%) done

[Wed Dec  2 13:42:41 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_206_411m_0.22-3_prok.bam
    jobid: 333
    wildcards: ID=TARA_206_411m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_206_411m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_206_411m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 13:42:44 2020]
Finished job 93.
3 of 829 steps (0.36%) done

[Wed Dec  2 13:42:44 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_150m_0.22-0.45_girus.bam
    jobid: 221
    wildcards: ID=TARA_076_150m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_150m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_150m_0.22-0.45_girus ${curr_run_accs}
        
[Wed Dec  2 13:43:58 2020]
Finished job 26.
4 of 829 steps (0.48%) done

[Wed Dec  2 13:43:58 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_163_499m_0.22-3_prok.bam
    jobid: 305
    wildcards: ID=TARA_163_499m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_163_499m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_163_499m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 14:46:38 2020]
Finished job 413.
5 of 829 steps (0.60%) done

[Wed Dec  2 14:46:38 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD62.bam
    jobid: 124
    wildcards: ID=OSD62


        curr_run_accs=$(grep -w -m 1 "^OSD62" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD62 ${curr_run_accs}
        
[Wed Dec  2 14:49:10 2020]
Finished job 124.
6 of 829 steps (0.72%) done

[Wed Dec  2 14:49:10 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_163_5m_0.22-3_prok.bam
    jobid: 306
    wildcards: ID=TARA_163_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_163_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_163_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 14:49:18 2020]
Finished job 409.
7 of 829 steps (0.84%) done

[Wed Dec  2 14:49:18 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW048-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW048-33An-gene-coverages.tsv
    jobid: 823
    wildcards: ID=UW048-33An


        pileup.sh -in ../mapping-files-HK/UW048-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW048-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW048-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW048-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW048-33An-gene-cov.tmp > ../mapping-files-HK/UW048-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW048-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW048-33An-gene-cov.tmp
        
[Wed Dec  2 14:49:25 2020]
Finished job 823.
8 of 829 steps (0.97%) done

[Wed Dec  2 14:49:25 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD61.bam
    jobid: 123
    wildcards: ID=OSD61


        curr_run_accs=$(grep -w -m 1 "^OSD61" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD61 ${curr_run_accs}
        
[Wed Dec  2 14:54:41 2020]
Finished job 123.
9 of 829 steps (1%) done

[Wed Dec  2 14:54:41 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_150m_0.22-3_prok.bam
    jobid: 222
    wildcards: ID=TARA_076_150m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_076_150m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_150m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 17:02:25 2020]
Finished job 315.
10 of 829 steps (1%) done

[Wed Dec  2 17:02:26 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD125.bam
    jobid: 25
    wildcards: ID=OSD125


        curr_run_accs=$(grep -w -m 1 "^OSD125" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD125 ${curr_run_accs}
        
[Wed Dec  2 17:03:23 2020]
Finished job 25.
11 of 829 steps (1%) done

[Wed Dec  2 17:03:23 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_205_5m_0.22-3_prok.bam
    jobid: 332
    wildcards: ID=TARA_205_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_205_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_205_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 17:29:48 2020]
Finished job 314.
12 of 829 steps (1%) done

[Wed Dec  2 17:29:49 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_072_800m_0.22-3_prok.bam
    jobid: 220
    wildcards: ID=TARA_072_800m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_072_800m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_072_800m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 17:45:39 2020]
Finished job 306.
13 of 829 steps (2%) done

[Wed Dec  2 17:45:40 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_158_651m_0.22-3_prok.bam
    jobid: 304
    wildcards: ID=TARA_158_651m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_158_651m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_158_651m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 17:46:15 2020]
Finished job 316.
14 of 829 steps (2%) done

[Wed Dec  2 17:46:15 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD60.bam
    jobid: 122
    wildcards: ID=OSD60


        curr_run_accs=$(grep -w -m 1 "^OSD60" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD60 ${curr_run_accs}
        
[Wed Dec  2 17:47:17 2020]
Finished job 122.
15 of 829 steps (2%) done

[Wed Dec  2 17:47:17 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_206_5m_0.22-3_prok.bam
    jobid: 334
    wildcards: ID=TARA_206_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_206_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_206_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 17:53:06 2020]
Finished job 221.
16 of 829 steps (2%) done

[Wed Dec  2 17:53:06 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_150m_0.45-0.8_girus.bam
    jobid: 223
    wildcards: ID=TARA_076_150m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_150m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_150m_0.45-0.8_girus ${curr_run_accs}
        
[Wed Dec  2 18:19:37 2020]
Finished job 222.
17 of 829 steps (2%) done

[Wed Dec  2 18:19:37 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD127.bam
    jobid: 27
    wildcards: ID=OSD127


        curr_run_accs=$(grep -w -m 1 "^OSD127" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD127 ${curr_run_accs}
        
[Wed Dec  2 18:21:23 2020]
Finished job 27.
18 of 829 steps (2%) done

[Wed Dec  2 18:21:23 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD124.bam
    jobid: 24
    wildcards: ID=OSD124


        curr_run_accs=$(grep -w -m 1 "^OSD124" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD124 ${curr_run_accs}
        
[Wed Dec  2 18:22:56 2020]
Finished job 24.
19 of 829 steps (2%) done

[Wed Dec  2 18:22:56 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_205_491m_0.22-3_prok.bam
    jobid: 331
    wildcards: ID=TARA_205_491m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_205_491m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_205_491m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 18:46:29 2020]
Finished job 333.
20 of 829 steps (2%) done

[Wed Dec  2 18:46:29 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD63.bam
    jobid: 125
    wildcards: ID=OSD63


        curr_run_accs=$(grep -w -m 1 "^OSD63" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD63 ${curr_run_accs}
        
[Wed Dec  2 18:47:09 2020]
Finished job 305.
21 of 829 steps (3%) done

[Wed Dec  2 18:47:09 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_072_5m_0.22-3_prok.bam
    jobid: 219
    wildcards: ID=TARA_072_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_072_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_072_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 18:47:17 2020]
Finished job 125.
22 of 829 steps (3%) done

[Wed Dec  2 18:47:18 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_168_10-100m_0.22-3_prok.bam
    jobid: 307
    wildcards: ID=TARA_168_10-100m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_168_10-100m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_168_10-100m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 19:04:01 2020]
Finished job 332.
23 of 829 steps (3%) done

[Wed Dec  2 19:04:01 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_208_5m_0.22-3_prok.bam
    jobid: 335
    wildcards: ID=TARA_208_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_208_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_208_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 19:06:46 2020]
Finished job 220.
24 of 829 steps (3%) done

[Wed Dec  2 19:06:46 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_168_40m_0.22-3_prok.bam
    jobid: 308
    wildcards: ID=TARA_168_40m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_168_40m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_168_40m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 19:54:02 2020]
Finished job 334.
25 of 829 steps (3%) done

[Wed Dec  2 19:54:03 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_5m_0.22-0.45_girus.bam
    jobid: 224
    wildcards: ID=TARA_076_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_5m_0.22-0.45_girus ${curr_run_accs}
        
[Wed Dec  2 19:54:54 2020]
Finished job 223.
26 of 829 steps (3%) done

[Wed Dec  2 19:54:54 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD128.bam
    jobid: 28
    wildcards: ID=OSD128


        curr_run_accs=$(grep -w -m 1 "^OSD128" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD128 ${curr_run_accs}
        
[Wed Dec  2 19:56:50 2020]
Finished job 28.
27 of 829 steps (3%) done

[Wed Dec  2 19:56:50 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_158_5m_0.22-3_prok.bam
    jobid: 303
    wildcards: ID=TARA_158_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_158_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_158_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 19:59:29 2020]
Finished job 304.
28 of 829 steps (3%) done

[Wed Dec  2 19:59:29 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD6.bam
    jobid: 121
    wildcards: ID=OSD6


        curr_run_accs=$(grep -w -m 1 "^OSD6" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD6 ${curr_run_accs}
        
[Wed Dec  2 20:01:17 2020]
Finished job 121.
29 of 829 steps (3%) done

[Wed Dec  2 20:01:17 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD64.bam
    jobid: 126
    wildcards: ID=OSD64


        curr_run_accs=$(grep -w -m 1 "^OSD64" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD64 ${curr_run_accs}
        
[Wed Dec  2 20:03:47 2020]
Finished job 126.
30 of 829 steps (4%) done

[Wed Dec  2 20:03:47 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_209_351m_0.22-3_prok.bam
    jobid: 336
    wildcards: ID=TARA_209_351m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_209_351m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_209_351m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 21:36:06 2020]
Finished job 307.
31 of 829 steps (4%) done

[Wed Dec  2 21:36:07 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD123.bam
    jobid: 23
    wildcards: ID=OSD123


        curr_run_accs=$(grep -w -m 1 "^OSD123" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD123 ${curr_run_accs}
        
[Wed Dec  2 21:38:22 2020]
Finished job 23.
32 of 829 steps (4%) done

[Wed Dec  2 21:38:23 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD129.bam
    jobid: 29
    wildcards: ID=OSD129


        curr_run_accs=$(grep -w -m 1 "^OSD129" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD129 ${curr_run_accs}
        
[Wed Dec  2 21:40:45 2020]
Finished job 29.
33 of 829 steps (4%) done

[Wed Dec  2 21:40:45 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD129.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD129-gene-coverages.tsv
    jobid: 443
    wildcards: ID=OSD129


        pileup.sh -in ../mapping-files/OSD129.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD129-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD129-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD129-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD129-gene-cov.tmp > ../mapping-files/OSD129-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD129-gene-cov-and-det.tmp ../mapping-files/OSD129-gene-cov.tmp
        
[Wed Dec  2 21:40:56 2020]
Finished job 443.
34 of 829 steps (4%) done

[Wed Dec  2 21:40:56 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD65.bam
    jobid: 127
    wildcards: ID=OSD65


        curr_run_accs=$(grep -w -m 1 "^OSD65" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD65 ${curr_run_accs}
        
[Wed Dec  2 21:44:22 2020]
Finished job 127.
35 of 829 steps (4%) done

[Wed Dec  2 21:44:22 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_5m_0.45-0.8_girus.bam
    jobid: 225
    wildcards: ID=TARA_076_5m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_5m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_5m_0.45-0.8_girus ${curr_run_accs}
        
[Wed Dec  2 22:38:05 2020]
Finished job 219.
36 of 829 steps (4%) done

[Wed Dec  2 22:38:06 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_168_5m_0.22-3_prok.bam
    jobid: 309
    wildcards: ID=TARA_168_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_168_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_168_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 22:39:24 2020]
Finished job 308.
37 of 829 steps (4%) done

[Wed Dec  2 22:39:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD128.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD128-gene-coverages.tsv
    jobid: 442
    wildcards: ID=OSD128


        pileup.sh -in ../mapping-files/OSD128.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD128-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD128-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD128-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD128-gene-cov.tmp > ../mapping-files/OSD128-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD128-gene-cov-and-det.tmp ../mapping-files/OSD128-gene-cov.tmp
        
[Wed Dec  2 22:39:34 2020]
Finished job 442.
38 of 829 steps (5%) done

[Wed Dec  2 22:39:34 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_201_5m_0.22-3_prok.bam
    jobid: 330
    wildcards: ID=TARA_201_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_201_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_201_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 22:43:56 2020]
Finished job 335.
39 of 829 steps (5%) done

[Wed Dec  2 22:43:57 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_209_5m_0.22-3_prok.bam
    jobid: 337
    wildcards: ID=TARA_209_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_209_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_209_5m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 22:56:26 2020]
Finished job 331.
40 of 829 steps (5%) done

[Wed Dec  2 22:56:26 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW064-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW064-33An-gene-coverages.tsv
    jobid: 827
    wildcards: ID=UW064-33An


        pileup.sh -in ../mapping-files-HK/UW064-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW064-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW064-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW064-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW064-33An-gene-cov.tmp > ../mapping-files-HK/UW064-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW064-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW064-33An-gene-cov.tmp
        
[Wed Dec  2 22:56:35 2020]
Finished job 827.
41 of 829 steps (5%) done

[Wed Dec  2 22:56:35 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD1.bam
    jobid: 2
    wildcards: ID=OSD1


        curr_run_accs=$(grep -w -m 1 "^OSD1" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD1 ${curr_run_accs}
        
[Wed Dec  2 22:58:34 2020]
Finished job 2.
42 of 829 steps (5%) done

[Wed Dec  2 22:58:34 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_072_100m_0.22-3_prok.bam
    jobid: 218
    wildcards: ID=TARA_072_100m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_072_100m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_072_100m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 23:37:36 2020]
Finished job 225.
43 of 829 steps (5%) done

[Wed Dec  2 23:37:36 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD13.bam
    jobid: 30
    wildcards: ID=OSD13


        curr_run_accs=$(grep -w -m 1 "^OSD13" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD13 ${curr_run_accs}
        
[Wed Dec  2 23:38:47 2020]
Finished job 224.
44 of 829 steps (5%) done

[Wed Dec  2 23:38:47 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD69.bam
    jobid: 128
    wildcards: ID=OSD69


        curr_run_accs=$(grep -w -m 1 "^OSD69" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD69 ${curr_run_accs}
        
[Wed Dec  2 23:39:13 2020]
Finished job 30.
45 of 829 steps (5%) done

[Wed Dec  2 23:39:13 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD13.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD13-gene-coverages.tsv
    jobid: 444
    wildcards: ID=OSD13


        pileup.sh -in ../mapping-files/OSD13.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD13-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD13-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD13-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD13-gene-cov.tmp > ../mapping-files/OSD13-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD13-gene-cov-and-det.tmp ../mapping-files/OSD13-gene-cov.tmp
        
[Wed Dec  2 23:39:19 2020]
Finished job 444.
46 of 829 steps (6%) done

[Wed Dec  2 23:39:19 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_800m_0.22-3_prok.bam
    jobid: 226
    wildcards: ID=TARA_076_800m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_076_800m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_800m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 23:39:21 2020]
Finished job 303.
47 of 829 steps (6%) done

[Wed Dec  2 23:39:21 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_173_35m_0.22-3_prok.bam
    jobid: 310
    wildcards: ID=TARA_173_35m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_173_35m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_173_35m_0.22-3_prok ${curr_run_accs}
        
[Wed Dec  2 23:40:41 2020]
Finished job 128.
48 of 829 steps (6%) done

[Wed Dec  2 23:40:42 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_210_391m_0.22-3_prok.bam
    jobid: 338
    wildcards: ID=TARA_210_391m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_210_391m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_210_391m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 00:03:05 2020]
Finished job 336.
49 of 829 steps (6%) done

[Thu Dec  3 00:03:05 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD10.bam
    jobid: 3
    wildcards: ID=OSD10


        curr_run_accs=$(grep -w -m 1 "^OSD10" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD10 ${curr_run_accs}
        
[Thu Dec  3 00:05:19 2020]
Finished job 3.
50 of 829 steps (6%) done

[Thu Dec  3 00:05:19 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD58.bam
    jobid: 120
    wildcards: ID=OSD58


        curr_run_accs=$(grep -w -m 1 "^OSD58" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD58 ${curr_run_accs}
        
[Thu Dec  3 00:07:44 2020]
Finished job 120.
51 of 829 steps (6%) done

[Thu Dec  3 00:07:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD58.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD58-gene-coverages.tsv
    jobid: 534
    wildcards: ID=OSD58


        pileup.sh -in ../mapping-files/OSD58.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD58-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD58-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD58-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD58-gene-cov.tmp > ../mapping-files/OSD58-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD58-gene-cov-and-det.tmp ../mapping-files/OSD58-gene-cov.tmp
        
[Thu Dec  3 00:07:52 2020]
Finished job 534.
52 of 829 steps (6%) done

[Thu Dec  3 00:07:52 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD130.bam
    jobid: 31
    wildcards: ID=OSD130


        curr_run_accs=$(grep -w -m 1 "^OSD130" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD130 ${curr_run_accs}
        
[Thu Dec  3 00:09:52 2020]
Finished job 31.
53 of 829 steps (6%) done

[Thu Dec  3 00:09:52 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD130.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD130-gene-coverages.tsv
    jobid: 445
    wildcards: ID=OSD130


        pileup.sh -in ../mapping-files/OSD130.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD130-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD130-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD130-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD130-gene-cov.tmp > ../mapping-files/OSD130-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD130-gene-cov-and-det.tmp ../mapping-files/OSD130-gene-cov.tmp
        
[Thu Dec  3 00:09:58 2020]
Finished job 445.
54 of 829 steps (7%) done

[Thu Dec  3 00:09:58 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD122.bam
    jobid: 22
    wildcards: ID=OSD122


        curr_run_accs=$(grep -w -m 1 "^OSD122" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD122 ${curr_run_accs}
        
[Thu Dec  3 00:11:56 2020]
Finished job 22.
55 of 829 steps (7%) done

[Thu Dec  3 00:11:56 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD7.bam
    jobid: 129
    wildcards: ID=OSD7


        curr_run_accs=$(grep -w -m 1 "^OSD7" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD7 ${curr_run_accs}
        
[Thu Dec  3 00:14:54 2020]
Finished job 129.
56 of 829 steps (7%) done

[Thu Dec  3 00:14:54 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_076_800m_0.45-0.8_girus.bam
    jobid: 227
    wildcards: ID=TARA_076_800m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_076_800m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_076_800m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 00:41:02 2020]
Finished job 309.
57 of 829 steps (7%) done

[Thu Dec  3 00:41:02 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_158_25m_0.22-3_prok.bam
    jobid: 302
    wildcards: ID=TARA_158_25m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_158_25m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_158_25m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 00:55:47 2020]
Finished job 337.
58 of 829 steps (7%) done

[Thu Dec  3 00:55:47 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_173_5m_0.22-3_prok.bam
    jobid: 311
    wildcards: ID=TARA_173_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_173_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_173_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 01:43:23 2020]
Finished job 218.
59 of 829 steps (7%) done

[Thu Dec  3 01:43:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_072_100m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_072_100m_0.22-3_prok-gene-coverages.tsv
    jobid: 632
    wildcards: ID=TARA_072_100m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_072_100m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_072_100m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_072_100m_0.22-3_prok-gene-cov.tmp
        
[Thu Dec  3 01:43:35 2020]
Finished job 632.
60 of 829 steps (7%) done

[Thu Dec  3 01:43:36 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_210_5m_0.22-3_prok.bam
    jobid: 339
    wildcards: ID=TARA_210_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_210_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_210_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 02:11:47 2020]
Finished job 310.
61 of 829 steps (7%) done

[Thu Dec  3 02:11:47 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD127.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD127-gene-coverages.tsv
    jobid: 441
    wildcards: ID=OSD127


        pileup.sh -in ../mapping-files/OSD127.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD127-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD127-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD127-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD127-gene-cov.tmp > ../mapping-files/OSD127-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD127-gene-cov-and-det.tmp ../mapping-files/OSD127-gene-cov.tmp
        
[Thu Dec  3 02:11:56 2020]
Finished job 441.
62 of 829 steps (7%) done

[Thu Dec  3 02:11:56 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD6.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD6-gene-coverages.tsv
    jobid: 535
    wildcards: ID=OSD6


        pileup.sh -in ../mapping-files/OSD6.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD6-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD6-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD6-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD6-gene-cov.tmp > ../mapping-files/OSD6-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD6-gene-cov-and-det.tmp ../mapping-files/OSD6-gene-cov.tmp
        
[Thu Dec  3 02:12:04 2020]
Finished job 535.
63 of 829 steps (8%) done

[Thu Dec  3 02:12:04 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_072_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_072_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 633
    wildcards: ID=TARA_072_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_072_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_072_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_072_5m_0.22-3_prok-gene-cov.tmp
        
[Thu Dec  3 02:12:14 2020]
Finished job 633.
64 of 829 steps (8%) done

[Thu Dec  3 02:12:14 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_201_441m_0.22-3_prok.bam
    jobid: 329
    wildcards: ID=TARA_201_441m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_201_441m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_201_441m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 02:29:40 2020]
Finished job 330.
65 of 829 steps (8%) done

[Thu Dec  3 02:29:41 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD177.bam
    jobid: 74
    wildcards: ID=OSD177


        curr_run_accs=$(grep -w -m 1 "^OSD177" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD177 ${curr_run_accs}
        
[Thu Dec  3 02:30:31 2020]
Finished job 74.
66 of 829 steps (8%) done

[Thu Dec  3 02:30:31 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_155_751m_0.22-3_prok.bam
    jobid: 301
    wildcards: ID=TARA_155_751m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_155_751m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_155_751m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 02:52:01 2020]
Finished job 302.
67 of 829 steps (8%) done

[Thu Dec  3 02:52:01 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_098_5m_0.22-3_prok.bam
    jobid: 242
    wildcards: ID=TARA_098_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_098_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_098_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 02:52:46 2020]
Finished job 338.
68 of 829 steps (8%) done

[Thu Dec  3 02:52:46 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_124_5m_0.45-0.8_girus.bam
    jobid: 270
    wildcards: ID=TARA_124_5m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_124_5m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_124_5m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 03:14:57 2020]
Finished job 311.
69 of 829 steps (8%) done

[Thu Dec  3 03:14:58 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD5-75.bam
    jobid: 119
    wildcards: ID=OSD5-75


        curr_run_accs=$(grep -w -m 1 "^OSD5-75" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD5-75 ${curr_run_accs}
        
[Thu Dec  3 03:16:24 2020]
Finished job 119.
70 of 829 steps (8%) done

[Thu Dec  3 03:16:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD5-75.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD5-75-gene-coverages.tsv
    jobid: 533
    wildcards: ID=OSD5-75


        pileup.sh -in ../mapping-files/OSD5-75.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD5-75-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD5-75-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD5-75-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD5-75-gene-cov.tmp > ../mapping-files/OSD5-75-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD5-75-gene-cov-and-det.tmp ../mapping-files/OSD5-75-gene-cov.tmp
        
[Thu Dec  3 03:16:33 2020]
Finished job 533.
71 of 829 steps (9%) done

[Thu Dec  3 03:16:33 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD178.bam
    jobid: 75
    wildcards: ID=OSD178


        curr_run_accs=$(grep -w -m 1 "^OSD178" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD178 ${curr_run_accs}
        
[Thu Dec  3 03:17:43 2020]
Finished job 75.
72 of 829 steps (9%) done

[Thu Dec  3 03:17:43 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD118.bam
    jobid: 21
    wildcards: ID=OSD118


        curr_run_accs=$(grep -w -m 1 "^OSD118" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD118 ${curr_run_accs}
        
[Thu Dec  3 03:18:39 2020]
Finished job 21.
73 of 829 steps (9%) done

[Thu Dec  3 03:18:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_099_5m_0.22-3_prok.bam
    jobid: 243
    wildcards: ID=TARA_099_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_099_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_099_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 03:30:32 2020]
Finished job 227.
74 of 829 steps (9%) done

[Thu Dec  3 03:30:32 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_125_140m_0.1-0.22_girus.bam
    jobid: 271
    wildcards: ID=TARA_125_140m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_125_140m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_125_140m_0.1-0.22_girus ${curr_run_accs}
        
[Thu Dec  3 03:36:12 2020]
Finished job 339.
75 of 829 steps (9%) done

[Thu Dec  3 03:36:12 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD18.bam
    jobid: 76
    wildcards: ID=OSD18


        curr_run_accs=$(grep -w -m 1 "^OSD18" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD18 ${curr_run_accs}
        
[Thu Dec  3 03:37:28 2020]
Finished job 76.
76 of 829 steps (9%) done

[Thu Dec  3 03:37:28 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_070_800m_0.45-0.8_girus.bam
    jobid: 217
    wildcards: ID=TARA_070_800m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_070_800m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_070_800m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 04:17:39 2020]
Finished job 329.
77 of 829 steps (9%) done

[Thu Dec  3 04:17:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_110_380m_0.22-3_prok.bam
    jobid: 244
    wildcards: ID=TARA_110_380m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_110_380m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_110_380m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 04:19:16 2020]
Finished job 226.
78 of 829 steps (9%) done

[Thu Dec  3 04:19:16 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_125_140m_0.22-0.45_girus.bam
    jobid: 272
    wildcards: ID=TARA_125_140m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_125_140m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_125_140m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 04:22:35 2020]
Finished job 242.
79 of 829 steps (10%) done

[Thu Dec  3 04:22:35 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD182.bam
    jobid: 77
    wildcards: ID=OSD182


        curr_run_accs=$(grep -w -m 1 "^OSD182" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD182 ${curr_run_accs}
        
[Thu Dec  3 04:23:58 2020]
Finished job 77.
80 of 829 steps (10%) done

[Thu Dec  3 04:23:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD126.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD126-gene-coverages.tsv
    jobid: 440
    wildcards: ID=OSD126


        pileup.sh -in ../mapping-files/OSD126.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD126-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD126-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD126-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD126-gene-cov.tmp > ../mapping-files/OSD126-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD126-gene-cov-and-det.tmp ../mapping-files/OSD126-gene-cov.tmp
        
[Thu Dec  3 04:24:04 2020]
Finished job 440.
81 of 829 steps (10%) done

[Thu Dec  3 04:24:04 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_110_50m_0.22-3_prok.bam
    jobid: 245
    wildcards: ID=TARA_110_50m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_110_50m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_110_50m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 04:42:16 2020]
Finished job 271.
82 of 829 steps (10%) done

[Thu Dec  3 04:42:16 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_201_36m_0.22-3_prok.bam
    jobid: 328
    wildcards: ID=TARA_201_36m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_201_36m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_201_36m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 04:50:06 2020]
Finished job 270.
83 of 829 steps (10%) done

[Thu Dec  3 04:50:06 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_070_800m_0.22-3_prok.bam
    jobid: 216
    wildcards: ID=TARA_070_800m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_070_800m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_070_800m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 05:06:19 2020]
Finished job 301.
84 of 829 steps (10%) done

[Thu Dec  3 05:06:20 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_125_140m_0.45-0.8_girus.bam
    jobid: 273
    wildcards: ID=TARA_125_140m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_125_140m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_125_140m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 05:10:13 2020]
Finished job 243.
85 of 829 steps (10%) done

[Thu Dec  3 05:10:14 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD183.bam
    jobid: 78
    wildcards: ID=OSD183


        curr_run_accs=$(grep -w -m 1 "^OSD183" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD183 ${curr_run_accs}
        
[Thu Dec  3 05:11:46 2020]
Finished job 78.
86 of 829 steps (10%) done

[Thu Dec  3 05:11:46 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_155_5m_0.22-3_prok.bam
    jobid: 300
    wildcards: ID=TARA_155_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_155_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_155_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 06:04:42 2020]
Finished job 217.
87 of 829 steps (10%) done

[Thu Dec  3 06:04:42 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_070_800m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 631
    wildcards: ID=TARA_070_800m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_070_800m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_070_800m_0.45-0.8_girus-gene-cov.tmp
        
[Thu Dec  3 06:05:03 2020]
Finished job 631.
88 of 829 steps (11%) done

[Thu Dec  3 06:05:03 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_110_5m_0.22-3_prok.bam
    jobid: 246
    wildcards: ID=TARA_110_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_110_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_110_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 06:46:17 2020]
Finished job 272.
89 of 829 steps (11%) done

[Thu Dec  3 06:46:17 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD57.bam
    jobid: 118
    wildcards: ID=OSD57


        curr_run_accs=$(grep -w -m 1 "^OSD57" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD57 ${curr_run_accs}
        
[Thu Dec  3 06:48:45 2020]
Finished job 118.
90 of 829 steps (11%) done

[Thu Dec  3 06:48:45 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD57.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD57-gene-coverages.tsv
    jobid: 532
    wildcards: ID=OSD57


        pileup.sh -in ../mapping-files/OSD57.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD57-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD57-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD57-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD57-gene-cov.tmp > ../mapping-files/OSD57-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD57-gene-cov-and-det.tmp ../mapping-files/OSD57-gene-cov.tmp
        
[Thu Dec  3 06:48:52 2020]
Finished job 532.
91 of 829 steps (11%) done

[Thu Dec  3 06:48:52 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_067_5m_0.22-3_prok.bam
    jobid: 202
    wildcards: ID=TARA_067_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_067_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_067_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 08:04:41 2020]
Finished job 202.
92 of 829 steps (11%) done

[Thu Dec  3 08:04:42 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_600m_0.22-0.45_girus.bam
    jobid: 258
    wildcards: ID=TARA_122_600m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_600m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_600m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 08:07:55 2020]
Finished job 245.
93 of 829 steps (11%) done

[Thu Dec  3 08:07:55 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_141_5m_0.22-3_prok.bam
    jobid: 286
    wildcards: ID=TARA_141_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_141_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_141_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 08:10:28 2020]
Finished job 244.
94 of 829 steps (11%) done

[Thu Dec  3 08:10:28 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_007_5m_0.22-1.6_girus.bam
    jobid: 342
    wildcards: ID=TARA_007_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_007_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_007_5m_0.22-1.6_girus ${curr_run_accs}
        
[Thu Dec  3 08:16:58 2020]
Finished job 328.
95 of 829 steps (11%) done

[Thu Dec  3 08:16:58 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/K3-8Ar.bam
    jobid: 384
    wildcards: ID=K3-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^K3-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^K3-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 K3-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 08:40:43 2020]
Finished job 246.
96 of 829 steps (12%) done

[Thu Dec  3 08:40:43 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW056-33An.bam
    jobid: 412
    wildcards: ID=UW056-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW056-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW056-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW056-33An "${R1_link}" "${R2_link}"
        
[Thu Dec  3 08:44:53 2020]
Finished job 273.
97 of 829 steps (12%) done

[Thu Dec  3 08:44:54 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD103.bam
    jobid: 7
    wildcards: ID=OSD103


        curr_run_accs=$(grep -w -m 1 "^OSD103" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD103 ${curr_run_accs}
        
[Thu Dec  3 08:46:39 2020]
Finished job 7.
98 of 829 steps (12%) done

[Thu Dec  3 08:46:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD45.bam
    jobid: 105
    wildcards: ID=OSD45


        curr_run_accs=$(grep -w -m 1 "^OSD45" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD45 ${curr_run_accs}
        
[Thu Dec  3 08:47:23 2020]
Finished job 384.
99 of 829 steps (12%) done

[Thu Dec  3 08:47:23 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD95.bam
    jobid: 147
    wildcards: ID=OSD95


        curr_run_accs=$(grep -w -m 1 "^OSD95" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD95 ${curr_run_accs}
        
[Thu Dec  3 08:48:51 2020]
Finished job 105.
100 of 829 steps (12%) done

[Thu Dec  3 08:48:51 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_067_5m_0.45-0.8_girus.bam
    jobid: 203
    wildcards: ID=TARA_067_5m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_067_5m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_067_5m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 08:49:20 2020]
Finished job 300.
101 of 829 steps (12%) done

[Thu Dec  3 08:49:20 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_600m_0.45-0.8_girus.bam
    jobid: 259
    wildcards: ID=TARA_122_600m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_600m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_600m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 08:49:34 2020]
Finished job 147.
102 of 829 steps (12%) done

[Thu Dec  3 08:49:34 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_142_125m_0.22-3_prok.bam
    jobid: 287
    wildcards: ID=TARA_142_125m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_142_125m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_142_125m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 09:01:16 2020]
Finished job 342.
103 of 829 steps (12%) done

[Thu Dec  3 09:01:16 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_007_42m_0.22-1.6_girus.bam
    jobid: 343
    wildcards: ID=TARA_007_42m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_007_42m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_007_42m_0.22-1.6_girus ${curr_run_accs}
        
[Thu Dec  3 09:13:33 2020]
Finished job 412.
104 of 829 steps (13%) done

[Thu Dec  3 09:13:33 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/LB01-1000m-8Ar.bam
    jobid: 385
    wildcards: ID=LB01-1000m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^LB01-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^LB01-1000m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 LB01-1000m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 09:22:20 2020]
Finished job 385.
105 of 829 steps (13%) done

[Thu Dec  3 09:22:20 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD105.bam
    jobid: 8
    wildcards: ID=OSD105


        curr_run_accs=$(grep -w -m 1 "^OSD105" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD105 ${curr_run_accs}
        
[Thu Dec  3 09:22:42 2020]
Finished job 216.
106 of 829 steps (13%) done

[Thu Dec  3 09:22:43 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD46.bam
    jobid: 106
    wildcards: ID=OSD46


        curr_run_accs=$(grep -w -m 1 "^OSD46" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD46 ${curr_run_accs}
        
[Thu Dec  3 09:24:13 2020]
Finished job 106.
107 of 829 steps (13%) done

[Thu Dec  3 09:24:13 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD96.bam
    jobid: 148
    wildcards: ID=OSD96


        curr_run_accs=$(grep -w -m 1 "^OSD96" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD96 ${curr_run_accs}
        
[Thu Dec  3 09:24:42 2020]
Finished job 8.
108 of 829 steps (13%) done

[Thu Dec  3 09:24:42 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_142_5m_0.22-3_prok.bam
    jobid: 288
    wildcards: ID=TARA_142_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_142_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_142_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 09:32:04 2020]
Finished job 148.
109 of 829 steps (13%) done

[Thu Dec  3 09:32:04 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_50m_0.22-0.45_girus.bam
    jobid: 204
    wildcards: ID=TARA_068_50m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_068_50m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_50m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 09:58:17 2020]
Finished job 343.
110 of 829 steps (13%) done

[Thu Dec  3 09:58:18 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_123_150m_0.1-0.22_girus.bam
    jobid: 260
    wildcards: ID=TARA_123_150m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_123_150m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_123_150m_0.1-0.22_girus ${curr_run_accs}
        
[Thu Dec  3 10:25:00 2020]
Finished job 286.
111 of 829 steps (13%) done

[Thu Dec  3 10:25:01 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_003_5m_0.22-1.6_girus.bam
    jobid: 344
    wildcards: ID=TARA_003_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_003_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_003_5m_0.22-1.6_girus ${curr_run_accs}
        
[Thu Dec  3 10:25:41 2020]
Finished job 344.
112 of 829 steps (14%) done

[Thu Dec  3 10:25:41 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/LB01-300m-8Ar.bam
    jobid: 386
    wildcards: ID=LB01-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^LB01-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^LB01-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 LB01-300m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 11:02:50 2020]
Finished job 386.
113 of 829 steps (14%) done

[Thu Dec  3 11:02:51 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW072-33An.bam
    jobid: 414
    wildcards: ID=UW072-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW072-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW072-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW072-33An "${R1_link}" "${R2_link}"
        
[Thu Dec  3 11:13:13 2020]
Finished job 258.
114 of 829 steps (14%) done

[Thu Dec  3 11:13:13 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD106-0.bam
    jobid: 9
    wildcards: ID=OSD106-0


        curr_run_accs=$(grep -w -m 1 "^OSD106-0" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD106-0 ${curr_run_accs}
        
[Thu Dec  3 11:13:53 2020]
Finished job 9.
115 of 829 steps (14%) done

[Thu Dec  3 11:13:53 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD47.bam
    jobid: 107
    wildcards: ID=OSD47


        curr_run_accs=$(grep -w -m 1 "^OSD47" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD47 ${curr_run_accs}
        
[Thu Dec  3 11:14:52 2020]
Finished job 107.
116 of 829 steps (14%) done

[Thu Dec  3 11:14:52 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD97.bam
    jobid: 149
    wildcards: ID=OSD97


        curr_run_accs=$(grep -w -m 1 "^OSD97" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD97 ${curr_run_accs}
        
[Thu Dec  3 11:15:38 2020]
Finished job 149.
117 of 829 steps (14%) done

[Thu Dec  3 11:15:38 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_142_640m_0.22-3_prok.bam
    jobid: 289
    wildcards: ID=TARA_142_640m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_142_640m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_142_640m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 11:35:55 2020]
Finished job 414.
118 of 829 steps (14%) done

[Thu Dec  3 11:35:55 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_50m_0.22-3_prok.bam
    jobid: 205
    wildcards: ID=TARA_068_50m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_068_50m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_50m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 11:44:02 2020]
Finished job 260.
119 of 829 steps (14%) done

[Thu Dec  3 11:44:02 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_123_150m_0.22-0.45_girus.bam
    jobid: 261
    wildcards: ID=TARA_123_150m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_123_150m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_123_150m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 11:44:12 2020]
Finished job 287.
120 of 829 steps (14%) done

[Thu Dec  3 11:44:12 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_004_5m_0.22-1.6_girus.bam
    jobid: 345
    wildcards: ID=TARA_004_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_004_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_004_5m_0.22-1.6_girus ${curr_run_accs}
        
[Thu Dec  3 11:44:56 2020]
Finished job 345.
121 of 829 steps (15%) done

[Thu Dec  3 11:44:57 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/LB01-5m-8Ar.bam
    jobid: 387
    wildcards: ID=LB01-5m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^LB01-5m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^LB01-5m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 LB01-5m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 11:59:45 2020]
Finished job 259.
122 of 829 steps (15%) done

[Thu Dec  3 11:59:46 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW073-33An.bam
    jobid: 415
    wildcards: ID=UW073-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW073-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW073-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW073-33An "${R1_link}" "${R2_link}"
        
[Thu Dec  3 12:11:11 2020]
Finished job 288.
123 of 829 steps (15%) done

[Thu Dec  3 12:11:11 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_123_150m_0.45-0.8_girus.bam
    jobid: 262
    wildcards: ID=TARA_123_150m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_123_150m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_123_150m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 12:13:05 2020]
Finished job 203.
124 of 829 steps (15%) done

[Thu Dec  3 12:13:05 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD106-15.bam
    jobid: 10
    wildcards: ID=OSD106-15


        curr_run_accs=$(grep -w -m 1 "^OSD106-15" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD106-15 ${curr_run_accs}
        
[Thu Dec  3 12:13:18 2020]
Finished job 387.
125 of 829 steps (15%) done

[Thu Dec  3 12:13:18 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD48.bam
    jobid: 108
    wildcards: ID=OSD48


        curr_run_accs=$(grep -w -m 1 "^OSD48" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD48 ${curr_run_accs}
        
[Thu Dec  3 12:13:55 2020]
Finished job 10.
126 of 829 steps (15%) done

[Thu Dec  3 12:13:55 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD98.bam
    jobid: 150
    wildcards: ID=OSD98


        curr_run_accs=$(grep -w -m 1 "^OSD98" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD98 ${curr_run_accs}
        
[Thu Dec  3 12:14:05 2020]
Finished job 108.
127 of 829 steps (15%) done

[Thu Dec  3 12:14:05 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_145_590m_0.22-3_prok.bam
    jobid: 290
    wildcards: ID=TARA_145_590m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_145_590m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_145_590m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 12:14:50 2020]
Finished job 150.
128 of 829 steps (15%) done

[Thu Dec  3 12:14:50 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_50m_0.45-0.8_girus.bam
    jobid: 206
    wildcards: ID=TARA_068_50m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_068_50m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_50m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 12:31:28 2020]
Finished job 415.
129 of 829 steps (16%) done

[Thu Dec  3 12:31:28 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_006_8m_0.22-1.6_girus.bam
    jobid: 346
    wildcards: ID=TARA_006_8m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_006_8m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_006_8m_0.22-1.6_girus ${curr_run_accs}
        
[Thu Dec  3 12:31:59 2020]
Finished job 346.
130 of 829 steps (16%) done

[Thu Dec  3 12:31:59 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N02-0m-8Ar.bam
    jobid: 388
    wildcards: ID=N02-0m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N02-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N02-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N02-0m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 12:45:26 2020]
Finished job 205.
131 of 829 steps (16%) done

[Thu Dec  3 12:45:26 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD1.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD1-gene-coverages.tsv
    jobid: 416
    wildcards: ID=OSD1


        pileup.sh -in ../mapping-files/OSD1.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD1-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD1-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD1-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD1-gene-cov.tmp > ../mapping-files/OSD1-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD1-gene-cov-and-det.tmp ../mapping-files/OSD1-gene-cov.tmp
        
[Thu Dec  3 12:45:34 2020]
Finished job 416.
132 of 829 steps (16%) done

[Thu Dec  3 12:45:34 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_123_5m_0.22-0.45_girus.bam
    jobid: 263
    wildcards: ID=TARA_123_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_123_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_123_5m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 12:45:49 2020]
Finished job 204.
133 of 829 steps (16%) done

[Thu Dec  3 12:45:49 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD107.bam
    jobid: 11
    wildcards: ID=OSD107


        curr_run_accs=$(grep -w -m 1 "^OSD107" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD107 ${curr_run_accs}
        
[Thu Dec  3 12:46:43 2020]
Finished job 11.
134 of 829 steps (16%) done

[Thu Dec  3 12:46:43 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD49.bam
    jobid: 109
    wildcards: ID=OSD49


        curr_run_accs=$(grep -w -m 1 "^OSD49" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD49 ${curr_run_accs}
        
[Thu Dec  3 12:48:31 2020]
Finished job 109.
135 of 829 steps (16%) done

[Thu Dec  3 12:48:31 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD99.bam
    jobid: 151
    wildcards: ID=OSD99


        curr_run_accs=$(grep -w -m 1 "^OSD99" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD99 ${curr_run_accs}
        
[Thu Dec  3 12:49:43 2020]
Finished job 151.
136 of 829 steps (16%) done

[Thu Dec  3 12:49:43 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_145_5m_0.22-3_prok.bam
    jobid: 291
    wildcards: ID=TARA_145_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_145_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_145_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 12:56:51 2020]
Finished job 388.
137 of 829 steps (17%) done

[Thu Dec  3 12:56:51 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_5m_0.22-0.45_girus.bam
    jobid: 207
    wildcards: ID=TARA_068_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_068_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_5m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 13:29:04 2020]
Finished job 289.
138 of 829 steps (17%) done

[Thu Dec  3 13:29:04 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_031_5m_0.22-1.6_girus.bam
    jobid: 347
    wildcards: ID=TARA_031_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_031_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_031_5m_0.22-1.6_girus ${curr_run_accs}
        
[Thu Dec  3 13:31:21 2020]
Finished job 347.
139 of 829 steps (17%) done

[Thu Dec  3 13:31:21 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N02-1500m-8Ar.bam
    jobid: 389
    wildcards: ID=N02-1500m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N02-1500m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N02-1500m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N02-1500m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 13:33:06 2020]
Finished job 261.
140 of 829 steps (17%) done

[Thu Dec  3 13:33:06 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD10.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD10-gene-coverages.tsv
    jobid: 417
    wildcards: ID=OSD10


        pileup.sh -in ../mapping-files/OSD10.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD10-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD10-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD10-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD10-gene-cov.tmp > ../mapping-files/OSD10-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD10-gene-cov-and-det.tmp ../mapping-files/OSD10-gene-cov.tmp
        
[Thu Dec  3 13:33:12 2020]
Finished job 417.
141 of 829 steps (17%) done

[Thu Dec  3 13:33:12 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD22.bam
    jobid: 87
    wildcards: ID=OSD22


        curr_run_accs=$(grep -w -m 1 "^OSD22" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD22 ${curr_run_accs}
        
[Thu Dec  3 13:34:16 2020]
Finished job 87.
142 of 829 steps (17%) done

[Thu Dec  3 13:34:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_068_50m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 618
    wildcards: ID=TARA_068_50m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_068_50m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_068_50m_0.22-0.45_girus-gene-cov.tmp
        
[Thu Dec  3 13:34:55 2020]
Finished job 618.
143 of 829 steps (17%) done

[Thu Dec  3 13:34:55 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_5m_0.22-0.45_girus.bam
    jobid: 255
    wildcards: ID=TARA_122_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_5m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 14:10:16 2020]
Finished job 206.
144 of 829 steps (17%) done

[Thu Dec  3 14:10:16 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_158_25m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_158_25m_0.22-3_prok-gene-coverages.tsv
    jobid: 716
    wildcards: ID=TARA_158_25m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_158_25m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_158_25m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_158_25m_0.22-3_prok-gene-cov.tmp
        
[Thu Dec  3 14:10:24 2020]
Finished job 716.
145 of 829 steps (17%) done

[Thu Dec  3 14:10:24 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_133_45m_0.22-3_prok.bam
    jobid: 282
    wildcards: ID=TARA_133_45m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_133_45m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_133_45m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 14:14:34 2020]
Finished job 262.
146 of 829 steps (18%) done

[Thu Dec  3 14:14:34 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_5m_0.1-0.22_girus.bam
    jobid: 254
    wildcards: ID=TARA_122_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_5m_0.1-0.22_girus ${curr_run_accs}
        
[Thu Dec  3 14:23:15 2020]
Finished job 389.
147 of 829 steps (18%) done

[Thu Dec  3 14:23:15 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_133_5m_0.22-3_prok.bam
    jobid: 283
    wildcards: ID=TARA_133_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_133_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_133_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 15:06:46 2020]
Finished job 254.
148 of 829 steps (18%) done

[Thu Dec  3 15:06:46 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD21.bam
    jobid: 86
    wildcards: ID=OSD21


        curr_run_accs=$(grep -w -m 1 "^OSD21" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD21 ${curr_run_accs}
        
[Thu Dec  3 15:07:50 2020]
Finished job 86.
149 of 829 steps (18%) done

[Thu Dec  3 15:07:50 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_067_5m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 617
    wildcards: ID=TARA_067_5m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_067_5m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_067_5m_0.45-0.8_girus-gene-cov.tmp
        
[Thu Dec  3 15:08:03 2020]
Finished job 617.
150 of 829 steps (18%) done

[Thu Dec  3 15:08:03 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_158_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_158_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 717
    wildcards: ID=TARA_158_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_158_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_158_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_158_5m_0.22-3_prok-gene-cov.tmp
        
[Thu Dec  3 15:08:11 2020]
Finished job 717.
151 of 829 steps (18%) done

[Thu Dec  3 15:08:11 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_068_50m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_068_50m_0.22-3_prok-gene-coverages.tsv
    jobid: 619
    wildcards: ID=TARA_068_50m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_068_50m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_068_50m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_068_50m_0.22-3_prok-gene-cov.tmp
        
[Thu Dec  3 15:08:26 2020]
Finished job 619.
152 of 829 steps (18%) done

[Thu Dec  3 15:08:26 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD70.bam
    jobid: 130
    wildcards: ID=OSD70


        curr_run_accs=$(grep -w -m 1 "^OSD70" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD70 ${curr_run_accs}
        
[Thu Dec  3 15:09:38 2020]
Finished job 130.
153 of 829 steps (18%) done

[Thu Dec  3 15:09:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_023_55m_0.22-1.6_prok.bam
    jobid: 158
    wildcards: ID=TARA_023_55m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_023_55m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_023_55m_0.22-1.6_prok ${curr_run_accs}
        
[Thu Dec  3 15:11:22 2020]
Finished job 290.
154 of 829 steps (19%) done

[Thu Dec  3 15:11:22 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_155_751m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_155_751m_0.22-3_prok-gene-coverages.tsv
    jobid: 715
    wildcards: ID=TARA_155_751m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_155_751m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_155_751m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_155_751m_0.22-3_prok-gene-cov.tmp
        
[Thu Dec  3 15:11:51 2020]
Finished job 715.
155 of 829 steps (19%) done

[Thu Dec  3 15:11:51 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_132_5m_0.22-3_prok.bam
    jobid: 281
    wildcards: ID=TARA_132_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_132_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_132_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 15:15:26 2020]
Finished job 255.
156 of 829 steps (19%) done

[Thu Dec  3 15:15:27 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_115m_0.45-0.8_girus.bam
    jobid: 253
    wildcards: ID=TARA_122_115m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_115m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_115m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 15:34:29 2020]
Finished job 263.
157 of 829 steps (19%) done

[Thu Dec  3 15:34:29 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD20-20.bam
    jobid: 85
    wildcards: ID=OSD20-20


        curr_run_accs=$(grep -w -m 1 "^OSD20-20" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD20-20 ${curr_run_accs}
        
[Thu Dec  3 15:35:48 2020]
Finished job 85.
158 of 829 steps (19%) done

[Thu Dec  3 15:35:49 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_155_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_155_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 714
    wildcards: ID=TARA_155_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_155_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_155_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_155_5m_0.22-3_prok-gene-cov.tmp
        
[Thu Dec  3 15:36:03 2020]
Finished job 714.
159 of 829 steps (19%) done

[Thu Dec  3 15:36:03 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_056_5m_0.22-3_prok.bam
    jobid: 186
    wildcards: ID=TARA_056_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_056_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_056_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 15:38:41 2020]
Finished job 291.
160 of 829 steps (19%) done

[Thu Dec  3 15:38:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_067_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_067_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 616
    wildcards: ID=TARA_067_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_067_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_067_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_067_5m_0.22-3_prok-gene-cov.tmp
        
[Thu Dec  3 15:38:51 2020]
Finished job 616.
161 of 829 steps (19%) done

[Thu Dec  3 15:38:51 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N07-300m-8Ar.bam
    jobid: 396
    wildcards: ID=N07-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N07-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N07-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N07-300m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 15:48:20 2020]
Finished job 207.
162 of 829 steps (20%) done

[Thu Dec  3 15:48:20 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_132_550m_0.22-3_prok.bam
    jobid: 280
    wildcards: ID=TARA_132_550m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_132_550m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_132_550m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 15:51:01 2020]
Finished job 158.
163 of 829 steps (20%) done

[Thu Dec  3 15:51:01 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_115m_0.22-0.45_girus.bam
    jobid: 252
    wildcards: ID=TARA_122_115m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_115m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_115m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 15:57:38 2020]
Finished job 282.
164 of 829 steps (20%) done

[Thu Dec  3 15:57:38 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD71.bam
    jobid: 131
    wildcards: ID=OSD71


        curr_run_accs=$(grep -w -m 1 "^OSD71" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD71 ${curr_run_accs}
        
[Thu Dec  3 15:59:18 2020]
Finished job 131.
165 of 829 steps (20%) done

[Thu Dec  3 15:59:18 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_025_50m_0.22-1.6_prok.bam
    jobid: 159
    wildcards: ID=TARA_025_50m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_025_50m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_025_50m_0.22-1.6_prok ${curr_run_accs}
        
[Thu Dec  3 17:00:11 2020]
Finished job 283.
166 of 829 steps (20%) done

[Thu Dec  3 17:00:12 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_057_5m_0.22-3_prok.bam
    jobid: 187
    wildcards: ID=TARA_057_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_057_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_057_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 17:02:45 2020]
Finished job 281.
167 of 829 steps (20%) done

[Thu Dec  3 17:02:45 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N07-3800m-8Ar.bam
    jobid: 397
    wildcards: ID=N07-3800m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N07-3800m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N07-3800m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N07-3800m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 17:11:33 2020]
Finished job 396.
168 of 829 steps (20%) done

[Thu Dec  3 17:11:33 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD72.bam
    jobid: 132
    wildcards: ID=OSD72


        curr_run_accs=$(grep -w -m 1 "^OSD72" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD72 ${curr_run_accs}
        
[Thu Dec  3 17:12:24 2020]
Finished job 132.
169 of 829 steps (20%) done

[Thu Dec  3 17:12:24 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_025_5m_0.22-1.6_prok.bam
    jobid: 160
    wildcards: ID=TARA_025_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_025_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_025_5m_0.22-1.6_prok ${curr_run_accs}
        
[Thu Dec  3 17:30:34 2020]
Finished job 253.
170 of 829 steps (21%) done

[Thu Dec  3 17:30:34 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD20-0.bam
    jobid: 84
    wildcards: ID=OSD20-0


        curr_run_accs=$(grep -w -m 1 "^OSD20-0" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD20-0 ${curr_run_accs}
        
[Thu Dec  3 17:31:21 2020]
Finished job 84.
171 of 829 steps (21%) done

[Thu Dec  3 17:31:21 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_132_115m_0.22-3_prok.bam
    jobid: 279
    wildcards: ID=TARA_132_115m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_132_115m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_132_115m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 17:54:03 2020]
Finished job 186.
172 of 829 steps (21%) done

[Thu Dec  3 17:54:04 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_058_66m_0.22-3_prok.bam
    jobid: 188
    wildcards: ID=TARA_058_66m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_058_66m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_058_66m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 18:18:36 2020]
Finished job 252.
173 of 829 steps (21%) done

[Thu Dec  3 18:18:36 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_115m_0.1-0.22_girus.bam
    jobid: 251
    wildcards: ID=TARA_122_115m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_115m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_115m_0.1-0.22_girus ${curr_run_accs}
        
[Thu Dec  3 18:43:01 2020]
Finished job 187.
174 of 829 steps (21%) done

[Thu Dec  3 18:43:01 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/P06-0m-8Ar.bam
    jobid: 398
    wildcards: ID=P06-0m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^P06-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^P06-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 P06-0m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 18:46:19 2020]
Finished job 159.
175 of 829 steps (21%) done

[Thu Dec  3 18:46:19 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD2.bam
    jobid: 83
    wildcards: ID=OSD2


        curr_run_accs=$(grep -w -m 1 "^OSD2" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD2 ${curr_run_accs}
        
[Thu Dec  3 18:47:04 2020]
Finished job 83.
176 of 829 steps (21%) done

[Thu Dec  3 18:47:04 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_128_5m_0.22-3_prok.bam
    jobid: 278
    wildcards: ID=TARA_128_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_128_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_128_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 19:10:51 2020]
Finished job 280.
177 of 829 steps (21%) done

[Thu Dec  3 19:10:51 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD73.bam
    jobid: 133
    wildcards: ID=OSD73


        curr_run_accs=$(grep -w -m 1 "^OSD73" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD73 ${curr_run_accs}
        
[Thu Dec  3 19:11:32 2020]
Finished job 133.
178 of 829 steps (21%) done

[Thu Dec  3 19:11:32 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_030_70m_0.22-1.6_prok.bam
    jobid: 161
    wildcards: ID=TARA_030_70m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_030_70m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_030_70m_0.22-1.6_prok ${curr_run_accs}
        
[Thu Dec  3 19:11:45 2020]
Finished job 251.
179 of 829 steps (22%) done

[Thu Dec  3 19:11:45 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_112_696m_0.22-3_prok.bam
    jobid: 250
    wildcards: ID=TARA_112_696m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_112_696m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_112_696m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 19:25:12 2020]
Finished job 160.
180 of 829 steps (22%) done

[Thu Dec  3 19:25:12 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD19.bam
    jobid: 82
    wildcards: ID=OSD19


        curr_run_accs=$(grep -w -m 1 "^OSD19" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD19 ${curr_run_accs}
        
[Thu Dec  3 19:26:41 2020]
Finished job 82.
181 of 829 steps (22%) done

[Thu Dec  3 19:26:41 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_128_40m_0.22-3_prok.bam
    jobid: 277
    wildcards: ID=TARA_128_40m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_128_40m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_128_40m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 19:43:32 2020]
Finished job 188.
182 of 829 steps (22%) done

[Thu Dec  3 19:43:32 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_062_5m_0.22-3_prok.bam
    jobid: 189
    wildcards: ID=TARA_062_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_062_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_062_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 20:09:38 2020]
Finished job 278.
183 of 829 steps (22%) done

[Thu Dec  3 20:09:38 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/P06-300m-8Ar.bam
    jobid: 399
    wildcards: ID=P06-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^P06-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^P06-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 P06-300m-8Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 20:16:38 2020]
Finished job 398.
184 of 829 steps (22%) done

[Thu Dec  3 20:16:38 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD74.bam
    jobid: 134
    wildcards: ID=OSD74


        curr_run_accs=$(grep -w -m 1 "^OSD74" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD74 ${curr_run_accs}
        
[Thu Dec  3 20:18:35 2020]
Finished job 134.
185 of 829 steps (22%) done

[Thu Dec  3 20:18:35 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_031_5m_0.22-1.6_prok.bam
    jobid: 162
    wildcards: ID=TARA_031_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_031_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_031_5m_0.22-1.6_prok ${curr_run_accs}
        
[Thu Dec  3 20:35:05 2020]
Finished job 279.
186 of 829 steps (22%) done

[Thu Dec  3 20:35:05 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_064_1000m_0.22-3_prok.bam
    jobid: 190
    wildcards: ID=TARA_064_1000m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_064_1000m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_064_1000m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 21:12:41 2020]
Finished job 397.
187 of 829 steps (23%) done

[Thu Dec  3 21:12:41 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/R16E-1000m-9Ar.bam
    jobid: 400
    wildcards: ID=R16E-1000m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^R16E-1000m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^R16E-1000m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 R16E-1000m-9Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 21:15:35 2020]
Finished job 161.
188 of 829 steps (23%) done

[Thu Dec  3 21:15:35 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_112_5m_0.22-3_prok.bam
    jobid: 249
    wildcards: ID=TARA_112_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_112_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_112_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 21:19:25 2020]
Finished job 277.
189 of 829 steps (23%) done

[Thu Dec  3 21:19:25 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD76.bam
    jobid: 135
    wildcards: ID=OSD76


        curr_run_accs=$(grep -w -m 1 "^OSD76" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD76 ${curr_run_accs}
        
[Thu Dec  3 21:19:59 2020]
Finished job 135.
190 of 829 steps (23%) done

[Thu Dec  3 21:19:59 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_032_5m_0.22-1.6_prok.bam
    jobid: 163
    wildcards: ID=TARA_032_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_032_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_032_5m_0.22-1.6_prok ${curr_run_accs}
        
[Thu Dec  3 21:23:40 2020]
Finished job 189.
191 of 829 steps (23%) done

[Thu Dec  3 21:23:40 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_064_5m_0.22-3_prok.bam
    jobid: 191
    wildcards: ID=TARA_064_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_064_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_064_5m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 21:43:42 2020]
Finished job 250.
192 of 829 steps (23%) done

[Thu Dec  3 21:43:42 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD186.bam
    jobid: 81
    wildcards: ID=OSD186


        curr_run_accs=$(grep -w -m 1 "^OSD186" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD186 ${curr_run_accs}
        
[Thu Dec  3 21:44:45 2020]
Finished job 81.
193 of 829 steps (23%) done

[Thu Dec  3 21:44:45 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_125_5m_0.45-0.8_girus.bam
    jobid: 276
    wildcards: ID=TARA_125_5m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_125_5m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_125_5m_0.45-0.8_girus ${curr_run_accs}
        
[Thu Dec  3 21:58:40 2020]
Finished job 400.
194 of 829 steps (23%) done

[Thu Dec  3 21:58:40 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/R16E-300m-9Ar.bam
    jobid: 401
    wildcards: ID=R16E-300m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^R16E-300m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^R16E-300m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 R16E-300m-9Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 22:36:02 2020]
Finished job 162.
195 of 829 steps (24%) done

[Thu Dec  3 22:36:03 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_112_155m_0.22-3_prok.bam
    jobid: 248
    wildcards: ID=TARA_112_155m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_112_155m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_112_155m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 22:36:23 2020]
Finished job 190.
196 of 829 steps (24%) done

[Thu Dec  3 22:36:23 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD77.bam
    jobid: 136
    wildcards: ID=OSD77


        curr_run_accs=$(grep -w -m 1 "^OSD77" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD77 ${curr_run_accs}
        
[Thu Dec  3 22:37:36 2020]
Finished job 136.
197 of 829 steps (24%) done

[Thu Dec  3 22:37:36 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_032_80m_0.22-1.6_prok.bam
    jobid: 164
    wildcards: ID=TARA_032_80m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_032_80m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_032_80m_0.22-1.6_prok ${curr_run_accs}
        
[Thu Dec  3 22:42:33 2020]
Finished job 401.
198 of 829 steps (24%) done

[Thu Dec  3 22:42:33 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_064_65m_0.1-0.22_girus.bam
    jobid: 192
    wildcards: ID=TARA_064_65m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_064_65m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_064_65m_0.1-0.22_girus ${curr_run_accs}
        
[Thu Dec  3 23:12:18 2020]
Finished job 399.
199 of 829 steps (24%) done

[Thu Dec  3 23:12:18 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/R16E-3236m-9Ar.bam
    jobid: 402
    wildcards: ID=R16E-3236m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^R16E-3236m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^R16E-3236m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 R16E-3236m-9Ar "${R1_link}" "${R2_link}"
        
[Thu Dec  3 23:23:55 2020]
Finished job 192.
200 of 829 steps (24%) done

[Thu Dec  3 23:23:55 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD185.bam
    jobid: 80
    wildcards: ID=OSD185


        curr_run_accs=$(grep -w -m 1 "^OSD185" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD185 ${curr_run_accs}
        
[Thu Dec  3 23:25:26 2020]
Finished job 80.
201 of 829 steps (24%) done

[Thu Dec  3 23:25:26 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_125_5m_0.22-0.45_girus.bam
    jobid: 275
    wildcards: ID=TARA_125_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_125_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_125_5m_0.22-0.45_girus ${curr_run_accs}
        
[Thu Dec  3 23:41:34 2020]
Finished job 163.
202 of 829 steps (24%) done

[Thu Dec  3 23:41:35 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_111_350m_0.22-3_prok.bam
    jobid: 247
    wildcards: ID=TARA_111_350m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_111_350m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_111_350m_0.22-3_prok ${curr_run_accs}
        
[Thu Dec  3 23:48:30 2020]
Finished job 249.
203 of 829 steps (24%) done

[Thu Dec  3 23:48:30 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD184.bam
    jobid: 79
    wildcards: ID=OSD184


        curr_run_accs=$(grep -w -m 1 "^OSD184" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD184 ${curr_run_accs}
        
[Thu Dec  3 23:49:55 2020]
Finished job 79.
204 of 829 steps (25%) done

[Thu Dec  3 23:49:55 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_125_5m_0.1-0.22_girus.bam
    jobid: 274
    wildcards: ID=TARA_125_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_125_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_125_5m_0.1-0.22_girus ${curr_run_accs}
        
[Fri Dec  4 00:02:26 2020]
Finished job 276.
205 of 829 steps (25%) done

[Fri Dec  4 00:02:27 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD78.bam
    jobid: 137
    wildcards: ID=OSD78


        curr_run_accs=$(grep -w -m 1 "^OSD78" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD78 ${curr_run_accs}
        
[Fri Dec  4 00:03:44 2020]
Finished job 137.
206 of 829 steps (25%) done

[Fri Dec  4 00:03:44 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_033_5m_0.22-1.6_prok.bam
    jobid: 165
    wildcards: ID=TARA_033_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_033_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_033_5m_0.22-1.6_prok ${curr_run_accs}
        
[Fri Dec  4 00:33:25 2020]
Finished job 402.
207 of 829 steps (25%) done

[Fri Dec  4 00:33:26 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_064_65m_0.22-3_prok.bam
    jobid: 193
    wildcards: ID=TARA_064_65m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_064_65m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_064_65m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 00:39:54 2020]
Finished job 274.
208 of 829 steps (25%) done

[Fri Dec  4 00:39:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_145_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_145_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 705
    wildcards: ID=TARA_145_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_145_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_145_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_145_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 00:40:21 2020]
Finished job 705.
209 of 829 steps (25%) done

[Fri Dec  4 00:40:21 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW012-0m-8Ar.bam
    jobid: 403
    wildcards: ID=UW012-0m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW012-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW012-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW012-0m-8Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 00:56:35 2020]
Finished job 248.
210 of 829 steps (25%) done

[Fri Dec  4 00:56:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_145_590m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_145_590m_0.22-3_prok-gene-coverages.tsv
    jobid: 704
    wildcards: ID=TARA_145_590m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_145_590m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_145_590m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_145_590m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 00:57:05 2020]
Finished job 704.
211 of 829 steps (25%) done

[Fri Dec  4 00:57:05 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_064_65m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 606
    wildcards: ID=TARA_064_65m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_064_65m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_064_65m_0.1-0.22_girus-gene-cov.tmp
        
[Fri Dec  4 00:57:11 2020]
Finished job 606.
212 of 829 steps (26%) done

[Fri Dec  4 00:57:11 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD80-0.bam
    jobid: 138
    wildcards: ID=OSD80-0


        curr_run_accs=$(grep -w -m 1 "^OSD80-0" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD80-0 ${curr_run_accs}
        
[Fri Dec  4 00:57:59 2020]
Finished job 138.
213 of 829 steps (26%) done

[Fri Dec  4 00:57:59 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_034_5m_0.1-0.22_girus.bam
    jobid: 166
    wildcards: ID=TARA_034_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_034_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_034_5m_0.1-0.22_girus ${curr_run_accs}
        
[Fri Dec  4 01:01:37 2020]
Finished job 164.
214 of 829 steps (26%) done

[Fri Dec  4 01:01:37 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_30m_0.1-0.22_girus.bam
    jobid: 194
    wildcards: ID=TARA_065_30m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_065_30m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_30m_0.1-0.22_girus ${curr_run_accs}
        
[Fri Dec  4 01:21:44 2020]
Finished job 165.
215 of 829 steps (26%) done

[Fri Dec  4 01:21:44 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW022-8Ar.bam
    jobid: 404
    wildcards: ID=UW022-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW022-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW022-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW022-8Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 01:22:36 2020]
Finished job 191.
216 of 829 steps (26%) done

[Fri Dec  4 01:22:37 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD80-2.bam
    jobid: 139
    wildcards: ID=OSD80-2


        curr_run_accs=$(grep -w -m 1 "^OSD80-2" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD80-2 ${curr_run_accs}
        
[Fri Dec  4 01:23:21 2020]
Finished job 139.
217 of 829 steps (26%) done

[Fri Dec  4 01:23:21 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_034_5m_0.22-1.6_prok.bam
    jobid: 167
    wildcards: ID=TARA_034_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_034_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_034_5m_0.22-1.6_prok ${curr_run_accs}
        
[Fri Dec  4 01:33:24 2020]
Finished job 404.
218 of 829 steps (26%) done

[Fri Dec  4 01:33:24 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW073-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW073-33An-gene-coverages.tsv
    jobid: 829
    wildcards: ID=UW073-33An


        pileup.sh -in ../mapping-files-HK/UW073-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW073-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW073-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW073-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW073-33An-gene-cov.tmp > ../mapping-files-HK/UW073-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW073-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW073-33An-gene-cov.tmp
        
[Fri Dec  4 01:33:29 2020]
Finished job 829.
219 of 829 steps (26%) done

[Fri Dec  4 01:33:30 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_30m_0.22-3_prok.bam
    jobid: 195
    wildcards: ID=TARA_065_30m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_065_30m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_30m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 01:52:40 2020]
Finished job 166.
220 of 829 steps (27%) done

[Fri Dec  4 01:52:40 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW023-8Ar.bam
    jobid: 405
    wildcards: ID=UW023-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW023-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW023-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW023-8Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 01:54:07 2020]
Finished job 194.
221 of 829 steps (27%) done

[Fri Dec  4 01:54:07 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_30m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 608
    wildcards: ID=TARA_065_30m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_065_30m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_065_30m_0.1-0.22_girus-gene-cov.tmp
        
[Fri Dec  4 01:54:13 2020]
Finished job 608.
222 of 829 steps (27%) done

[Fri Dec  4 01:54:13 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD81.bam
    jobid: 140
    wildcards: ID=OSD81


        curr_run_accs=$(grep -w -m 1 "^OSD81" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD81 ${curr_run_accs}
        
[Fri Dec  4 01:55:08 2020]
Finished job 140.
223 of 829 steps (27%) done

[Fri Dec  4 01:55:08 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_034_60m_0.22-1.6_prok.bam
    jobid: 168
    wildcards: ID=TARA_034_60m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_034_60m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_034_60m_0.22-1.6_prok ${curr_run_accs}
        
[Fri Dec  4 02:08:35 2020]
Finished job 275.
224 of 829 steps (27%) done

[Fri Dec  4 02:08:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_032_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 577
    wildcards: ID=TARA_032_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_032_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_032_5m_0.22-1.6_prok-gene-cov.tmp
        
[Fri Dec  4 02:08:40 2020]
Finished job 577.
225 of 829 steps (27%) done

[Fri Dec  4 02:08:40 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW072-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW072-33An-gene-coverages.tsv
    jobid: 828
    wildcards: ID=UW072-33An


        pileup.sh -in ../mapping-files-HK/UW072-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW072-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW072-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW072-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW072-33An-gene-cov.tmp > ../mapping-files-HK/UW072-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW072-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW072-33An-gene-cov.tmp
        
[Fri Dec  4 02:08:44 2020]
Finished job 828.
226 of 829 steps (27%) done

[Fri Dec  4 02:08:44 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_5m_0.1-0.22_girus.bam
    jobid: 196
    wildcards: ID=TARA_065_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_065_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_5m_0.1-0.22_girus ${curr_run_accs}
        
[Fri Dec  4 02:10:29 2020]
Finished job 193.
227 of 829 steps (27%) done

[Fri Dec  4 02:10:29 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_064_65m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_064_65m_0.22-3_prok-gene-coverages.tsv
    jobid: 607
    wildcards: ID=TARA_064_65m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_064_65m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_064_65m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_064_65m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 02:10:34 2020]
Finished job 607.
228 of 829 steps (28%) done

[Fri Dec  4 02:10:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_031_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 576
    wildcards: ID=TARA_031_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_031_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_031_5m_0.22-1.6_prok-gene-cov.tmp
        
[Fri Dec  4 02:10:39 2020]
Finished job 576.
229 of 829 steps (28%) done

[Fri Dec  4 02:10:39 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW024-9Ar.bam
    jobid: 406
    wildcards: ID=UW024-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW024-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW024-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW024-9Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 02:20:52 2020]
Finished job 167.
230 of 829 steps (28%) done

[Fri Dec  4 02:20:52 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD9.bam
    jobid: 141
    wildcards: ID=OSD9


        curr_run_accs=$(grep -w -m 1 "^OSD9" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD9 ${curr_run_accs}
        
[Fri Dec  4 02:21:54 2020]
Finished job 141.
231 of 829 steps (28%) done

[Fri Dec  4 02:21:54 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_036_17m_0.22-1.6_prok.bam
    jobid: 169
    wildcards: ID=TARA_036_17m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_036_17m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_036_17m_0.22-1.6_prok ${curr_run_accs}
        
[Fri Dec  4 02:36:29 2020]
Finished job 247.
232 of 829 steps (28%) done

[Fri Dec  4 02:36:29 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_5m_0.22-3_prok.bam
    jobid: 197
    wildcards: ID=TARA_065_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_065_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_5m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 03:04:20 2020]
Finished job 196.
233 of 829 steps (28%) done

[Fri Dec  4 03:04:20 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_5m_0.1-0.22_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-coverages.tsv
    jobid: 610
    wildcards: ID=TARA_065_5m_0.1-0.22_girus


        pileup.sh -in ../mapping-files/TARA_065_5m_0.1-0.22_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov.tmp > ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov-and-det.tmp ../mapping-files/TARA_065_5m_0.1-0.22_girus-gene-cov.tmp
        
[Fri Dec  4 03:04:25 2020]
Finished job 610.
234 of 829 steps (28%) done

[Fri Dec  4 03:04:25 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_030_70m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 575
    wildcards: ID=TARA_030_70m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_030_70m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_030_70m_0.22-1.6_prok-gene-cov.tmp
        
[Fri Dec  4 03:04:29 2020]
Finished job 575.
235 of 829 steps (28%) done

[Fri Dec  4 03:04:29 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW042-0m-34An.bam
    jobid: 407
    wildcards: ID=UW042-0m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW042-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW042-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW042-0m-34An "${R1_link}" "${R2_link}"
        
[Fri Dec  4 03:13:59 2020]
Finished job 195.
236 of 829 steps (28%) done

[Fri Dec  4 03:14:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_30m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_30m_0.22-3_prok-gene-coverages.tsv
    jobid: 609
    wildcards: ID=TARA_065_30m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_065_30m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_065_30m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_065_30m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 03:14:06 2020]
Finished job 609.
237 of 829 steps (29%) done

[Fri Dec  4 03:14:06 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD45.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD45-gene-coverages.tsv
    jobid: 519
    wildcards: ID=OSD45


        pileup.sh -in ../mapping-files/OSD45.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD45-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD45-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD45-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD45-gene-cov.tmp > ../mapping-files/OSD45-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD45-gene-cov-and-det.tmp ../mapping-files/OSD45-gene-cov.tmp
        
[Fri Dec  4 03:14:09 2020]
Finished job 519.
238 of 829 steps (29%) done

[Fri Dec  4 03:14:09 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD90.bam
    jobid: 142
    wildcards: ID=OSD90


        curr_run_accs=$(grep -w -m 1 "^OSD90" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD90 ${curr_run_accs}
        
[Fri Dec  4 03:14:48 2020]
Finished job 142.
239 of 829 steps (29%) done

[Fri Dec  4 03:14:48 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_036_5m_0.1-0.22_girus.bam
    jobid: 170
    wildcards: ID=TARA_036_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_036_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_036_5m_0.1-0.22_girus ${curr_run_accs}
        
[Fri Dec  4 03:21:48 2020]
Finished job 170.
240 of 829 steps (29%) done

[Fri Dec  4 03:21:48 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_065_850m_0.22-3_prok.bam
    jobid: 198
    wildcards: ID=TARA_065_850m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_065_850m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_065_850m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 03:39:10 2020]
Finished job 197.
241 of 829 steps (29%) done

[Fri Dec  4 03:39:11 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 611
    wildcards: ID=TARA_065_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_065_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_065_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_065_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 03:39:17 2020]
Finished job 611.
242 of 829 steps (29%) done

[Fri Dec  4 03:39:17 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/UW056-33An.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/UW056-33An-gene-coverages.tsv
    jobid: 826
    wildcards: ID=UW056-33An


        pileup.sh -in ../mapping-files-HK/UW056-33An.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/UW056-33An-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/UW056-33An-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/UW056-33An-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/UW056-33An-gene-cov.tmp > ../mapping-files-HK/UW056-33An-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/UW056-33An-gene-cov-and-det.tmp ../mapping-files-HK/UW056-33An-gene-cov.tmp
        
[Fri Dec  4 03:39:25 2020]
Finished job 826.
243 of 829 steps (29%) done

[Fri Dec  4 03:39:25 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW044-0m-34An.bam
    jobid: 408
    wildcards: ID=UW044-0m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW044-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW044-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW044-0m-34An "${R1_link}" "${R2_link}"
        
[Fri Dec  4 03:50:26 2020]
Finished job 169.
244 of 829 steps (29%) done

[Fri Dec  4 03:50:26 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD46.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD46-gene-coverages.tsv
    jobid: 520
    wildcards: ID=OSD46


        pileup.sh -in ../mapping-files/OSD46.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD46-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD46-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD46-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD46-gene-cov.tmp > ../mapping-files/OSD46-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD46-gene-cov-and-det.tmp ../mapping-files/OSD46-gene-cov.tmp
        
[Fri Dec  4 03:50:30 2020]
Finished job 520.
245 of 829 steps (30%) done

[Fri Dec  4 03:50:30 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_066_30m_0.22-3_prok.bam
    jobid: 199
    wildcards: ID=TARA_066_30m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_066_30m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_066_30m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 03:52:52 2020]
Finished job 403.
246 of 829 steps (30%) done

[Fri Dec  4 03:52:52 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD91.bam
    jobid: 143
    wildcards: ID=OSD91


        curr_run_accs=$(grep -w -m 1 "^OSD91" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD91 ${curr_run_accs}
        
[Fri Dec  4 03:54:46 2020]
Finished job 143.
247 of 829 steps (30%) done

[Fri Dec  4 03:54:46 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_036_5m_0.22-1.6_prok.bam
    jobid: 171
    wildcards: ID=TARA_036_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_036_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_036_5m_0.22-1.6_prok ${curr_run_accs}
        
[Fri Dec  4 04:00:51 2020]
Finished job 168.
248 of 829 steps (30%) done

[Fri Dec  4 04:00:52 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD47.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD47-gene-coverages.tsv
    jobid: 521
    wildcards: ID=OSD47


        pileup.sh -in ../mapping-files/OSD47.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD47-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD47-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD47-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD47-gene-cov.tmp > ../mapping-files/OSD47-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD47-gene-cov-and-det.tmp ../mapping-files/OSD47-gene-cov.tmp
        
[Fri Dec  4 04:00:56 2020]
Finished job 521.
249 of 829 steps (30%) done

[Fri Dec  4 04:00:56 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD24.bam
    jobid: 88
    wildcards: ID=OSD24


        curr_run_accs=$(grep -w -m 1 "^OSD24" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD24 ${curr_run_accs}
        
[Fri Dec  4 04:02:24 2020]
Finished job 88.
250 of 829 steps (30%) done

[Fri Dec  4 04:02:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_070_800m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_070_800m_0.22-3_prok-gene-coverages.tsv
    jobid: 630
    wildcards: ID=TARA_070_800m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_070_800m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_070_800m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_070_800m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 04:02:29 2020]
Finished job 407.
251 of 829 steps (30%) done

[Fri Dec  4 04:02:29 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_025_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 574
    wildcards: ID=TARA_025_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_025_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_025_5m_0.22-1.6_prok-gene-cov.tmp
        
[Fri Dec  4 04:02:35 2020]
Finished job 574.
252 of 829 steps (30%) done

[Fri Dec  4 04:02:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_025_50m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 573
    wildcards: ID=TARA_025_50m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_025_50m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_025_50m_0.22-1.6_prok-gene-cov.tmp
        
[Fri Dec  4 04:02:49 2020]
Finished job 573.
253 of 829 steps (31%) done

[Fri Dec  4 04:02:49 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_175_10-100m_0.22-3_prok.bam
    jobid: 312
    wildcards: ID=TARA_175_10-100m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_175_10-100m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_175_10-100m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 04:03:15 2020]
Finished job 630.
254 of 829 steps (31%) done

[Fri Dec  4 04:03:15 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD106-15.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD106-15-gene-coverages.tsv
    jobid: 424
    wildcards: ID=OSD106-15


        pileup.sh -in ../mapping-files/OSD106-15.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD106-15-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD106-15-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD106-15-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD106-15-gene-cov.tmp > ../mapping-files/OSD106-15-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD106-15-gene-cov-and-det.tmp ../mapping-files/OSD106-15-gene-cov.tmp
        
[Fri Dec  4 04:03:19 2020]
Finished job 424.
255 of 829 steps (31%) done

[Fri Dec  4 04:03:19 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N02-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N02-0m-8Ar-gene-coverages.tsv
    jobid: 802
    wildcards: ID=N02-0m-8Ar


        pileup.sh -in ../mapping-files-HK/N02-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N02-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N02-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N02-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N02-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/N02-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N02-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N02-0m-8Ar-gene-cov.tmp
        
[Fri Dec  4 04:03:24 2020]
Finished job 802.
256 of 829 steps (31%) done

[Fri Dec  4 04:03:25 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_023_55m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 572
    wildcards: ID=TARA_023_55m_0.22-1.6_prok


        pileup.sh -in ../mapping-files/TARA_023_55m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files/TARA_023_55m_0.22-1.6_prok-gene-cov.tmp
        
[Fri Dec  4 04:03:32 2020]
Finished job 572.
257 of 829 steps (31%) done

[Fri Dec  4 04:03:32 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_125_5m_0.45-0.8_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-coverages.tsv
    jobid: 690
    wildcards: ID=TARA_125_5m_0.45-0.8_girus


        pileup.sh -in ../mapping-files/TARA_125_5m_0.45-0.8_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov.tmp > ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov-and-det.tmp ../mapping-files/TARA_125_5m_0.45-0.8_girus-gene-cov.tmp
        
[Fri Dec  4 04:03:40 2020]
Finished job 690.
258 of 829 steps (31%) done

[Fri Dec  4 04:03:40 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD102.bam
    jobid: 6
    wildcards: ID=OSD102


        curr_run_accs=$(grep -w -m 1 "^OSD102" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD102 ${curr_run_accs}
        
[Fri Dec  4 04:03:43 2020]
Finished job 406.
259 of 829 steps (31%) done

[Fri Dec  4 04:03:43 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD43.bam
    jobid: 104
    wildcards: ID=OSD43


        curr_run_accs=$(grep -w -m 1 "^OSD43" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD43 ${curr_run_accs}
        
[Fri Dec  4 04:04:06 2020]
Finished job 6.
260 of 829 steps (31%) done

[Fri Dec  4 04:04:06 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD94.bam
    jobid: 146
    wildcards: ID=OSD94


        curr_run_accs=$(grep -w -m 1 "^OSD94" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD94 ${curr_run_accs}
        
[Fri Dec  4 04:04:39 2020]
Finished job 104.
261 of 829 steps (31%) done

[Fri Dec  4 04:04:39 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD19.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD19-gene-coverages.tsv
    jobid: 496
    wildcards: ID=OSD19


        pileup.sh -in ../mapping-files/OSD19.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD19-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD19-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD19-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD19-gene-cov.tmp > ../mapping-files/OSD19-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD19-gene-cov-and-det.tmp ../mapping-files/OSD19-gene-cov.tmp
        
[Fri Dec  4 04:04:44 2020]
Finished job 496.
262 of 829 steps (32%) done

[Fri Dec  4 04:04:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD2.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD2-gene-coverages.tsv
    jobid: 497
    wildcards: ID=OSD2


        pileup.sh -in ../mapping-files/OSD2.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD2-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD2-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD2-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD2-gene-cov.tmp > ../mapping-files/OSD2-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD2-gene-cov-and-det.tmp ../mapping-files/OSD2-gene-cov.tmp
        
[Fri Dec  4 04:04:48 2020]
Finished job 497.
263 of 829 steps (32%) done

[Fri Dec  4 04:04:48 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD92.bam
    jobid: 144
    wildcards: ID=OSD92


        curr_run_accs=$(grep -w -m 1 "^OSD92" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD92 ${curr_run_accs}
        
[Fri Dec  4 04:04:51 2020]
Finished job 146.
264 of 829 steps (32%) done

[Fri Dec  4 04:04:51 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_5m_0.45-0.8_girus.bam
    jobid: 256
    wildcards: ID=TARA_122_5m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_5m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_5m_0.45-0.8_girus ${curr_run_accs}
        
[Fri Dec  4 04:05:55 2020]
Finished job 144.
265 of 829 steps (32%) done

[Fri Dec  4 04:05:55 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_133_650m_0.22-3_prok.bam
    jobid: 284
    wildcards: ID=TARA_133_650m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_133_650m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_133_650m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 04:09:31 2020]
Finished job 405.
266 of 829 steps (32%) done

[Fri Dec  4 04:09:32 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_066_5m_0.22-3_prok.bam
    jobid: 200
    wildcards: ID=TARA_066_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_066_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_066_5m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 04:24:36 2020]
Finished job 408.
267 of 829 steps (32%) done

[Fri Dec  4 04:24:36 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_023_5m_0.22-1.6_prok.bam
    jobid: 340
    wildcards: ID=TARA_023_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_023_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_023_5m_0.22-1.6_prok ${curr_run_accs}
        
[Fri Dec  4 04:33:28 2020]
Finished job 199.
268 of 829 steps (32%) done

[Fri Dec  4 04:33:28 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/ICE04-100m-9Ar.bam
    jobid: 382
    wildcards: ID=ICE04-100m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^ICE04-100m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^ICE04-100m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 ICE04-100m-9Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 05:04:30 2020]
Finished job 340.
269 of 829 steps (32%) done

[Fri Dec  4 05:04:30 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW050-0m-34An.bam
    jobid: 410
    wildcards: ID=UW050-0m-34An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW050-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW050-0m-34An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW050-0m-34An "${R1_link}" "${R2_link}"
        
[Fri Dec  4 05:04:41 2020]
Finished job 382.
270 of 829 steps (33%) done

[Fri Dec  4 05:04:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD185.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD185-gene-coverages.tsv
    jobid: 494
    wildcards: ID=OSD185


        pileup.sh -in ../mapping-files/OSD185.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD185-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD185-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD185-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD185-gene-cov.tmp > ../mapping-files/OSD185-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD185-gene-cov-and-det.tmp ../mapping-files/OSD185-gene-cov.tmp
        
[Fri Dec  4 05:04:50 2020]
Finished job 494.
271 of 829 steps (33%) done

[Fri Dec  4 05:04:50 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD101.bam
    jobid: 5
    wildcards: ID=OSD101


        curr_run_accs=$(grep -w -m 1 "^OSD101" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD101 ${curr_run_accs}
        
[Fri Dec  4 05:06:11 2020]
Finished job 5.
272 of 829 steps (33%) done

[Fri Dec  4 05:06:11 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD42.bam
    jobid: 103
    wildcards: ID=OSD42


        curr_run_accs=$(grep -w -m 1 "^OSD42" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD42 ${curr_run_accs}
        
[Fri Dec  4 05:07:57 2020]
Finished job 103.
273 of 829 steps (33%) done

[Fri Dec  4 05:07:57 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD93.bam
    jobid: 145
    wildcards: ID=OSD93


        curr_run_accs=$(grep -w -m 1 "^OSD93" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD93 ${curr_run_accs}
        
[Fri Dec  4 05:09:32 2020]
Finished job 145.
274 of 829 steps (33%) done

[Fri Dec  4 05:09:32 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_122_600m_0.1-0.22_girus.bam
    jobid: 257
    wildcards: ID=TARA_122_600m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_122_600m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_122_600m_0.1-0.22_girus ${curr_run_accs}
        
[Fri Dec  4 05:13:38 2020]
Finished job 171.
275 of 829 steps (33%) done

[Fri Dec  4 05:13:38 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_140_5m_0.22-3_prok.bam
    jobid: 285
    wildcards: ID=TARA_140_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_140_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_140_5m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 05:33:15 2020]
Finished job 410.
276 of 829 steps (33%) done

[Fri Dec  4 05:33:15 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_067_5m_0.22-0.45_girus.bam
    jobid: 201
    wildcards: ID=TARA_067_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_067_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_067_5m_0.22-0.45_girus ${curr_run_accs}
        
[Fri Dec  4 06:03:01 2020]
Finished job 312.
277 of 829 steps (33%) done

[Fri Dec  4 06:03:01 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok.bam
    jobid: 341
    wildcards: ID=TARA_030_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_030_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_030_5m_0.22-1.6_prok ${curr_run_accs}
        
[Fri Dec  4 06:18:02 2020]
Finished job 257.
278 of 829 steps (34%) done

[Fri Dec  4 06:18:03 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/ICE04-2280m-9Ar.bam
    jobid: 383
    wildcards: ID=ICE04-2280m-9Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^ICE04-2280m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^ICE04-2280m-9Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 ICE04-2280m-9Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 06:34:35 2020]
Finished job 256.
279 of 829 steps (34%) done

[Fri Dec  4 06:34:35 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/UW051-33An.bam
    jobid: 411
    wildcards: ID=UW051-33An


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^UW051-33An" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^UW051-33An" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 UW051-33An "${R1_link}" "${R2_link}"
        
[Fri Dec  4 06:40:05 2020]
Finished job 198.
280 of 829 steps (34%) done

[Fri Dec  4 06:40:05 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD186.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD186-gene-coverages.tsv
    jobid: 495
    wildcards: ID=OSD186


        pileup.sh -in ../mapping-files/OSD186.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD186-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD186-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD186-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD186-gene-cov.tmp > ../mapping-files/OSD186-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD186-gene-cov-and-det.tmp ../mapping-files/OSD186-gene-cov.tmp
        
[Fri Dec  4 06:40:10 2020]
Finished job 495.
281 of 829 steps (34%) done

[Fri Dec  4 06:40:10 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD20-0.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD20-0-gene-coverages.tsv
    jobid: 498
    wildcards: ID=OSD20-0


        pileup.sh -in ../mapping-files/OSD20-0.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD20-0-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD20-0-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD20-0-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD20-0-gene-cov.tmp > ../mapping-files/OSD20-0-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD20-0-gene-cov-and-det.tmp ../mapping-files/OSD20-0-gene-cov.tmp
        
[Fri Dec  4 06:40:14 2020]
Finished job 498.
282 of 829 steps (34%) done

[Fri Dec  4 06:40:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD20-20.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD20-20-gene-coverages.tsv
    jobid: 499
    wildcards: ID=OSD20-20


        pileup.sh -in ../mapping-files/OSD20-20.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD20-20-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD20-20-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD20-20-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD20-20-gene-cov.tmp > ../mapping-files/OSD20-20-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD20-20-gene-cov-and-det.tmp ../mapping-files/OSD20-20-gene-cov.tmp
        
[Fri Dec  4 06:40:18 2020]
Finished job 499.
283 of 829 steps (34%) done

[Fri Dec  4 06:40:18 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD30.bam
    jobid: 94
    wildcards: ID=OSD30


        curr_run_accs=$(grep -w -m 1 "^OSD30" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD30 ${curr_run_accs}
        
[Fri Dec  4 06:41:18 2020]
Finished job 94.
284 of 829 steps (34%) done

[Fri Dec  4 06:41:18 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_180_5m_0.22-3_prok.bam
    jobid: 317
    wildcards: ID=TARA_180_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_180_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_180_5m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 06:43:41 2020]
Finished job 383.
285 of 829 steps (34%) done

[Fri Dec  4 06:43:42 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_188_17m_0.22-3_prok.bam
    jobid: 318
    wildcards: ID=TARA_188_17m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_188_17m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_188_17m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 06:48:36 2020]
Finished job 341.
286 of 829 steps (34%) done

[Fri Dec  4 06:48:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_133_45m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_133_45m_0.22-3_prok-gene-coverages.tsv
    jobid: 696
    wildcards: ID=TARA_133_45m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_133_45m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_133_45m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_133_45m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 06:48:42 2020]
Finished job 696.
287 of 829 steps (35%) done

[Fri Dec  4 06:48:42 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD34.bam
    jobid: 95
    wildcards: ID=OSD34


        curr_run_accs=$(grep -w -m 1 "^OSD34" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD34 ${curr_run_accs}
        
[Fri Dec  4 06:49:33 2020]
Finished job 200.
288 of 829 steps (35%) done

[Fri Dec  4 06:49:33 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_132_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_132_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 695
    wildcards: ID=TARA_132_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_132_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_132_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_132_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 06:49:34 2020]
Finished job 95.
289 of 829 steps (35%) done

[Fri Dec  4 06:49:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_132_550m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_132_550m_0.22-3_prok-gene-coverages.tsv
    jobid: 694
    wildcards: ID=TARA_132_550m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_132_550m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_132_550m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_132_550m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 06:49:39 2020]
Finished job 695.
290 of 829 steps (35%) done

[Fri Dec  4 06:49:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_188_5m_0.22-3_prok.bam
    jobid: 319
    wildcards: ID=TARA_188_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_188_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_188_5m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 06:50:05 2020]
Finished job 694.
291 of 829 steps (35%) done

[Fri Dec  4 06:50:05 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_133_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_133_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 697
    wildcards: ID=TARA_133_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_133_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_133_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_133_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 06:50:09 2020]
Finished job 697.
292 of 829 steps (35%) done

[Fri Dec  4 06:50:10 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_132_115m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_132_115m_0.22-3_prok-gene-coverages.tsv
    jobid: 693
    wildcards: ID=TARA_132_115m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_132_115m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_132_115m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_132_115m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 06:50:17 2020]
Finished job 693.
293 of 829 steps (35%) done

[Fri Dec  4 06:50:17 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD35.bam
    jobid: 96
    wildcards: ID=OSD35


        curr_run_accs=$(grep -w -m 1 "^OSD35" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD35 ${curr_run_accs}
        
[Fri Dec  4 06:51:14 2020]
Finished job 96.
294 of 829 steps (35%) done

[Fri Dec  4 06:51:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_128_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_128_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 692
    wildcards: ID=TARA_128_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_128_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_128_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_128_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_128_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_128_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_128_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_128_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_128_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 06:51:19 2020]
Finished job 692.
295 of 829 steps (36%) done

[Fri Dec  4 06:51:19 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_189_20m_0.22-3_prok.bam
    jobid: 320
    wildcards: ID=TARA_189_20m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_189_20m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_189_20m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 07:25:47 2020]
Finished job 285.
296 of 829 steps (36%) done

[Fri Dec  4 07:25:48 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_098_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_098_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 656
    wildcards: ID=TARA_098_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_098_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_098_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_098_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 07:25:54 2020]
Finished job 656.
297 of 829 steps (36%) done

[Fri Dec  4 07:25:54 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N07-300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N07-300m-8Ar-gene-coverages.tsv
    jobid: 810
    wildcards: ID=N07-300m-8Ar


        pileup.sh -in ../mapping-files-HK/N07-300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N07-300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N07-300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N07-300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N07-300m-8Ar-gene-cov.tmp > ../mapping-files-HK/N07-300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N07-300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N07-300m-8Ar-gene-cov.tmp
        
[Fri Dec  4 07:26:12 2020]
Finished job 810.
298 of 829 steps (36%) done

[Fri Dec  4 07:26:12 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD26.bam
    jobid: 90
    wildcards: ID=OSD26


        curr_run_accs=$(grep -w -m 1 "^OSD26" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD26 ${curr_run_accs}
        
[Fri Dec  4 07:29:23 2020]
Finished job 90.
299 of 829 steps (36%) done

[Fri Dec  4 07:29:23 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_128_40m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_128_40m_0.22-3_prok-gene-coverages.tsv
    jobid: 691
    wildcards: ID=TARA_128_40m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_128_40m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_128_40m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_128_40m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 07:29:30 2020]
Finished job 691.
300 of 829 steps (36%) done

[Fri Dec  4 07:29:30 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD36.bam
    jobid: 97
    wildcards: ID=OSD36


        curr_run_accs=$(grep -w -m 1 "^OSD36" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD36 ${curr_run_accs}
        
[Fri Dec  4 07:33:01 2020]
Finished job 97.
301 of 829 steps (36%) done

[Fri Dec  4 07:33:01 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N02-1500m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N02-1500m-8Ar-gene-coverages.tsv
    jobid: 803
    wildcards: ID=N02-1500m-8Ar


        pileup.sh -in ../mapping-files-HK/N02-1500m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N02-1500m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N02-1500m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N02-1500m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N02-1500m-8Ar-gene-cov.tmp > ../mapping-files-HK/N02-1500m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N02-1500m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N02-1500m-8Ar-gene-cov.tmp
        
[Fri Dec  4 07:33:08 2020]
Finished job 803.
302 of 829 steps (36%) done

[Fri Dec  4 07:33:08 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD107.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD107-gene-coverages.tsv
    jobid: 425
    wildcards: ID=OSD107


        pileup.sh -in ../mapping-files/OSD107.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD107-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD107-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD107-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD107-gene-cov.tmp > ../mapping-files/OSD107-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD107-gene-cov-and-det.tmp ../mapping-files/OSD107-gene-cov.tmp
        
[Fri Dec  4 07:33:12 2020]
Finished job 425.
303 of 829 steps (37%) done

[Fri Dec  4 07:33:12 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_189_299m_0.22-3_prok.bam
    jobid: 321
    wildcards: ID=TARA_189_299m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_189_299m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_189_299m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 07:44:32 2020]
Finished job 411.
304 of 829 steps (37%) done

[Fri Dec  4 07:44:32 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_175_199m_0.22-3_prok.bam
    jobid: 313
    wildcards: ID=TARA_175_199m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_175_199m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_175_199m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 07:46:01 2020]
Finished job 201.
305 of 829 steps (37%) done

[Fri Dec  4 07:46:01 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD25.bam
    jobid: 89
    wildcards: ID=OSD25


        curr_run_accs=$(grep -w -m 1 "^OSD25" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD25 ${curr_run_accs}
        
[Fri Dec  4 07:48:35 2020]
Finished job 89.
306 of 829 steps (37%) done

[Fri Dec  4 07:48:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD43.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD43-gene-coverages.tsv
    jobid: 518
    wildcards: ID=OSD43


        pileup.sh -in ../mapping-files/OSD43.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD43-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD43-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD43-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD43-gene-cov.tmp > ../mapping-files/OSD43-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD43-gene-cov-and-det.tmp ../mapping-files/OSD43-gene-cov.tmp
        
[Fri Dec  4 07:48:43 2020]
Finished job 518.
307 of 829 steps (37%) done

[Fri Dec  4 07:48:43 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD42.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD42-gene-coverages.tsv
    jobid: 517
    wildcards: ID=OSD42


        pileup.sh -in ../mapping-files/OSD42.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD42-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD42-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD42-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD42-gene-cov.tmp > ../mapping-files/OSD42-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD42-gene-cov-and-det.tmp ../mapping-files/OSD42-gene-cov.tmp
        
[Fri Dec  4 07:48:48 2020]
Finished job 517.
308 of 829 steps (37%) done

[Fri Dec  4 07:48:48 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_099_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_099_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 657
    wildcards: ID=TARA_099_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_099_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_099_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_099_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 07:48:55 2020]
Finished job 657.
309 of 829 steps (37%) done

[Fri Dec  4 07:48:55 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N07-3800m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N07-3800m-8Ar-gene-coverages.tsv
    jobid: 811
    wildcards: ID=N07-3800m-8Ar


        pileup.sh -in ../mapping-files-HK/N07-3800m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N07-3800m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N07-3800m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N07-3800m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N07-3800m-8Ar-gene-cov.tmp > ../mapping-files-HK/N07-3800m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N07-3800m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N07-3800m-8Ar-gene-cov.tmp
        
[Fri Dec  4 07:49:10 2020]
Finished job 811.
310 of 829 steps (37%) done

[Fri Dec  4 07:49:10 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_140_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_140_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 699
    wildcards: ID=TARA_140_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_140_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_140_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_140_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 07:49:14 2020]
Finished job 699.
311 of 829 steps (38%) done

[Fri Dec  4 07:49:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD36.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD36-gene-coverages.tsv
    jobid: 511
    wildcards: ID=OSD36


        pileup.sh -in ../mapping-files/OSD36.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD36-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD36-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD36-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD36-gene-cov.tmp > ../mapping-files/OSD36-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD36-gene-cov-and-det.tmp ../mapping-files/OSD36-gene-cov.tmp
        
[Fri Dec  4 07:49:18 2020]
Finished job 511.
312 of 829 steps (38%) done

[Fri Dec  4 07:49:18 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD37.bam
    jobid: 98
    wildcards: ID=OSD37


        curr_run_accs=$(grep -w -m 1 "^OSD37" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD37 ${curr_run_accs}
        
[Fri Dec  4 07:51:54 2020]
Finished job 98.
313 of 829 steps (38%) done

[Fri Dec  4 07:51:55 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD37.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD37-gene-coverages.tsv
    jobid: 512
    wildcards: ID=OSD37


        pileup.sh -in ../mapping-files/OSD37.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD37-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD37-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD37-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD37-gene-cov.tmp > ../mapping-files/OSD37-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD37-gene-cov-and-det.tmp ../mapping-files/OSD37-gene-cov.tmp
        
[Fri Dec  4 07:51:58 2020]
Finished job 512.
314 of 829 steps (38%) done

[Fri Dec  4 07:51:58 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_189_5m_0.22-3_prok.bam
    jobid: 322
    wildcards: ID=TARA_189_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_189_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_189_5m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 08:29:14 2020]
Finished job 284.
315 of 829 steps (38%) done

[Fri Dec  4 08:29:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_133_650m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_133_650m_0.22-3_prok-gene-coverages.tsv
    jobid: 698
    wildcards: ID=TARA_133_650m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_133_650m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_133_650m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_133_650m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 08:29:51 2020]
Finished job 698.
316 of 829 steps (38%) done

[Fri Dec  4 08:29:51 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_110_380m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_110_380m_0.22-3_prok-gene-coverages.tsv
    jobid: 658
    wildcards: ID=TARA_110_380m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_110_380m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_110_380m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_110_380m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 08:30:24 2020]
Finished job 658.
317 of 829 steps (38%) done

[Fri Dec  4 08:30:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD35.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD35-gene-coverages.tsv
    jobid: 510
    wildcards: ID=OSD35


        pileup.sh -in ../mapping-files/OSD35.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD35-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD35-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD35-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD35-gene-cov.tmp > ../mapping-files/OSD35-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD35-gene-cov-and-det.tmp ../mapping-files/OSD35-gene-cov.tmp
        
[Fri Dec  4 08:30:28 2020]
Finished job 510.
318 of 829 steps (38%) done

[Fri Dec  4 08:30:28 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_201_36m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_201_36m_0.22-3_prok-gene-coverages.tsv
    jobid: 742
    wildcards: ID=TARA_201_36m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_201_36m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_201_36m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_201_36m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 08:30:34 2020]
Finished job 742.
319 of 829 steps (38%) done

[Fri Dec  4 08:30:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_141_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_141_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 700
    wildcards: ID=TARA_141_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_141_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_141_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_141_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 08:30:41 2020]
Finished job 700.
320 of 829 steps (39%) done

[Fri Dec  4 08:30:41 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/P06-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/P06-0m-8Ar-gene-coverages.tsv
    jobid: 812
    wildcards: ID=P06-0m-8Ar


        pileup.sh -in ../mapping-files-HK/P06-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/P06-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/P06-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/P06-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/P06-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/P06-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/P06-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/P06-0m-8Ar-gene-cov.tmp
        
[Fri Dec  4 08:30:48 2020]
Finished job 812.
321 of 829 steps (39%) done

[Fri Dec  4 08:30:48 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD34.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD34-gene-coverages.tsv
    jobid: 509
    wildcards: ID=OSD34


        pileup.sh -in ../mapping-files/OSD34.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD34-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD34-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD34-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD34-gene-cov.tmp > ../mapping-files/OSD34-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD34-gene-cov-and-det.tmp ../mapping-files/OSD34-gene-cov.tmp
        
[Fri Dec  4 08:30:54 2020]
Finished job 509.
322 of 829 steps (39%) done

[Fri Dec  4 08:30:54 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD38.bam
    jobid: 99
    wildcards: ID=OSD38


        curr_run_accs=$(grep -w -m 1 "^OSD38" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD38 ${curr_run_accs}
        
[Fri Dec  4 08:33:20 2020]
Finished job 99.
323 of 829 steps (39%) done

[Fri Dec  4 08:33:20 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD38.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD38-gene-coverages.tsv
    jobid: 513
    wildcards: ID=OSD38


        pileup.sh -in ../mapping-files/OSD38.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD38-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD38-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD38-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD38-gene-cov.tmp > ../mapping-files/OSD38-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD38-gene-cov-and-det.tmp ../mapping-files/OSD38-gene-cov.tmp
        
[Fri Dec  4 08:33:24 2020]
Finished job 513.
324 of 829 steps (39%) done

[Fri Dec  4 08:33:24 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD30.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD30-gene-coverages.tsv
    jobid: 508
    wildcards: ID=OSD30


        pileup.sh -in ../mapping-files/OSD30.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD30-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD30-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD30-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD30-gene-cov.tmp > ../mapping-files/OSD30-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD30-gene-cov-and-det.tmp ../mapping-files/OSD30-gene-cov.tmp
        
[Fri Dec  4 08:33:29 2020]
Finished job 508.
325 of 829 steps (39%) done

[Fri Dec  4 08:33:29 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_191_5m_0.22-3_prok.bam
    jobid: 323
    wildcards: ID=TARA_191_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_191_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_191_5m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 08:50:28 2020]
Finished job 317.
326 of 829 steps (39%) done

[Fri Dec  4 08:50:28 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_067_5m_0.22-0.45_girus.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-coverages.tsv
    jobid: 615
    wildcards: ID=TARA_067_5m_0.22-0.45_girus


        pileup.sh -in ../mapping-files/TARA_067_5m_0.22-0.45_girus.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov.tmp > ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov-and-det.tmp ../mapping-files/TARA_067_5m_0.22-0.45_girus-gene-cov.tmp
        
[Fri Dec  4 08:50:38 2020]
Finished job 615.
327 of 829 steps (39%) done

[Fri Dec  4 08:50:38 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_066_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_066_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 614
    wildcards: ID=TARA_066_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_066_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_066_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_066_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 08:50:54 2020]
Finished job 614.
328 of 829 steps (40%) done

[Fri Dec  4 08:50:54 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD118.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD118-gene-coverages.tsv
    jobid: 435
    wildcards: ID=OSD118


        pileup.sh -in ../mapping-files/OSD118.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD118-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD118-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD118-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD118-gene-cov.tmp > ../mapping-files/OSD118-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD118-gene-cov-and-det.tmp ../mapping-files/OSD118-gene-cov.tmp
        
[Fri Dec  4 08:50:58 2020]
Finished job 435.
329 of 829 steps (40%) done

[Fri Dec  4 08:50:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_201_441m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_201_441m_0.22-3_prok-gene-coverages.tsv
    jobid: 743
    wildcards: ID=TARA_201_441m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_201_441m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_201_441m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_201_441m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 08:51:12 2020]
Finished job 743.
330 of 829 steps (40%) done

[Fri Dec  4 08:51:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_110_50m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_110_50m_0.22-3_prok-gene-coverages.tsv
    jobid: 659
    wildcards: ID=TARA_110_50m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_110_50m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_110_50m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_110_50m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 08:51:17 2020]
Finished job 659.
331 of 829 steps (40%) done

[Fri Dec  4 08:51:17 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_038_5m_0.22-1.6_girus.bam
    jobid: 349
    wildcards: ID=TARA_038_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_038_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_038_5m_0.22-1.6_girus ${curr_run_accs}
        
[Fri Dec  4 08:53:45 2020]
Finished job 349.
332 of 829 steps (40%) done

[Fri Dec  4 08:53:45 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N04-0m-8Ar.bam
    jobid: 391
    wildcards: ID=N04-0m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N04-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N04-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N04-0m-8Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 09:27:51 2020]
Finished job 320.
333 of 829 steps (40%) done

[Fri Dec  4 09:27:51 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD101.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD101-gene-coverages.tsv
    jobid: 419
    wildcards: ID=OSD101


        pileup.sh -in ../mapping-files/OSD101.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD101-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD101-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD101-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD101-gene-cov.tmp > ../mapping-files/OSD101-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD101-gene-cov-and-det.tmp ../mapping-files/OSD101-gene-cov.tmp
        
[Fri Dec  4 09:28:00 2020]
Finished job 419.
334 of 829 steps (40%) done

[Fri Dec  4 09:28:00 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD25.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD25-gene-coverages.tsv
    jobid: 503
    wildcards: ID=OSD25


        pileup.sh -in ../mapping-files/OSD25.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD25-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD25-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD25-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD25-gene-cov.tmp > ../mapping-files/OSD25-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD25-gene-cov-and-det.tmp ../mapping-files/OSD25-gene-cov.tmp
        
[Fri Dec  4 09:28:06 2020]
Finished job 503.
335 of 829 steps (40%) done

[Fri Dec  4 09:28:06 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD110.bam
    jobid: 14
    wildcards: ID=OSD110


        curr_run_accs=$(grep -w -m 1 "^OSD110" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD110 ${curr_run_accs}
        
[Fri Dec  4 09:29:04 2020]
Finished job 14.
336 of 829 steps (41%) done

[Fri Dec  4 09:29:04 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD5-1.bam
    jobid: 112
    wildcards: ID=OSD5-1


        curr_run_accs=$(grep -w -m 1 "^OSD5-1" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD5-1 ${curr_run_accs}
        
[Fri Dec  4 09:29:51 2020]
Finished job 112.
337 of 829 steps (41%) done

[Fri Dec  4 09:29:52 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_009_55m_0.22-1.6_girus.bam
    jobid: 154
    wildcards: ID=TARA_009_55m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_009_55m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_009_55m_0.22-1.6_girus ${curr_run_accs}
        
[Fri Dec  4 09:53:56 2020]
Finished job 318.
338 of 829 steps (41%) done

[Fri Dec  4 09:53:56 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_150_40m_0.22-3_prok.bam
    jobid: 294
    wildcards: ID=TARA_150_40m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_150_40m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_150_40m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 10:21:15 2020]
Finished job 319.
339 of 829 steps (41%) done

[Fri Dec  4 10:21:15 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_700m_0.22-3_prok.bam
    jobid: 210
    wildcards: ID=TARA_068_700m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_068_700m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_700m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 10:25:40 2020]
Finished job 322.
340 of 829 steps (41%) done

[Fri Dec  4 10:25:40 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_124_120m_0.22-0.45_girus.bam
    jobid: 266
    wildcards: ID=TARA_124_120m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_124_120m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_124_120m_0.22-0.45_girus ${curr_run_accs}
        
[Fri Dec  4 10:30:45 2020]
Finished job 323.
341 of 829 steps (41%) done

[Fri Dec  4 10:30:45 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_038_340m_0.22-1.6_girus.bam
    jobid: 350
    wildcards: ID=TARA_038_340m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_038_340m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_038_340m_0.22-1.6_girus ${curr_run_accs}
        
[Fri Dec  4 10:34:02 2020]
Finished job 321.
342 of 829 steps (41%) done

[Fri Dec  4 10:34:02 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N04-300m-8Ar.bam
    jobid: 392
    wildcards: ID=N04-300m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N04-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N04-300m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N04-300m-8Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 10:34:11 2020]
Finished job 313.
343 of 829 steps (41%) done

[Fri Dec  4 10:34:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD102.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD102-gene-coverages.tsv
    jobid: 420
    wildcards: ID=OSD102


        pileup.sh -in ../mapping-files/OSD102.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD102-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD102-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD102-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD102-gene-cov.tmp > ../mapping-files/OSD102-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD102-gene-cov-and-det.tmp ../mapping-files/OSD102-gene-cov.tmp
        
[Fri Dec  4 10:34:15 2020]
Finished job 420.
344 of 829 steps (41%) done

[Fri Dec  4 10:34:15 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD26.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD26-gene-coverages.tsv
    jobid: 504
    wildcards: ID=OSD26


        pileup.sh -in ../mapping-files/OSD26.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD26-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD26-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD26-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD26-gene-cov.tmp > ../mapping-files/OSD26-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD26-gene-cov-and-det.tmp ../mapping-files/OSD26-gene-cov.tmp
        
[Fri Dec  4 10:34:19 2020]
Finished job 504.
345 of 829 steps (42%) done

[Fri Dec  4 10:34:20 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_193_5m_0.22-3_prok.bam
    jobid: 324
    wildcards: ID=TARA_193_5m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_193_5m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_193_5m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 10:36:07 2020]
Finished job 350.
346 of 829 steps (42%) done

[Fri Dec  4 10:36:07 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD39.bam
    jobid: 100
    wildcards: ID=OSD39


        curr_run_accs=$(grep -w -m 1 "^OSD39" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD39 ${curr_run_accs}
        
[Fri Dec  4 10:37:02 2020]
Finished job 100.
347 of 829 steps (42%) done

[Fri Dec  4 10:37:02 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/P06-300m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/P06-300m-8Ar-gene-coverages.tsv
    jobid: 813
    wildcards: ID=P06-300m-8Ar


        pileup.sh -in ../mapping-files-HK/P06-300m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/P06-300m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/P06-300m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/P06-300m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/P06-300m-8Ar-gene-cov.tmp > ../mapping-files-HK/P06-300m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/P06-300m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/P06-300m-8Ar-gene-cov.tmp
        
[Fri Dec  4 10:37:12 2020]
Finished job 813.
348 of 829 steps (42%) done

[Fri Dec  4 10:37:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD122.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD122-gene-coverages.tsv
    jobid: 436
    wildcards: ID=OSD122


        pileup.sh -in ../mapping-files/OSD122.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD122-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD122-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD122-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD122-gene-cov.tmp > ../mapping-files/OSD122-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD122-gene-cov-and-det.tmp ../mapping-files/OSD122-gene-cov.tmp
        
[Fri Dec  4 10:37:15 2020]
Finished job 436.
349 of 829 steps (42%) done

[Fri Dec  4 10:37:15 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_201_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_201_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 744
    wildcards: ID=TARA_201_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_201_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_201_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_201_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 10:37:21 2020]
Finished job 744.
350 of 829 steps (42%) done

[Fri Dec  4 10:37:21 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_110_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_110_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 660
    wildcards: ID=TARA_110_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_110_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_110_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_110_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 10:37:27 2020]
Finished job 660.
351 of 829 steps (42%) done

[Fri Dec  4 10:37:27 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_142_125m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_142_125m_0.22-3_prok-gene-coverages.tsv
    jobid: 701
    wildcards: ID=TARA_142_125m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_142_125m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_142_125m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_142_125m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 10:37:35 2020]
Finished job 701.
352 of 829 steps (42%) done

[Fri Dec  4 10:37:35 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_142_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_142_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 702
    wildcards: ID=TARA_142_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_142_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_142_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_142_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 10:37:42 2020]
Finished job 702.
353 of 829 steps (43%) done

[Fri Dec  4 10:37:42 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_191_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_191_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 737
    wildcards: ID=TARA_191_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_191_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_191_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_191_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 10:37:48 2020]
Finished job 737.
354 of 829 steps (43%) done

[Fri Dec  4 10:37:48 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/R16E-1000m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/R16E-1000m-9Ar-gene-coverages.tsv
    jobid: 814
    wildcards: ID=R16E-1000m-9Ar


        pileup.sh -in ../mapping-files-HK/R16E-1000m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/R16E-1000m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/R16E-1000m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/R16E-1000m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/R16E-1000m-9Ar-gene-cov.tmp > ../mapping-files-HK/R16E-1000m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/R16E-1000m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/R16E-1000m-9Ar-gene-cov.tmp
        
[Fri Dec  4 10:37:58 2020]
Finished job 814.
355 of 829 steps (43%) done

[Fri Dec  4 10:37:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD110.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD110-gene-coverages.tsv
    jobid: 428
    wildcards: ID=OSD110


        pileup.sh -in ../mapping-files/OSD110.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD110-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD110-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD110-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD110-gene-cov.tmp > ../mapping-files/OSD110-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD110-gene-cov-and-det.tmp ../mapping-files/OSD110-gene-cov.tmp
        
[Fri Dec  4 10:38:03 2020]
Finished job 428.
356 of 829 steps (43%) done

[Fri Dec  4 10:38:03 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD4.bam
    jobid: 101
    wildcards: ID=OSD4


        curr_run_accs=$(grep -w -m 1 "^OSD4" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD4 ${curr_run_accs}
        
[Fri Dec  4 10:39:10 2020]
Finished job 101.
357 of 829 steps (43%) done

[Fri Dec  4 10:39:10 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_189_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_189_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 736
    wildcards: ID=TARA_189_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_189_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_189_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_189_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 10:39:16 2020]
Finished job 736.
358 of 829 steps (43%) done

[Fri Dec  4 10:39:16 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_194_35m_0.22-3_prok.bam
    jobid: 325
    wildcards: ID=TARA_194_35m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_194_35m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_194_35m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 11:17:43 2020]
Finished job 294.
359 of 829 steps (43%) done

[Fri Dec  4 11:17:44 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_189_299m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_189_299m_0.22-3_prok-gene-coverages.tsv
    jobid: 735
    wildcards: ID=TARA_189_299m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_189_299m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_189_299m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_189_299m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:18:01 2020]
Finished job 735.
360 of 829 steps (43%) done

[Fri Dec  4 11:18:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD123.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD123-gene-coverages.tsv
    jobid: 437
    wildcards: ID=OSD123


        pileup.sh -in ../mapping-files/OSD123.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD123-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD123-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD123-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD123-gene-cov.tmp > ../mapping-files/OSD123-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD123-gene-cov-and-det.tmp ../mapping-files/OSD123-gene-cov.tmp
        
[Fri Dec  4 11:18:05 2020]
Finished job 437.
361 of 829 steps (44%) done

[Fri Dec  4 11:18:05 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_189_20m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_189_20m_0.22-3_prok-gene-coverages.tsv
    jobid: 734
    wildcards: ID=TARA_189_20m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_189_20m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_189_20m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_189_20m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:18:12 2020]
Finished job 734.
362 of 829 steps (44%) done

[Fri Dec  4 11:18:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_205_491m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_205_491m_0.22-3_prok-gene-coverages.tsv
    jobid: 745
    wildcards: ID=TARA_205_491m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_205_491m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_205_491m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_205_491m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:18:30 2020]
Finished job 745.
363 of 829 steps (44%) done

[Fri Dec  4 11:18:30 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_142_640m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_142_640m_0.22-3_prok-gene-coverages.tsv
    jobid: 703
    wildcards: ID=TARA_142_640m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_142_640m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_142_640m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_142_640m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_142_640m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_142_640m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_142_640m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_142_640m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_142_640m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:19:03 2020]
Finished job 703.
364 of 829 steps (44%) done

[Fri Dec  4 11:19:04 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/R16E-300m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/R16E-300m-9Ar-gene-coverages.tsv
    jobid: 815
    wildcards: ID=R16E-300m-9Ar


        pileup.sh -in ../mapping-files-HK/R16E-300m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/R16E-300m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/R16E-300m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/R16E-300m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/R16E-300m-9Ar-gene-cov.tmp > ../mapping-files-HK/R16E-300m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/R16E-300m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/R16E-300m-9Ar-gene-cov.tmp
        
[Fri Dec  4 11:19:15 2020]
Finished job 815.
365 of 829 steps (44%) done

[Fri Dec  4 11:19:15 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_188_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_188_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 733
    wildcards: ID=TARA_188_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_188_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_188_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_188_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:19:20 2020]
Finished job 733.
366 of 829 steps (44%) done

[Fri Dec  4 11:19:20 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_111_350m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_111_350m_0.22-3_prok-gene-coverages.tsv
    jobid: 661
    wildcards: ID=TARA_111_350m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_111_350m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_111_350m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_111_350m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:20:06 2020]
Finished job 661.
367 of 829 steps (44%) done

[Fri Dec  4 11:20:06 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD131.bam
    jobid: 32
    wildcards: ID=OSD131


        curr_run_accs=$(grep -w -m 1 "^OSD131" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD131 ${curr_run_accs}
        
[Fri Dec  4 11:20:58 2020]
Finished job 32.
368 of 829 steps (44%) done

[Fri Dec  4 11:20:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_188_17m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_188_17m_0.22-3_prok-gene-coverages.tsv
    jobid: 732
    wildcards: ID=TARA_188_17m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_188_17m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_188_17m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_188_17m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:21:07 2020]
Finished job 732.
369 of 829 steps (45%) done

[Fri Dec  4 11:21:07 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD15-0.bam
    jobid: 46
    wildcards: ID=OSD15-0


        curr_run_accs=$(grep -w -m 1 "^OSD15-0" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD15-0 ${curr_run_accs}
        
[Fri Dec  4 11:25:41 2020]
Finished job 154.
370 of 829 steps (45%) done

[Fri Dec  4 11:25:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD4.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD4-gene-coverages.tsv
    jobid: 515
    wildcards: ID=OSD4


        pileup.sh -in ../mapping-files/OSD4.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD4-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD4-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD4-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD4-gene-cov.tmp > ../mapping-files/OSD4-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD4-gene-cov-and-det.tmp ../mapping-files/OSD4-gene-cov.tmp
        
[Fri Dec  4 11:25:45 2020]
Finished job 515.
371 of 829 steps (45%) done

[Fri Dec  4 11:25:45 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD39.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD39-gene-coverages.tsv
    jobid: 514
    wildcards: ID=OSD39


        pileup.sh -in ../mapping-files/OSD39.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD39-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD39-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD39-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD39-gene-cov.tmp > ../mapping-files/OSD39-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD39-gene-cov-and-det.tmp ../mapping-files/OSD39-gene-cov.tmp
        
[Fri Dec  4 11:25:51 2020]
Finished job 514.
372 of 829 steps (45%) done

[Fri Dec  4 11:25:51 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_205_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_205_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 746
    wildcards: ID=TARA_205_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_205_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_205_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_205_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:25:57 2020]
Finished job 746.
373 of 829 steps (45%) done

[Fri Dec  4 11:25:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_066_30m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_066_30m_0.22-3_prok-gene-coverages.tsv
    jobid: 613
    wildcards: ID=TARA_066_30m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_066_30m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_066_30m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_066_30m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:26:08 2020]
Finished job 613.
374 of 829 steps (45%) done

[Fri Dec  4 11:26:08 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD77.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD77-gene-coverages.tsv
    jobid: 550
    wildcards: ID=OSD77


        pileup.sh -in ../mapping-files/OSD77.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD77-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD77-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD77-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD77-gene-cov.tmp > ../mapping-files/OSD77-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD77-gene-cov-and-det.tmp ../mapping-files/OSD77-gene-cov.tmp
        
[Fri Dec  4 11:26:13 2020]
Finished job 550.
375 of 829 steps (45%) done

[Fri Dec  4 11:26:13 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_065_850m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_065_850m_0.22-3_prok-gene-coverages.tsv
    jobid: 612
    wildcards: ID=TARA_065_850m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_065_850m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_065_850m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_065_850m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:27:39 2020]
Finished job 612.
376 of 829 steps (45%) done

[Fri Dec  4 11:27:39 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD132.bam
    jobid: 33
    wildcards: ID=OSD132


        curr_run_accs=$(grep -w -m 1 "^OSD132" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD132 ${curr_run_accs}
        
[Fri Dec  4 11:43:14 2020]
Finished job 46.
377 of 829 steps (45%) done

[Fri Dec  4 11:43:14 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD151.bam
    jobid: 47
    wildcards: ID=OSD151


        curr_run_accs=$(grep -w -m 1 "^OSD151" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD151 ${curr_run_accs}
        
[Fri Dec  4 11:43:25 2020]
Finished job 47.
378 of 829 steps (46%) done

[Fri Dec  4 11:43:25 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_206_411m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_206_411m_0.22-3_prok-gene-coverages.tsv
    jobid: 747
    wildcards: ID=TARA_206_411m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_206_411m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_206_411m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_206_411m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:43:41 2020]
Finished job 747.
379 of 829 steps (46%) done

[Fri Dec  4 11:43:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD78.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD78-gene-coverages.tsv
    jobid: 551
    wildcards: ID=OSD78


        pileup.sh -in ../mapping-files/OSD78.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD78-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD78-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD78-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD78-gene-cov.tmp > ../mapping-files/OSD78-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD78-gene-cov-and-det.tmp ../mapping-files/OSD78-gene-cov.tmp
        
[Fri Dec  4 11:43:45 2020]
Finished job 551.
380 of 829 steps (46%) done

[Fri Dec  4 11:43:45 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD133.bam
    jobid: 34
    wildcards: ID=OSD133


        curr_run_accs=$(grep -w -m 1 "^OSD133" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD133 ${curr_run_accs}
        
[Fri Dec  4 11:44:41 2020]
Finished job 34.
381 of 829 steps (46%) done

[Fri Dec  4 11:44:41 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_150_40m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_150_40m_0.22-3_prok-gene-coverages.tsv
    jobid: 708
    wildcards: ID=TARA_150_40m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_150_40m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_150_40m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_150_40m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:44:46 2020]
Finished job 708.
382 of 829 steps (46%) done

[Fri Dec  4 11:44:46 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD133.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD133-gene-coverages.tsv
    jobid: 448
    wildcards: ID=OSD133


        pileup.sh -in ../mapping-files/OSD133.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD133-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD133-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD133-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD133-gene-cov.tmp > ../mapping-files/OSD133-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD133-gene-cov-and-det.tmp ../mapping-files/OSD133-gene-cov.tmp
        
[Fri Dec  4 11:44:50 2020]
Finished job 448.
383 of 829 steps (46%) done

[Fri Dec  4 11:44:50 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD152-1.bam
    jobid: 48
    wildcards: ID=OSD152-1


        curr_run_accs=$(grep -w -m 1 "^OSD152-1" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD152-1 ${curr_run_accs}
        
[Fri Dec  4 11:46:46 2020]
Finished job 48.
384 of 829 steps (46%) done

[Fri Dec  4 11:46:46 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_206_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_206_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 748
    wildcards: ID=TARA_206_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_206_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_206_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_206_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 11:46:51 2020]
Finished job 748.
385 of 829 steps (46%) done

[Fri Dec  4 11:46:52 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/R16E-3236m-9Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/R16E-3236m-9Ar-gene-coverages.tsv
    jobid: 816
    wildcards: ID=R16E-3236m-9Ar


        pileup.sh -in ../mapping-files-HK/R16E-3236m-9Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/R16E-3236m-9Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/R16E-3236m-9Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/R16E-3236m-9Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/R16E-3236m-9Ar-gene-cov.tmp > ../mapping-files-HK/R16E-3236m-9Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/R16E-3236m-9Ar-gene-cov-and-det.tmp ../mapping-files-HK/R16E-3236m-9Ar-gene-cov.tmp
        
[Fri Dec  4 11:46:58 2020]
Finished job 816.
386 of 829 steps (47%) done

[Fri Dec  4 11:46:58 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD80-0.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD80-0-gene-coverages.tsv
    jobid: 552
    wildcards: ID=OSD80-0


        pileup.sh -in ../mapping-files/OSD80-0.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD80-0-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD80-0-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD80-0-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD80-0-gene-cov.tmp > ../mapping-files/OSD80-0-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD80-0-gene-cov-and-det.tmp ../mapping-files/OSD80-0-gene-cov.tmp
        
[Fri Dec  4 11:47:03 2020]
Finished job 552.
387 of 829 steps (47%) done

[Fri Dec  4 11:47:03 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_124_120m_0.1-0.22_girus.bam
    jobid: 265
    wildcards: ID=TARA_124_120m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_124_120m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_124_120m_0.1-0.22_girus ${curr_run_accs}
        
[Fri Dec  4 11:51:14 2020]
Finished job 33.
388 of 829 steps (47%) done

[Fri Dec  4 11:51:14 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD111.bam
    jobid: 15
    wildcards: ID=OSD111


        curr_run_accs=$(grep -w -m 1 "^OSD111" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD111 ${curr_run_accs}
        
[Fri Dec  4 11:53:29 2020]
Finished job 266.
389 of 829 steps (47%) done

[Fri Dec  4 11:53:29 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD52.bam
    jobid: 113
    wildcards: ID=OSD52


        curr_run_accs=$(grep -w -m 1 "^OSD52" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD52 ${curr_run_accs}
        
[Fri Dec  4 11:55:13 2020]
Finished job 15.
390 of 829 steps (47%) done

[Fri Dec  4 11:55:13 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_009_5m_0.22-1.6_girus.bam
    jobid: 155
    wildcards: ID=TARA_009_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_009_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_009_5m_0.22-1.6_girus ${curr_run_accs}
        
[Fri Dec  4 11:58:38 2020]
Finished job 113.
391 of 829 steps (47%) done

[Fri Dec  4 11:58:38 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_151_80m_0.22-3_prok.bam
    jobid: 295
    wildcards: ID=TARA_151_80m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_151_80m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_151_80m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 12:03:18 2020]
Finished job 392.
392 of 829 steps (47%) done

[Fri Dec  4 12:03:18 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_068_700m_0.45-0.8_girus.bam
    jobid: 211
    wildcards: ID=TARA_068_700m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_068_700m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_068_700m_0.45-0.8_girus ${curr_run_accs}
        
[Fri Dec  4 12:06:29 2020]
Finished job 324.
393 of 829 steps (47%) done

[Fri Dec  4 12:06:29 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_124_120m_0.45-0.8_girus.bam
    jobid: 267
    wildcards: ID=TARA_124_120m_0.45-0.8_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_124_120m_0.45-0.8_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_124_120m_0.45-0.8_girus ${curr_run_accs}
        
[Fri Dec  4 12:17:35 2020]
Finished job 265.
394 of 829 steps (48%) done

[Fri Dec  4 12:17:35 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_039_5m_0.22-1.6_girus.bam
    jobid: 351
    wildcards: ID=TARA_039_5m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_039_5m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_039_5m_0.22-1.6_girus ${curr_run_accs}
        
[Fri Dec  4 12:19:00 2020]
Finished job 351.
395 of 829 steps (48%) done

[Fri Dec  4 12:19:00 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N04-3800m-8Ar.bam
    jobid: 393
    wildcards: ID=N04-3800m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N04-3800m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N04-3800m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N04-3800m-8Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 12:23:01 2020]
Finished job 325.
396 of 829 steps (48%) done

[Fri Dec  4 12:23:01 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD28.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD28-gene-coverages.tsv
    jobid: 505
    wildcards: ID=OSD28


        pileup.sh -in ../mapping-files/OSD28.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD28-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD28-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD28-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD28-gene-cov.tmp > ../mapping-files/OSD28-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD28-gene-cov-and-det.tmp ../mapping-files/OSD28-gene-cov.tmp
        
[Fri Dec  4 12:23:07 2020]
Finished job 505.
397 of 829 steps (48%) done

[Fri Dec  4 12:23:07 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD103.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD103-gene-coverages.tsv
    jobid: 421
    wildcards: ID=OSD103


        pileup.sh -in ../mapping-files/OSD103.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD103-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD103-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD103-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD103-gene-cov.tmp > ../mapping-files/OSD103-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD103-gene-cov-and-det.tmp ../mapping-files/OSD103-gene-cov.tmp
        
[Fri Dec  4 12:23:11 2020]
Finished job 421.
398 of 829 steps (48%) done

[Fri Dec  4 12:23:11 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_124_5m_0.1-0.22_girus.bam
    jobid: 268
    wildcards: ID=TARA_124_5m_0.1-0.22_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_124_5m_0.1-0.22_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_124_5m_0.1-0.22_girus ${curr_run_accs}
        
[Fri Dec  4 12:24:23 2020]
Finished job 391.
399 of 829 steps (48%) done

[Fri Dec  4 12:24:23 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD113.bam
    jobid: 16
    wildcards: ID=OSD113


        curr_run_accs=$(grep -w -m 1 "^OSD113" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD113 ${curr_run_accs}
        
[Fri Dec  4 12:25:36 2020]
Finished job 16.
400 of 829 steps (48%) done

[Fri Dec  4 12:25:36 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD53.bam
    jobid: 114
    wildcards: ID=OSD53


        curr_run_accs=$(grep -w -m 1 "^OSD53" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD53 ${curr_run_accs}
        
[Fri Dec  4 12:27:10 2020]
Finished job 114.
401 of 829 steps (48%) done

[Fri Dec  4 12:27:10 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_018_5m_0.22-1.6_prok.bam
    jobid: 156
    wildcards: ID=TARA_018_5m_0.22-1.6_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_018_5m_0.22-1.6_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_018_5m_0.22-1.6_prok ${curr_run_accs}
        
[Fri Dec  4 13:08:07 2020]
Finished job 393.
402 of 829 steps (48%) done

[Fri Dec  4 13:08:08 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_152_5-160m_0.22-3_prok.bam
    jobid: 296
    wildcards: ID=TARA_152_5-160m_0.22-3_prok


        curr_run_accs=$(grep -w -m 1 "^TARA_152_5-160m_0.22-3_prok" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_152_5-160m_0.22-3_prok ${curr_run_accs}
        
[Fri Dec  4 13:39:25 2020]
Finished job 268.
403 of 829 steps (49%) done

[Fri Dec  4 13:39:25 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/TARA_070_5m_0.22-0.45_girus.bam
    jobid: 212
    wildcards: ID=TARA_070_5m_0.22-0.45_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_070_5m_0.22-0.45_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 TARA_070_5m_0.22-0.45_girus ${curr_run_accs}
        
[Fri Dec  4 14:07:49 2020]
Finished job 210.
404 of 829 steps (49%) done

[Fri Dec  4 14:07:49 2020]
rule dl_454_sample_and_run_mapping:
    input: ../mapping-files-pyro/all-combined.1.bt2, ../mapping-files-pyro/all-combined.2.bt2, ../mapping-files-pyro/all-combined.3.bt2, ../mapping-files-pyro/all-combined.4.bt2, ../mapping-files-pyro/all-combined.rev.1.bt2, ../mapping-files-pyro/all-combined.rev.2.bt2
    output: ../mapping-files-pyro/TARA_039_270m_0.22-1.6_girus.bam
    jobid: 352
    wildcards: ID=TARA_039_270m_0.22-1.6_girus


        curr_run_accs=$(grep -w -m 1 "^TARA_039_270m_0.22-1.6_girus" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-454-sample.sh ../mapping-files-pyro ../mapping-files-pyro/all-combined 4 TARA_039_270m_0.22-1.6_girus ${curr_run_accs}
        
[Fri Dec  4 14:10:45 2020]
Finished job 352.
405 of 829 steps (49%) done

[Fri Dec  4 14:10:45 2020]
rule dl_HK_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files-HK/N07-0m-8Ar.bam
    jobid: 394
    wildcards: ID=N07-0m-8Ar


        # getting links to forward and reverse reads
        forward_SRR_acc=$(grep "^N07-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 2)
        reverse_SRR_acc=$(grep "^N07-0m-8Ar" HK-sample-and-run-accessions.tsv | cut -f 3)

        R1_link=$(grep "^${forward_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)
        R2_link=$(grep "^${reverse_SRR_acc}" HK-SRRs-and-links.tsv | cut -f 2)

        bash scripts/dl-and-map-HK-sample.sh ../mapping-files-HK ../mapping-files-HK/all-combined 4 N07-0m-8Ar "${R1_link}" "${R2_link}"
        
[Fri Dec  4 14:47:12 2020]
Finished job 295.
406 of 829 steps (49%) done

[Fri Dec  4 14:47:12 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD29.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD29-gene-coverages.tsv
    jobid: 506
    wildcards: ID=OSD29


        pileup.sh -in ../mapping-files/OSD29.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD29-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD29-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD29-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD29-gene-cov.tmp > ../mapping-files/OSD29-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD29-gene-cov-and-det.tmp ../mapping-files/OSD29-gene-cov.tmp
        
[Fri Dec  4 14:47:19 2020]
Finished job 506.
407 of 829 steps (49%) done

[Fri Dec  4 14:47:19 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD105.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD105-gene-coverages.tsv
    jobid: 422
    wildcards: ID=OSD105


        pileup.sh -in ../mapping-files/OSD105.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD105-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD105-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD105-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD105-gene-cov.tmp > ../mapping-files/OSD105-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD105-gene-cov-and-det.tmp ../mapping-files/OSD105-gene-cov.tmp
        
[Fri Dec  4 14:47:25 2020]
Finished job 422.
408 of 829 steps (49%) done

[Fri Dec  4 14:47:25 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD80-2.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD80-2-gene-coverages.tsv
    jobid: 553
    wildcards: ID=OSD80-2


        pileup.sh -in ../mapping-files/OSD80-2.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD80-2-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD80-2-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD80-2-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD80-2-gene-cov.tmp > ../mapping-files/OSD80-2-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD80-2-gene-cov-and-det.tmp ../mapping-files/OSD80-2-gene-cov.tmp
        
[Fri Dec  4 14:47:32 2020]
Finished job 553.
409 of 829 steps (49%) done

[Fri Dec  4 14:47:32 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD141.bam
    jobid: 36
    wildcards: ID=OSD141


        curr_run_accs=$(grep -w -m 1 "^OSD141" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD141 ${curr_run_accs}
        
[Fri Dec  4 14:47:38 2020]
Finished job 394.
410 of 829 steps (49%) done

[Fri Dec  4 14:47:38 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_208_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_208_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 749
    wildcards: ID=TARA_208_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_208_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_208_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_208_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 14:47:46 2020]
Finished job 749.
411 of 829 steps (50%) done

[Fri Dec  4 14:47:46 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD152-5.bam
    jobid: 49
    wildcards: ID=OSD152-5


        curr_run_accs=$(grep -w -m 1 "^OSD152-5" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD152-5 ${curr_run_accs}
        
[Fri Dec  4 14:48:36 2020]
Finished job 36.
412 of 829 steps (50%) done

[Fri Dec  4 14:48:36 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD14.bam
    jobid: 35
    wildcards: ID=OSD14


        curr_run_accs=$(grep -w -m 1 "^OSD14" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD14 ${curr_run_accs}
        
[Fri Dec  4 14:49:11 2020]
Finished job 49.
413 of 829 steps (50%) done

[Fri Dec  4 14:49:11 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD153.bam
    jobid: 50
    wildcards: ID=OSD153


        curr_run_accs=$(grep -w -m 1 "^OSD153" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD153 ${curr_run_accs}
        
[Fri Dec  4 14:49:25 2020]
Finished job 35.
414 of 829 steps (50%) done

[Fri Dec  4 14:49:25 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_194_35m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_194_35m_0.22-3_prok-gene-coverages.tsv
    jobid: 739
    wildcards: ID=TARA_194_35m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_194_35m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_194_35m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_194_35m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 14:49:33 2020]
Finished job 739.
415 of 829 steps (50%) done

[Fri Dec  4 14:49:34 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_209_351m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_209_351m_0.22-3_prok-gene-coverages.tsv
    jobid: 750
    wildcards: ID=TARA_209_351m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_209_351m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_209_351m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_209_351m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 14:50:06 2020]
Finished job 750.
416 of 829 steps (50%) done

[Fri Dec  4 14:50:06 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_193_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_193_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 738
    wildcards: ID=TARA_193_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_193_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_193_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_193_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 14:50:13 2020]
Finished job 738.
417 of 829 steps (50%) done

[Fri Dec  4 14:50:13 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD81.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD81-gene-coverages.tsv
    jobid: 554
    wildcards: ID=OSD81


        pileup.sh -in ../mapping-files/OSD81.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD81-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD81-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD81-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD81-gene-cov.tmp > ../mapping-files/OSD81-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD81-gene-cov-and-det.tmp ../mapping-files/OSD81-gene-cov.tmp
        
[Fri Dec  4 14:50:19 2020]
Finished job 554.
418 of 829 steps (50%) done

[Fri Dec  4 14:50:19 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD142.bam
    jobid: 37
    wildcards: ID=OSD142


        curr_run_accs=$(grep -w -m 1 "^OSD142" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD142 ${curr_run_accs}
        
[Fri Dec  4 14:50:23 2020]
Finished job 50.
419 of 829 steps (51%) done

[Fri Dec  4 14:50:23 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD154.bam
    jobid: 51
    wildcards: ID=OSD154


        curr_run_accs=$(grep -w -m 1 "^OSD154" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD154 ${curr_run_accs}
        
[Fri Dec  4 14:51:08 2020]
Finished job 37.
420 of 829 steps (51%) done

[Fri Dec  4 14:51:08 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD113.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD113-gene-coverages.tsv
    jobid: 430
    wildcards: ID=OSD113


        pileup.sh -in ../mapping-files/OSD113.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD113-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD113-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD113-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD113-gene-cov.tmp > ../mapping-files/OSD113-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD113-gene-cov-and-det.tmp ../mapping-files/OSD113-gene-cov.tmp
        
[Fri Dec  4 14:51:14 2020]
Finished job 430.
421 of 829 steps (51%) done

[Fri Dec  4 14:51:14 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/TARA_209_5m_0.22-3_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/TARA_209_5m_0.22-3_prok-gene-coverages.tsv
    jobid: 751
    wildcards: ID=TARA_209_5m_0.22-3_prok


        pileup.sh -in ../mapping-files/TARA_209_5m_0.22-3_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov.tmp > ../mapping-files/TARA_209_5m_0.22-3_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov-and-det.tmp ../mapping-files/TARA_209_5m_0.22-3_prok-gene-cov.tmp
        
[Fri Dec  4 14:51:25 2020]
Finished job 751.
422 of 829 steps (51%) done

[Fri Dec  4 14:51:25 2020]
rule parse_gene_level_cov_and_det_HK_samples:
    input: ../mapping-files-HK/N07-0m-8Ar.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-HK/N07-0m-8Ar-gene-coverages.tsv
    jobid: 808
    wildcards: ID=N07-0m-8Ar


        pileup.sh -in ../mapping-files-HK/N07-0m-8Ar.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-HK/N07-0m-8Ar-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-HK/N07-0m-8Ar-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-HK/N07-0m-8Ar-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-HK/N07-0m-8Ar-gene-cov.tmp > ../mapping-files-HK/N07-0m-8Ar-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-HK/N07-0m-8Ar-gene-cov-and-det.tmp ../mapping-files-HK/N07-0m-8Ar-gene-cov.tmp
        
[Fri Dec  4 14:51:31 2020]
Finished job 808.
423 of 829 steps (51%) done

[Fri Dec  4 14:51:32 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD9.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD9-gene-coverages.tsv
    jobid: 555
    wildcards: ID=OSD9


        pileup.sh -in ../mapping-files/OSD9.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD9-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD9-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD9-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD9-gene-cov.tmp > ../mapping-files/OSD9-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD9-gene-cov-and-det.tmp ../mapping-files/OSD9-gene-cov.tmp
        
[Fri Dec  4 14:51:37 2020]
Finished job 555.
424 of 829 steps (51%) done

[Fri Dec  4 14:51:37 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD146.bam
    jobid: 41
    wildcards: ID=OSD146


        curr_run_accs=$(grep -w -m 1 "^OSD146" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD146 ${curr_run_accs}
        
[Fri Dec  4 14:51:51 2020]
Finished job 51.
425 of 829 steps (51%) done

[Fri Dec  4 14:51:52 2020]
rule dl_illumina_sample_and_run_mapping:
    input: ../mapping-files/all-combined.1.bt2, ../mapping-files/all-combined.2.bt2, ../mapping-files/all-combined.3.bt2, ../mapping-files/all-combined.4.bt2, ../mapping-files/all-combined.rev.1.bt2, ../mapping-files/all-combined.rev.2.bt2
    output: ../mapping-files/OSD157.bam
    jobid: 55
    wildcards: ID=OSD157


        curr_run_accs=$(grep -w -m 1 "^OSD157" sample-and-run-accessions.tsv | cut -f 2)
        bash scripts/dl-and-map-sample.sh ../mapping-files ../mapping-files/all-combined 4 OSD157 ${curr_run_accs}
        
[Fri Dec  4 14:52:37 2020]
Finished job 41.
426 of 829 steps (51%) done

[Fri Dec  4 14:52:37 2020]
rule parse_gene_level_cov_and_det:
    input: ../mapping-files/OSD93.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files/OSD93-gene-coverages.tsv
    jobid: 559
    wildcards: ID=OSD93


        pileup.sh -in ../mapping-files/OSD93.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files/OSD93-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files/OSD93-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files/OSD93-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files/OSD93-gene-cov.tmp > ../mapping-files/OSD93-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files/OSD93-gene-cov-and-det.tmp ../mapping-files/OSD93-gene-cov.tmp
        
[Fri Dec  4 14:52:44 2020]
Finished job 559.
427 of 829 steps (52%) done

[Fri Dec  4 14:52:44 2020]
rule parse_454_gene_level_cov_and_det:
    input: ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok.bam, ../genes-and-annotations/all-genes.fa
    output: ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-coverages.tsv
    jobid: 755
    wildcards: ID=TARA_030_5m_0.22-1.6_prok


        pileup.sh -in ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp
        
[Fri Dec  4 14:52:45 2020]
Error in rule parse_454_gene_level_cov_and_det:
    jobid: 755
    output: ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-coverages.tsv
    shell:
        
        pileup.sh -in ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok.bam fastaorf=../genes-and-annotations/all-genes.fa outorf=../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp > /dev/null 2>&1

        # filtering coverages based on detection
        grep -v "#" ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp | awk -F $'	' ' BEGIN {OFS=FS} { if ( $10 <= 0.5 ) $4 = 0 } { print $1,$4 } ' > ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp
        cat <( printf "gene_ID	coverage
" ) ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp > ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-coverages.tsv

          # removing intermediate files
        rm ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov-and-det.tmp ../mapping-files-pyro/TARA_030_5m_0.22-1.6_prok-gene-cov.tmp
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Fri Dec  4 14:53:21 2020]
Finished job 55.
428 of 829 steps (52%) done
[Fri Dec  4 14:55:50 2020]
Finished job 267.
429 of 829 steps (52%) done
[Fri Dec  4 15:01:42 2020]
Finished job 211.
430 of 829 steps (52%) done
[Fri Dec  4 15:13:56 2020]
Finished job 156.
431 of 829 steps (52%) done
[Fri Dec  4 15:21:51 2020]
Finished job 155.
432 of 829 steps (52%) done
[Fri Dec  4 15:23:24 2020]
Finished job 296.
433 of 829 steps (52%) done
[Fri Dec  4 15:26:26 2020]
Finished job 212.
434 of 829 steps (52%) done
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /data2/mlee/Thaum/metagenome-dl-and-mapping-workflow/.snakemake/log/2020-12-02T134138.638406.snakemake.log
